{"componentChunkName":"component---src-templates-blog-post-js","path":"/vue-reactivity","result":{"data":{"post":{"excerpt":"简介 reactivity  是 vue next 里面通过  proxy  +  reflect  实现的响应式模块。 源码路径：  packages/reactivity 入口文件： packages/reactivity/src/index.ts…","body":"function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key];}}return target;}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key];}return target;}/* @jsx mdx */var _frontmatter={\"title\":\"Vue3.0 源码之 Reactivity\",\"slug\":\"vue-reactivity\",\"date\":\"2020-06-16T00:00:00.000Z\",\"cover\":\"./cover.jpg\",\"generate-card\":false,\"language\":\"en\",\"tags\":[\"programming\",\"javascript\",\"vue3.0\"]};var makeShortcode=function makeShortcode(name){return function MDXDefaultShortcode(props){console.warn(\"Component \"+name+\" was not imported, exported, or provided by MDXProvider as global scope\");return mdx(\"div\",props);};};var layoutProps={_frontmatter:_frontmatter};var MDXLayout=\"wrapper\";return function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,[\"components\"]);return mdx(MDXLayout,_extends({},layoutProps,props,{components:components,mdxType:\"MDXLayout\"}),mdx(\"h1\",{\"id\":\"简介\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h1\"},{\"href\":\"#%E7%AE%80%E4%BB%8B\",\"aria-label\":\"简介 permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"\\u7B80\\u4ECB\"),mdx(\"p\",null,mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"reactivity\"),\" \\u662F vue next \\u91CC\\u9762\\u901A\\u8FC7 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"proxy\"),\" + \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"reflect\"),\" \\u5B9E\\u73B0\\u7684\\u54CD\\u5E94\\u5F0F\\u6A21\\u5757\\u3002\"),mdx(\"p\",null,\"\\u6E90\\u7801\\u8DEF\\u5F84\\uFF1A \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"packages/reactivity\")),mdx(\"p\",null,\"\\u5165\\u53E3\\u6587\\u4EF6\\uFF1A\",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"packages/reactivity/src/index.ts\")),mdx(\"p\",null,\"\\u7591\\u95EE\\u70B9\\u89E3\\u7B54\\uFF1A\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"shallowReactive\"),\" \\u76F8\\u5F53\\u4E8E\\u6D45\\u590D\\u5236\\uFF0C\\u53EA\\u9488\\u5BF9\\u5BF9\\u8C61\\u7684\\u4E00\\u7EA7 reactive\\uFF0C\\u5D4C\\u5957\\u7684\\u5BF9\\u8C61\\u4E0D\\u4F1A reactive\"),mdx(\"p\",{parentName:\"li\"},\"\\u53C2\\u8003\\uFF1A\\u6D4B\\u8BD5\\u4EE3\\u7801 reactive.spec.ts\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"ts\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-ts\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-ts\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"test\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'should keep reactive properties reactive'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" props\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token builtin\"}),\"any\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"shallowReactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" foo\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n      props\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"n \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" foo\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"2\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"isReactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"props\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\")))))),mdx(\"p\",null,mdx(\"a\",_extends({parentName:\"p\"},{\"href\":\"https://github.com/gcclll/vue-next-code-read/tree/master/bakups/reactive_over\"}),\"\\u5B8C\\u6574\\u7684 reactivity \\u6A21\\u5757\\u4EE3\\u7801\\u94FE\\u63A5\\u3002\")),mdx(\"h2\",{\"id\":\"阶段代码链接\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#%E9%98%B6%E6%AE%B5%E4%BB%A3%E7%A0%81%E9%93%BE%E6%8E%A5\",\"aria-label\":\"阶段代码链接 permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"\\u9636\\u6BB5\\u4EE3\\u7801\\u94FE\\u63A5\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},mdx(\"a\",_extends({parentName:\"li\"},{\"href\":\"#code1\"}),\"\\u6D4B\\u8BD5\\u7528\\u4F8B \",mdx(\"code\",_extends({parentName:\"a\"},{\"className\":\"language-text\"}),\"reactive.spec.ts\"),\" \\u901A\\u8FC7\\u540E\\u7684\\u4EE3\\u7801\\u94FE\\u63A5\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"a\",_extends({parentName:\"li\"},{\"href\":\"#code2\"}),\"\\u6D4B\\u8BD5\\u7528\\u4F8B \",mdx(\"code\",_extends({parentName:\"a\"},{\"className\":\"language-text\"}),\"effect.spec.ts\"),\"\\u901A\\u8FC7\\u540E\\u7684\\u4EE3\\u7801\\u94FE\\u63A5\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"a\",_extends({parentName:\"li\"},{\"href\":\"#file-0521\"}),\"05-21\\u53F7 git pull \\u540E\\u7684\\u66F4\\u65B0\\u5408 \\u5E76\\u4E4B\\u540E\\u7684 reactive.js\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"a\",_extends({parentName:\"li\"},{\"href\":\"https://github.com/gcclll/vue-next-code-read/tree/master/bakups/reactive_files_v\"}),\"\\u5C06 reactive.js \\u62C6\\u5206\\u6210 effect.js + baseHandlers.js\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"a\",_extends({parentName:\"li\"},{\"href\":\"https://github.com/gcclll/vue-next-code-read/tree/master/bakups/reactive_collection_get_set\"}),\"\\u5B8C\\u6210 collection handlers(set + get)\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"a\",_extends({parentName:\"li\"},{\"href\":\"https://github.com/gcclll/vue-next-code-read/tree/master/bakups/reactive_collection_map_set\"}),\"\\u5B8C\\u6210 collection Map, Set \\u652F\\u6301\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"a\",_extends({parentName:\"li\"},{\"href\":\"https://github.com/gcclll/vue-next-code-read/tree/master/bakups/reactive_ref\"}),\"\\u652F\\u6301 Ref \\u7C7B\\u578B\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"a\",_extends({parentName:\"li\"},{\"href\":\"https://github.com/gcclll/vue-next-code-read/tree/master/bakups/reactive_computed\"}),\"\\u652F\\u6301 computed \\u5C5E\\u6027\"))),mdx(\"h2\",{\"id\":\"文中重点链接\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#%E6%96%87%E4%B8%AD%E9%87%8D%E7%82%B9%E9%93%BE%E6%8E%A5\",\"aria-label\":\"文中重点链接 permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"\\u6587\\u4E2D\\u91CD\\u70B9\\u94FE\\u63A5\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},mdx(\"a\",_extends({parentName:\"li\"},{\"href\":\"#test-case-rloops\"}),\"vue \\u4E2D\\u662F\\u5982\\u4F55\\u9632\\u6B62\\u5728 effect(fn) \\u7684 fn \\u4E2D\\u9632\\u6B62 ob.prop++ \\u5BFC\\u81F4\\u6808\\u6EA2\\u51FA\\u7684\\uFF1F\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"a\",_extends({parentName:\"li\"},{\"href\":\"#test-case-json\"}),\"vue \\u4E2D\\u4E3A\\u4F55\\u80FD\\u5BF9 JSON.parse(JSON.stringify({})) \\u8D77\\u4F5C\\u7528\\u7684\\uFF1F\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"a\",_extends({parentName:\"li\"},{\"href\":\"#question-this\"}),\"\\u96C6\\u5408 handlers \\u7684 get \\u51FD\\u6570\\u5B9E\\u73B0 this \\u95EE\\u9898\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"a\",_extends({parentName:\"li\"},{\"href\":\"#question-raw-key\"}),\"Key \\u548C rawKey \\u7684\\u95EE\\u9898(get \\u4E2D)\\uFF0C\\u4E3A\\u4EC0\\u4E48\\u8981\\u4E24\\u6B21 track:get\\uFF1F\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"a\",_extends({parentName:\"li\"},{\"href\":\"#question-key1-key11\"}),\"\\u4E3A\\u4EC0\\u4E48 key1 \\u548C toReactive(key1) \\u540E\\u7684 key11 \\u524D\\u540E set \\u4F1A\\u6539\\u53D8 key1 \\u5BF9\\u5E94\\u7684\\u503C\\uFF1F\\uFF1F\\uFF1F\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"a\",_extends({parentName:\"li\"},{\"href\":\"#reactive-nest-ref\"}),\"\\u5982\\u679C Ref \\u7C7B\\u578B\\u653E\\u5728\\u4E00\\u4E2A\\u5BF9\\u8C61\\u4E2D reactive \\u5316\\u4F1A\\u6709\\u4EC0\\u4E48\\u7ED3\\u679C\\uFF1F\\uFF1F\\uFF1F\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"a\",_extends({parentName:\"li\"},{\"href\":\"#test-case-computed-chained\"}),\"\\u8BA1\\u7B97\\u5C5E\\u6027\\u7684\\u94FE\\u5F0F\\u5D4C\\u5957\\u4F7F\\u7528\\u8F93\\u51FA\\u7ED3\\u679C\\u8BE6\\u7EC6\\u5206\\u6790\\u8FC7\\u7A0B(\\u60F3\\u8981\\u900F\\u5F7Bcomputed\\u8BF7\\u770B\\u8FD9\\u91CC\\uFF01\\uFF01\\uFF01)\"))),mdx(\"h2\",{\"id\":\"遗留问题\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#%E9%81%97%E7%95%99%E9%97%AE%E9%A2%98\",\"aria-label\":\"遗留问题 permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"\\u9057\\u7559\\u95EE\\u9898\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},mdx(\"strong\",{parentName:\"li\"},mdx(\"font\",{color:\"green\"},\"DONE\")),\" \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"ownKeys\"),\" \\u4EE3\\u7406\\u6536\\u96C6\\u7684\\u4F9D\\u8D56\\u4E0D\\u80FD\\u88AB\\u89E6\\u53D1\\u3002\"),mdx(\"li\",{parentName:\"ol\"},mdx(\"font\",{color:\"red\"},\"TODO\"),\" [Ref:a \\u7C7B\\u578B\\u5728\\u5BF9\\u8C61\\u4E2D\\u6267\\u884C obj.a++ \\u4E4B\\u540E\\u4F9D\\u65E7\\u662F Ref \\u7C7B\\u578B\\u7684 a ???](#question-ref-++)\")),mdx(\"h2\",{\"id\":\"更新\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#%E6%9B%B4%E6%96%B0\",\"aria-label\":\"更新 permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"\\u66F4\\u65B0\"),mdx(\"h3\",{\"id\":\"2020-05-21-211907-git-pull\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h3\"},{\"href\":\"#2020-05-21-211907-git-pull\",\"aria-label\":\"2020 05 21 211907 git pull permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"2020-05-21 21:19:07 git pull\"),mdx(\"h1\",{\"id\":\"模块结构\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h1\"},{\"href\":\"#%E6%A8%A1%E5%9D%97%E7%BB%93%E6%9E%84\",\"aria-label\":\"模块结构 permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"\\u6A21\\u5757\\u7ED3\\u6784\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"__tests__/\"),\" \\u6D4B\\u8BD5\\u4EE3\\u7801\\u76EE\\u5F55\"),mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"src/\"),\" \\u4E3B\\u8981\\u4EE3\\u7801\\u76EE\\u5F55\")),mdx(\"p\",null,mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"src\"),\" \\u76EE\\u5F55\\u4E0B\\u7684\\u6587\\u4EF6\\uFF1A\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"baseHandler.ts\"),\" \\u4F20\\u5165\\u7ED9\\u4EE3\\u7406\\u7684\\u5BF9\\u8C61\\uFF0C\\u4EE3\\u7406 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"Object/Array\"),\" \\u65F6\\u4F7F\\u7528\\u7684 Handlers\\u3002\"),mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"collectionHandlers.ts\"),\" \\u4F20\\u5165\\u7ED9\\u4EE3\\u7406\\u7684\\u5BF9\\u8C61\\uFF0C\\u4EE3\\u7406 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"[Week]Set/Map\"),\"\\u7C7B\\u578B\\u65F6\\u4F7F\\u7528\\u7684 Handlers\\u3002\"),mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"computed.ts\"),\" \\u8BA1\\u7B97\\u5C5E\\u6027\\u4EE3\\u7801\"),mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"effect.ts\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"operations.ts\"),\" \\u64CD\\u4F5C\\u7C7B\\u578B\\u679A\\u4E3E\"),mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"reactive.ts\"),\" \\u4E3B\\u8981\\u4EE3\\u7801\"),mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"ref.ts\"),\" \")),mdx(\"h1\",{\"id\":\"proxy-和-reflect-回顾\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h1\"},{\"href\":\"#proxy-%E5%92%8C-reflect-%E5%9B%9E%E9%A1%BE\",\"aria-label\":\"proxy 和 reflect 回顾 permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"Proxy \\u548C Reflect \\u56DE\\u987E\"),mdx(\"p\",null,\"\\u5C06 reactive -> createReactiveObject \\u7B80\\u5316\\u5408\\u5E76\\uFF1A\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" toProxy\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" toRaw\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" baseHandlers\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" collectionHandlers\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ... \\u5FC5\\u987B\\u662F\\u5BF9\\u8C61 return\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ... \\u5DF2\\u7ECF\\u8BBE\\u7F6E\\u8FC7\\u4EE3\\u7406\\u4E86\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" observed \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"null\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ... \\u672C\\u8EAB\\u5C31\\u662F\\u4EE3\\u7406\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ... \\u767D\\u540D\\u5355\\u68C0\\u6D4B\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ... handlers\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// new \\u4EE3\\u7406\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" handlers \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" baseHandlers \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"||\"),\" collectionHandlers \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"||\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ...\"),\"\\n  observed \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Proxy\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" handlers\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u7F13\\u5B58\\u4EE3\\u7406\\u8BBE\\u7F6E\\u7ED3\\u679C\\u5230 toProxy, toRaw\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" observed\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",null,\"\\u589E\\u52A0\\u4E00\\u4E2A reactive \\u5BF9\\u8C61\\uFF1A\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" target \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  name\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'vuejs'\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" observed \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"null\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"null\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function-variable function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" prop\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" receiver\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    console\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" prop\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" receiver \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" observed\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'get'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" observed\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\t\"))),mdx(\"p\",null,\"\\u8F93\\u51FA\\u7ED3\\u679C\\uFF1A\"),mdx(\"blockquote\",null,mdx(\"p\",{parentName:\"blockquote\"},\"{name: \\u201Cvuejs\\u201D} Proxy {name: \\u201Cvuejs\\u201D}\"),mdx(\"p\",{parentName:\"blockquote\"},\"=> original.name\\n\\u201Cvuejs\\u201D\\n=> observed.name\\nindex.js:28 true \\u201Cname\\u201D true \\u201Cget\\u201D\\nundefined\\n=> observed === original\\nfalse\")),mdx(\"p\",null,\"\\u8BBF\\u95EE target, observed \\u7684\\u5C5E\\u6027 name \\u7ED3\\u679C\\u5982\\u4E0A\\uFF0C\",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"observed\"),\" \\u662F\\u88AB\\u4EE3\\u7406\\u4E4B\\u540E\\u7684\\u5BF9\\u8C61\\u3002\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"Observed.name \\u8F93\\u51FA\\u7ED3\\u679C\\u662F handler.get \\u6267\\u884C\\u4E4B\\u540E\\u7684\\u7ED3\\u679C\\uFF0C\\u56E0\\u4E3A\\u6CA1\\u4EFB\\u4F55\\u8FD4\\u56DE\\u6240\\u4EE5\\u662F \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"undefined\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"get(target, prop, receiver)\"),\" \\u6709\\u4E09\\u4E2A\\u53C2\\u6570\\uFF0C\\u5206\\u522B\\u4EE3\\u8868\",mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},\"target: \\u88AB\\u4EE3\\u7406\\u7684\\u5BF9\\u8C61\\uFF0C\\u5373\\u539F\\u59CB\\u7684\\u90A3\\u4E2A target \\u5BF9\\u8C61\"),mdx(\"li\",{parentName:\"ul\"},\"prop: \\u8981\\u83B7\\u53D6\\u5BF9\\u8C61\\u7684\\u5C5E\\u6027\\u503C\\u7684 key\"),mdx(\"li\",{parentName:\"ul\"},\"receiver: \\u4EE3\\u7406\\u4E4B\\u540E\\u7684\\u5BF9\\u8C61\\uFF0C\\u5373 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"observed\"))))),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"\\u5176\\u4ED6\\u4E3B\\u8981\\u51E0\\u4E2A\\u4EE3\\u7406\\u65B9\\u6CD5\"),\"\\uFF1A\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"set\"),\" \\u8D4B\\u503C\\u7684\\u65F6\\u5019\\u89E6\\u53D1\\uFF0C\\u5BF9\\u5E94 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"Reflect.set(target, prop, value)\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"get\"),\" \\u53D6\\u503C\\u7684\\u65F6\\u5019\\u89E6\\u53D1\\uFF0C\\u5BF9\\u5E94 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"Reflect.get(target, prop, reciver)\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"ownKeys\"),\" \\u4F7F\\u7528 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"for...in\"),\" \\u65F6\\u89E6\\u53D1\\uFF0C\\u5BF9\\u5E94 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"Reflect.ownKeys(target)\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"has\"),\" \\u4F7F\\u7528 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"prop in obj\"),\" \\u65F6\\u89E6\\u53D1\\uFF0C\\u5BF9\\u5E94\\u8BED\\u6CD5 \\uFF1A \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"... in ...\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"deleteProperty\"),\" \\u4F7F\\u7528 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"delete obj.name\"),\" \\u89E6\\u53D1\\uFF0C\\u5BF9\\u5E94 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"delete obj.name\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"apply\"),\" \\u88AB\\u4EE3\\u7406\\u5BF9\\u8C61\\u662F\\u51FD\\u6570\\u7684\\u65F6\\u5019\\uFF0C\\u901A\\u8FC7 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"fn.apply()\"),\" \\u65F6\\u89E6\\u53D1\\uFF0Chandler \\u91CC\\u5BF9\\u5E94 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"fn()\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"construct\"),\" \\u6784\\u9020\\u5668\\uFF0C\",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"new target()\"),\" \\u65F6\\u89E6\\u53D1\"),mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"getPrototypeOf\"),\" \\u8C03\\u7528 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"Object.getPrototypeOf(target)\"),\" \\u89E6\\u53D1\\uFF0C\\u8FD4\\u56DE\\u5BF9\\u8C61 \\u6216 null\"),mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\" setPrototypeOf\"),\" \\u8BBE\\u7F6E\\u5BF9\\u8C61\\u539F\\u578B\\u65F6\\u89E6\\u53D1\\uFF0C\\u5982\\uFF1A \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"obj.prototype = xxx\"))),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" original \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  name\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'vuejs'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  foo\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\noriginal \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" test\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" observed \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"original\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"null\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"null\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function-variable function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" prop\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" receiver\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    console\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" original\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" prop\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" receiver \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" observed\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'get'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" Reflect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"...\"),\"arguments\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function-variable function\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" prop\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" value\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    console\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"prop\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'set'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    Reflect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" prop\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function-variable function\"}),\"ownKeys\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    console\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'get own keys...'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" Reflect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"ownKeys\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function-variable function\"}),\"has\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" key\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    console\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'has proxy handler...'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" key \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"in\"),\" target\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function-variable function\"}),\"deleteProperty\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" key\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    console\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"+\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'deleted from '\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"delete\"),\" target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),\"key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u9002\\u7528\\u4E8E\\u88AB\\u4EE3\\u7406\\u5BF9\\u8C61\\u662F\\u51FD\\u6570\\u7C7B\\u578B\\u7684\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function-variable function\"}),\"apply\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" thisArg\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" argList\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    console\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'apply...'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" argList\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"target\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"...\"),\"argList\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"construct\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" args\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    console\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'proxy construct ... '\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" args\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"target\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"...\"),\"args\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5FC5\\u987B\\u8FD4\\u56DE\\u4E00\\u4E2A\\u5BF9\\u8C61\\u6216\\u8005 null\\uFF0C\\u4EE3\\u7406 Object.getPrototypeOf \\u53D6\\u5BF9\\u8C61\\u539F\\u578B\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"getPrototypeOf\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    console\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'proxy getPrototypeOf...'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"null\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"setPrototypeOf\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" proto\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    console\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'proxy setPrototypeOf...'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" proto\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"observed\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"name\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// -> true \\\"name\\\" true \\\"get\\\"\"),\"\\nobserved\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"name \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'xxx'\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// -> name xxx set\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"for\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" prop \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"in\"),\" observed\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// -> get own keys...\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'name'\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"in\"),\" observed \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// -> has proxy handler\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"delete\"),\" observed\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"foo \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// foo deleted from { name: 'xxx', foo: 1 }\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"test\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  console\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"this\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"name\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'test apply'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"observed\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"apply\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"null\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"2\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"3\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// apply... (3) [1, 2, 3]\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6CE8\\u610F\\u70B9\\uFF1Aproxy-construct \\u7684\\u7B2C\\u4E8C\\u4E2A\\u53C2\\u6570\\u662F\\u4F20\\u5165\\u6784\\u9020\\u51FD\\u6570\\u65F6\\u7684\\u53C2\\u6570\\u5217\\u8868\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5C31\\u7B97\\u662F\\u4EE5\\u4E0B\\u9762\\u65B9\\u5F0F\\u4E00\\u4E2A\\u4E2A\\u4F20\\u9012\\u7684\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"observed\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"2\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"3\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// proxy construct ...  (3) [1, 2, 3]\"),\"\\nObject\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"getPrototypeOf\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"observed\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// proxy getPrototypeOf...\"),\"\\nobserved\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"prototype \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  bar\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"2\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// prototype {bar: 2} set\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// index.js:31 true \\\"prototype\\\" true \\\"get\\\"\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// index.js:90 {bar: 2}\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"observed\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"prototype\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\"))),mdx(\"p\",null,\"\\u9700\\u8981\\u6CE8\\u610F\\u7684\\u70B9\\uFF1A\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"construct\"),\" \\u7684\\u4EE3\\u7406 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"handler\"),\" \\u4E2D\\u7684\\u7B2C\\u4E8C\\u4E2A\\u53C2\\u6570\\u662F\\u4E00\\u4E2A\\u53C2\\u6570\\u5217\\u8868\\u6570\\u7EC4\\u3002\"),mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"getPrototypeOf\"),\" \\u4EE3\\u7406\\u91CC\\u9762\\u8FD4\\u56DE\\u4E00\\u4E2A\\u6B63\\u5E38\\u7684\\u5BF9\\u8C61 \\u6216 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"null\"),\"\\u8868\\u793A\\u5931\\u8D25\\u3002 \")),mdx(\"h1\",{\"id\":\"reactive-函数\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h1\"},{\"href\":\"#reactive-%E5%87%BD%E6%95%B0\",\"aria-label\":\"reactive 函数 permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"reactive \\u51FD\\u6570\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"export\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\":\"),\" object\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// if trying to observe a readonly proxy, return the readonly version.\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8FD9\\u91CC\\u5BF9\\u53EA\\u8BFB\\u7684\\u5BF9\\u8C61\\u8FDB\\u884C\\u5224\\u65AD\\uFF0C\\u56E0\\u4E3A\\u53EA\\u8BFB\\u7684\\u5BF9\\u8C61\\u4E0D\\u5141\\u8BB8\\u4FEE\\u6539\\u503C\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u53EA\\u8981\\u66FE\\u7ECF\\u88AB\\u4EE3\\u7406\\u8FC7\\u7684\\u5C31\\u4F1A\\u88AB\\u5B58\\u5230 readonlyToRaw \\u8FD9\\u4E2A WeakMap \\u91CC\\u9762\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u76F4\\u63A5\\u8FD4\\u56DE\\u53EA\\u8BFB\\u7248\\u672C\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"readonlyToRaw\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"has\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" target\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createReactiveObject\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"\\n    target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n    rawToReactive\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n    reactiveToRaw\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n    mutableHandlers\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n    mutableCollectionHandlers\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",null,\"\\u4F20\\u5165\\u4E00\\u4E2A \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"target\"),\" \\u8FD4\\u56DE\\u4EE3\\u7406\\u5BF9\\u8C61\\u3002\"),mdx(\"h1\",{\"id\":\"createreactiveobject\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h1\"},{\"href\":\"#createreactiveobject\",\"aria-label\":\"createreactiveobject permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"createReactiveObject\"),mdx(\"p\",null,\"\\u771F\\u6B63\\u6267\\u884C\\u4EE3\\u7406\\u7684\\u662F\\u8FD9\\u4E2A\\u51FD\\u6570\\u91CC\\u9762\\u3002\"),mdx(\"h2\",{\"id\":\"参数列表\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#%E5%8F%82%E6%95%B0%E5%88%97%E8%A1%A8\",\"aria-label\":\"参数列表 permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"\\u53C2\\u6570\\u5217\\u8868\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"target\"),\" \\u88AB\\u4EE3\\u7406\\u7684\\u5BF9\\u8C61\"),mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"toProxy\"),\" \\u4E00\\u4E2A \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"WeakMap\"),\" \\u91CC\\u9762\\u5B58\\u50A8\\u4E86 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"target -> observed\"),\" \"),mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"toRaw\"),\" \\u548C \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"toProxy\"),\" \\u521A\\u597D\\u76F8\\u53CD\\u7684\\u4E00\\u4E2A \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"WeakMap\"),\" \\u5B58\\u50A8\\u4E86 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"observed -> target\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"baseHandlers\"),\" \\u4EE3\\u7406\\u65F6\\u4F20\\u9012\\u7ED9 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"Proxy\"),\" \\u7684\\u7B2C\\u4E8C\\u4E2A\\u53C2\\u6570\"),mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"collectionHandlers\"),\" \\u4EE3\\u7406\\u65F6\\u4F20\\u9012\\u7ED9 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"Proxy\"),\" \\u7684\\u7B2C\\u4E8C\\u4E2A\\u53C2\\u6570(\\u4E00\\u4E2A\\u5305\\u542B\\u56DB\\u79CD\\u96C6\\u5408\\u7C7B\\u578B\\u7684 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"Set\"),\")\")),mdx(\"h2\",{\"id\":\"函数体\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#%E5%87%BD%E6%95%B0%E4%BD%93\",\"aria-label\":\"函数体 permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"\\u51FD\\u6570\\u4F53\"),mdx(\"p\",null,\"\\u4E0B\\u9762\\u662F\\u5C06 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"reactive\"),\" \\u548C \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"createReactiveObject\"),\" \\u8FDB\\u884C\\u5408\\u5E76\\u7684\\u4EE3\\u7801\\u3002\"),mdx(\"p\",null,\"\\u4E8B\\u5148\\u58F0\\u660E\\u7684\\u53D8\\u91CF\\u5217\\u8868\\uFF1A\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u96C6\\u5408\\u7C7B\\u578B\\u7684\\u6784\\u9020\\u51FD\\u6570\\uFF0C\\u7528\\u6765\\u68C0\\u6D4B target \\u662F\\u4F7F\\u7528 baseHandlers\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8FD8\\u662F collectionHandlers\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" collectionTypes \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),\"Set\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" Map\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" WeakMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" WeakSet\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u53EA\\u8BFB\\u5BF9\\u8C61\\u7684 map\\uFF0C\\u53EA\\u8BFB\\u5BF9\\u8C61\\u4EE3\\u7406\\u65F6\\u5019\\u76F4\\u63A5\\u8FD4\\u56DE\\u539F\\u59CB\\u5BF9\\u8C61\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" readonlyToRaw \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"WeakMap\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5B58\\u50A8\\u4E00\\u4E9B\\u53EA\\u8BFB\\u6216\\u65E0\\u6CD5\\u4EE3\\u7406\\u7684\\u503C\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" rawValues \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"WeakSet\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\"))),mdx(\"p\",null,\"\\u5408\\u5E76\\u540E\\u7684 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"reactive(target, toProxy, toRaw, basehandlers, collectionHandlers)\"),\" \\u51FD\\u6570\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" toProxy\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" toRaw\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" baseHandlers\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" collectionHandlers\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u53EA\\u8BFB\\u7684\\u5BF9\\u8C61\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"readonlyToRaw\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"has\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" target\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ... \\u5FC5\\u987B\\u662F\\u5BF9\\u8C61 return\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"typeof\"),\" target \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!==\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'object'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    console\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"warn\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'\\u4E0D\\u662F\\u5BF9\\u8C61\\uFF0C\\u4E0D\\u80FD\\u88AB\\u4EE3\\u7406\\u3002\\u3002\\u3002'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" target\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// toProxy \\u662F\\u4E00\\u4E2A WeakMap \\uFF0C\\u5B58\\u50A8\\u4E86 observed -> target\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u56E0\\u6B64\\u8FD9\\u91CC\\u68C0\\u6D4B\\u662F\\u4E0D\\u662F\\u5DF2\\u7ECF\\u4EE3\\u7406\\u8FC7\\u4E86\\u907F\\u514D\\u91CD\\u590D\\u4EE3\\u7406\\u60C5\\u51B5\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" observed \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" toProxy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"observed \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!==\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"void\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    console\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'target \\u5DF2\\u7ECF\\u8BBE\\u7F6E\\u8FC7\\u4EE3\\u7406\\u4E86'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" observed\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ... \\u672C\\u8EAB\\u5C31\\u662F\\u4EE3\\u7406\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// toRaw \\u4E5F\\u662F\\u4E00\\u4E2A WeakMap \\u5B58\\u50A8\\u4E86 target -> observed\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8FD9\\u91CC\\u5224\\u65AD\\u8FD9\\u4E2A\\uFF0C\\u53EF\\u80FD\\u662F\\u4E3A\\u4E86\\u9632\\u6B62\\uFF0C\\u5C06\\u66FE\\u7ECF\\u88AB\\u4EE3\\u7406\\u4E4B\\u540E\\u7684 observed \\u4F20\\u8FDB\\u6765\\u518D\\u4EE3\\u7406\\u7684\\u60C5\\u51B5\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"toRaw\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"has\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    console\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'target \\u672C\\u8EAB\\u5DF2\\u7ECF\\u662F\\u4EE3\\u7406'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" target\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ...... \\u8FD9\\u91CC\\u7701\\u7565\\u975E\\u6CD5\\u5BF9\\u8C61\\u7684\\u5224\\u65AD\\uFF0C\\u653E\\u5728\\u540E\\u9762\\u5C55\\u793A ......\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6839\\u636E target \\u7C7B\\u578B\\u51B3\\u5B9A\\u4F7F\\u7528\\u54EA\\u4E2A handlers\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// `Set, Map, WeakSet, SeakMap` \\u56DB\\u79CD\\u7C7B\\u578B\\u4F7F\\u7528 collectionHandlers \\u96C6\\u5408\\u7C7B\\u578B\\u7684 handlers\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// `Object, Array` \\u4F7F\\u7528 basehandlers\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" handlers \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" collectionTypes\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"has\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"constructor\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" collectionHandlers\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" baseHandlers\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// new \\u4EE3\\u7406\"),\"\\n  observed \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Proxy\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" handlers\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u7F13\\u5B58\\u4EE3\\u7406\\u8BBE\\u7F6E\\u7ED3\\u679C\\u5230 toProxy, toRaw\"),\"\\n  toProxy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"observed\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  toRaw\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" observed\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" observed\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"readonlyToRaw.has(target)\"),\" \\u68C0\\u6D4B\\u662F\\u5426\\u662F\\u53EA\\u8BFB\\u5BF9\\u8C61\\uFF0C\\u76F4\\u63A5\\u8FD4\\u56DE\\u8BE5\\u5BF9\\u8C61\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"\\u68C0\\u6D4B \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"target\"),\"\\u662F\\u5F15\\u7528\\u7C7B\\u578B\\u8FD8\\u662F\\u666E\\u901A\\u7C7B\\u578B\\uFF0C\\u53EA\\u6709\\u5F15\\u7528\\u7C7B\\u578B\\u624D\\u80FD\\u88AB\\u4EE3\\u7406\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"toProxy\"),\" \\u4E2D\\u5B58\\u50A8\\u4E86 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"target->observed\"),\" \\u5185\\u5BB9\\uFF0C\\u68C0\\u6D4B \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"target\"),\" \\u662F\\u4E0D\\u662F\\u5DF2\\u7ECF\\u6709\\u4EE3\\u7406\\u4E86\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"toRaw\"),\" \\u4E2D\\u5B58\\u50A8\\u4E86 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"observed->target\"),\" \\u68C0\\u6D4B\\u662F\\u5426\\u5DF2\\u7ECF\\u662F\\u4EE3\\u7406\\u4E86\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"\\u4E94\\u79CD\\u4E0D\\u5408\\u6CD5\\u7684\\u5BF9\\u8C61\\u7C7B\\u578B\\uFF0C\\u4E0D\\u80FD\\u4F5C\\u4E3A\\u4EE3\\u7406\\u6E90\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ... \\u767D\\u540D\\u5355\\u68C0\\u6D4B\\uFF0C\\u6E90\\u7801\\u4E2D\\u8C03\\u7528\\u7684\\u662F `canObserve` \\u8FD9\\u91CC\\u4E00\\u4E2A\\u4E2A\\u62C6\\u5206\\u6765\\u68C0\\u6D4B\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// 1. Vue \\u5B9E\\u4F8B\\u672C\\u8EAB\\u4E0D\\u80FD\\u88AB\\u4EE3\\u7406\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"_isVue\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    console\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'target \\u662F vue \\u5B9E\\u4F8B\\uFF0C\\u4E0D\\u80FD\\u88AB\\u4EE3\\u7406'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" target\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// 2. Vue \\u7684\\u865A\\u62DF\\u8282\\u70B9\\uFF0C\\u5176\\u5B9E\\u5C31\\u662F\\u4E00\\u5806\\u5305\\u542B\\u6A21\\u677F\\u5B57\\u7B26\\u4E32\\u7684\\u5BF9\\u8C61\\u89E3\\u6784\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8FD9\\u4E2A\\u662F\\u7528\\u6765\\u751F\\u6210 render \\u6784\\u5EFA DOM \\u7684\\uFF0C\\u4E0D\\u80FD\\u7528\\u6765\\u88AB\\u4EE3\\u7406\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"_isVNode\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    console\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'target \\u662F\\u865A\\u62DF\\u8282\\u70B9\\uFF0C\\u4E0D\\u80FD\\u88AB\\u4EE3\\u7406'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" targtet\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u9650\\u5B9A\\u4E86\\u53EA\\u80FD\\u88AB\\u4EE3\\u7406\\u7684\\u4E00\\u4E9B\\u5BF9\\u8C61\\uFF1A 'Object, Array, Map, Set, WeakMap, WeakSet`\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// Object.prototype.toString.call(target) => [object Object] \\u53D6 (-1, 8)\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5176\\u5B9E `Object` \\u6784\\u9020\\u51FD\\u6570\\u5B57\\u7B26\\u4E32\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function-variable function\"}),\"toRawType\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Object\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"prototype\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toString\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"call\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"slice\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"8\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"-\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'Object'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'Array'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'Map'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'Set'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'WeakMap'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'WeakSet'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"includes\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toRawType\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    console\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token template-string\"}),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token template-punctuation string\"}),\"`\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token string\"}),\"target \\u4E0D\\u662F\\u53EF\\u4EE3\\u7406\\u8303\\u56F4\\u5BF9\\u8C61('Object', 'Array', 'Map', 'Set', 'WeakMap', 'WeakSet')\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token template-punctuation string\"}),\"`\")),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" target\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u90A3\\u4E9B\\u88AB\\u6807\\u8BB0\\u4E3A\\u53EA\\u8BFB\\u6216\\u8005\\u975E\\u54CD\\u5E94\\u5F0F\\u7684WeakSets\\u7684\\u503C\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"rawValues\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"has\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" target\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u88AB\\u51BB\\u7ED3\\u7684\\u5BF9\\u8C61\\uFF0C\\u662F\\u4E0D\\u5141\\u8BB8\\u4EFB\\u4F55\\u4FEE\\u6539\\u64CD\\u4F5C\\u7684\\uFF0C\\u4E0D\\u53EF\\u7528\\u4F5C\\u54CD\\u5E94\\u5F0F\\u5BF9\\u8C61\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"Object\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"isFrozen\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" target\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"))))),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"\\u6839\\u636E target \\u7684\\u7C7B\\u578B\\u68C0\\u6D4B\\u91C7\\u7528\\u54EA\\u79CD\\u7C7B\\u578B\\u7684 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"handlers\"),\"\\uFF0C\\u96C6\\u5408\\u7C7B\\u578B\\u4F7F\\u7528 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"collectionhandlers\"),\"\\uFF0C\\u5BF9\\u8C61\\u7C7B\\u578B\\u91C7\\u7528 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"baseHandlers\"))),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"\\u521B\\u5EFA\\u4EE3\\u7406 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"new Proxy(target, handlers)\"))),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"\\u7F13\\u5B58\\u4EE3\\u7406\\u6E90\\u53CA\\u4EE3\\u7406\\u7ED3\\u679C\\u5230 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"toProxy, toRaw\"),\" \\u907F\\u514D\\u51FA\\u73B0\\u91CD\\u590D\\u4EE3\\u7406\\u7684\\u60C5\\u51B5\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"\\u8FD4\\u56DE\\u4EE3\\u7406\\u5BF9\\u8C61 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"observed\"),\"\\u3002\"))),mdx(\"h2\",{\"id\":\"使用-code-classlanguage-textreactivecode\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#%E4%BD%BF%E7%94%A8-code-classlanguage-textreactivecode\",\"aria-label\":\"使用 code classlanguage textreactivecode permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"\\u4F7F\\u7528 \",mdx(\"code\",_extends({parentName:\"h2\"},{\"className\":\"language-text\"}),\"reactive\")),mdx(\"p\",null,\"\\u4E3A\\u4E86\\u533A\\u5206\\u4E24\\u79CD\\u4EE3\\u7406\\u7C7B\\u578B(\\u96C6\\u5408\\u7C7B\\u578B\\uFF0C\\u666E\\u901A\\u5BF9\\u8C61(\\u5BF9\\u8C61\\u548C\\u6570\\u7EC4))\\uFF0C\\u8FD9\\u91CC\\u4F7F\\u7528\\u4E24\\u4E2A\\u5BF9\\u8C61(\",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"setTarget\"),\", \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"objTarget\"),\")\\uFF0C\\u521B\\u5EFA\\u4E24\\u4E2A\\u4EE3\\u7406(\",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"setObserved\"),\", \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"objObserved\"),\")\\uFF0C\\u5206\\u522B\\u4F20\\u5165\\u4E0D\\u540C\\u7684\\u4EE3\\u7406 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"handlers\"),\"\\uFF0C\\u4EE3\\u7801\\u5982\\u4E0B\\uFF1A\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" toProxy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"WeakMap\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" toRaw \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"WeakMap\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" setTarget \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"2\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"3\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" objTarget \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  foo\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  bar\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"2\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" setObserved \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"setTarget\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" toProxy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" toRaw\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"null\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" prop\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" receiver\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    console\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"prop\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'set get...'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// return Reflect.get(target, prop, receiver)\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// set/map \\u96C6\\u5408\\u7C7B\\u578B\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"has\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" prop\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" ret \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" Reflect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"has\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" prop\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n    console\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"ret\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" prop\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'set has...'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" ret\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" objObserved \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"\\n  objTarget\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  toProxy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  toRaw\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// object/arary, \\u666E\\u901A\\u7C7B\\u578B\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" prop\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" receiver\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      console\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"prop\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'object/array get...'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" Reflect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" prop\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" receiver\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\")))),mdx(\"p\",null,\"\\u8F93\\u51FA\\u4EE3\\u7406\\u7684\\u7ED3\\u679C\\u5BF9\\u8C61\\u5982\\u4E0B\\uFF1A\",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"console.log(setObserved, objObserved)\")),mdx(\"p\",null,\"\\u7ED3\\u679C\\uFF1A\",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"Proxy {1, 2, 3} Proxy {foo: 1, bar: 2}\")),mdx(\"p\",null,\"\\u7136\\u540E\\u51FA\\u73B0\\u4E86\\u9519\\u8BEF\\uFF0C\\u5F53\\u6211\\u8BD5\\u56FE\\u8C03\\u7528 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"setObserved.has(1)\"),\" \\u7684\\u65F6\\u5019\",mdx(\"span\",{id:\"error-map\"},\"\\u62A5\\u9519\\u4E86\"),\"\\uFF1A\"),mdx(\"p\",null,mdx(\"img\",_extends({parentName:\"p\"},{\"src\":\"http://qiniu.ii6g.com/1589614203.png?imageMogr2/thumbnail/!100p\",\"alt\":null}))),mdx(\"p\",null,\"\\u83B7\\u53D6 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"setObserved.size\"),\" \\u5C5E\\u6027\\u62A5\\u9519\\uFF0C\\u4E0D\\u540C\\u7684\\u662F \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"set proxy handler\"),\" \\u6709\\u88AB\\u8C03\\u7528\\uFF0C\\u8FD9\\u91CC\\u5E94\\u8BE5\\u662F\\u8C03\\u7528 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"Reflect.get()\"),\" \\u65F6\\u5019\\u62A5\\u9519\\u4E86\\uFF1A\"),mdx(\"p\",null,mdx(\"img\",_extends({parentName:\"p\"},{\"src\":\"http://qiniu.ii6g.com/1589614685.png?imageMogr2/thumbnail/!100p\",\"alt\":null}))),mdx(\"p\",null,mdx(\"a\",_extends({parentName:\"p\"},{\"href\":\"https://medium.com/the-non-traditional-developer/safely-extending-the-javascript-set-object-using-proxies-3ce25702b8c3\"}),\"google \\u4E4B\\u540E\\u8FD9\\u91CC\\u6709\\u7BC7\\u6587\\u7AE0\\u91CC\\u7ED9\\u51FA\\u4E86\\u95EE\\u9898\\u539F\\u56E0\\u548C\\u89E3\\u51B3\\u65B9\\u6848\")),mdx(\"p\",null,\"\\u89E3\\u51B3\\u65B9\\u6CD5\\uFF0C\\u5728 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"get proxy handler\"),\" \\u91CC\\u9762\\u52A0\\u4E0A\\u5224\\u65AD\\uFF0C\\u5982\\u679C\\u662F\\u51FD\\u6570\\u5C31\\u4F7F\\u7528 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"target\"),\"\\u53BB\\u8C03\\u7528\\uFF1A\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" setObserved \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"setTarget\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" toProxy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" toRaw\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"null\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" prop\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" receiver\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"switch\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"prop\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"default\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5982\\u679C\\u662F\\u51FD\\u6570\\uFF0C\\u7ECF\\u8FC7\\u4EE3\\u7406\\u4E4B\\u540E\\u4F1A\\u4E22\\u5931\\u4F5C\\u7528\\u57DF\\u95EE\\u9898\\uFF0C\\u6240\\u4EE5\\u8981\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u91CD\\u65B0\\u7ED9\\u4ED6\\u7ED1\\u5B9A\\u4E0B\\u4F5C\\u7528\\u57DF\"),\"\\n        console\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"prop\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'get...'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"typeof\"),\" target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),\"prop\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'function'\"),\"\\n          \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),\"prop\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"bind\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n          \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),\"prop\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n \"))),mdx(\"p\",null,\"\\u7ED3\\u679C\\uFF1A\"),mdx(\"blockquote\",null,mdx(\"p\",{parentName:\"blockquote\"},\"Proxy {1, 2, 3} Proxy {foo: 1, bar: 2}\\n-> setObserved.has(1)\\nhas get\\u2026\\ntrue\")),mdx(\"h1\",{\"id\":\"basehandlersts\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h1\"},{\"href\":\"#basehandlersts\",\"aria-label\":\"basehandlersts permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"baseHandlers.ts\"),mdx(\"p\",null,\"\\u8FD9\\u4E2A\\u6587\\u4EF6\\u6A21\\u5757\\u51FA\\u73B0\\u4E86\\u51E0\\u4E2A handlers \\u662F\\u9700\\u8981\\u5F04\\u6E05\\u695A\\u7684\\uFF0C\\u6BD4\\u5982\\uFF1A\"),mdx(\"p\",null,mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"baseHandlers.ts\"),\" \\u91CC\\u9762\\u548C \",mdx(\"strong\",{parentName:\"p\"},\"Array\"),\", \",mdx(\"strong\",{parentName:\"p\"},\"Object\"),\" \\u6709\\u5173\\u7684\\u56DB\\u4E2A\\uFF1A\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"mutableHandlers\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"readonlyHandlers\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"shallowReactiveHandlers\"),\", \"),mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"shallowReadonlyHandlers\"))),mdx(\"p\",null,mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"collectionHandlers.ts\"),\" \\u91CC\\u548C\\u96C6\\u5408\\u76F8\\u5173\\u7684\\u4E24\\u4E2A\\uFF1A\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"mutableCollectionHandlers\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"readonlyCollectionHandlers\"))),mdx(\"p\",null,\"\\u5728\\u4E0A\\u4E00\\u8282\\u8BB2\\u8FC7 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"createReactiveObject\"),\" \\u9700\\u8981\\u7ED9\\u51FA\\u4E24\\u4E2A handlers \\u4F5C\\u4E3A\\u53C2\\u6570\\uFF0C\\u4E00\\u4E2A\\u662F\\u9488\\u5BF9\\u6570\\u7EC4\\u548C\\u666E\\u901A\\u5BF9\\u8C61\\u7684\\uFF0C\\u53E6\\u4E00\\u4E2A\\u662F\\u9488\\u5BF9\\u96C6\\u5408\\u7C7B\\u578B\\u7684\\u3002\"),mdx(\"p\",null,\"\\u4E0B\\u9762\\u5206\\u522B\\u6765\\u770B\\u770B\\u4E24\\u4E2A\\u6587\\u4EF6\\u4E2D\\u5206\\u522B\\u90FD\\u5E72\\u4E86\\u4EC0\\u4E48\\uFF1F\\uFF1F\\uFF1F\"),mdx(\"h2\",{\"id\":\"列出文件中相关的函数和属性：\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#%E5%88%97%E5%87%BA%E6%96%87%E4%BB%B6%E4%B8%AD%E7%9B%B8%E5%85%B3%E7%9A%84%E5%87%BD%E6%95%B0%E5%92%8C%E5%B1%9E%E6%80%A7%EF%BC%9A\",\"aria-label\":\"列出文件中相关的函数和属性： permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"\\u5217\\u51FA\\u6587\\u4EF6\\u4E2D\\u76F8\\u5173\\u7684\\u51FD\\u6570\\u548C\\u5C5E\\u6027\\uFF1A\"),mdx(\"p\",null,\"\\u5C5E\\u6027:\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u7B26\\u53F7\\u96C6\\u5408\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" builtInSymbols \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"/* ... */\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\";\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u56DB\\u4E2A\\u901A\\u8FC7 createGetter \\u751F\\u6210\\u7684 get \\u51FD\\u6570\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"/*#__PURE__*/\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createGetter\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" shallowGet \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"/*#__PURE__*/\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createGetter\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"false\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" readonlyGet \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"/*#__PURE__*/\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createGetter\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" shallowReadonlyGet \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"/*#__PURE__*/\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createGetter\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4E09\\u4E2A\\u6570\\u7EC4\\u51FD\\u6570 'includes', 'indexOf', 'lastIndexOf'\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" arrayInstrumentations\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" Record\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"<\"),\"string\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" Function\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\">\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// setter\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"set\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"/*#__PURE__*/\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createSetter\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" shallowSet \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"/*#__PURE__*/\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createSetter\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\"))),mdx(\"p\",null,\"\\u51FD\\u6570\\uFF1A\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"ts\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-ts\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-ts\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u521B\\u5EFA getter \\u51FD\\u6570\\u7684\\u51FD\\u6570\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createGetter\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"isReadonly \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token boolean\"}),\"false\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" shallow \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token boolean\"}),\"false\")),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"/* ... */\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u521B\\u5EFA setter \\u51FD\\u6570\\u7684\\u51FD\\u6570\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createSetter\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"shallow \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token boolean\"}),\"false\")),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"/* ... */\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// delete obj.name \\u539F\\u5B50\\u64CD\\u4F5C\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"deleteProperty\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\":\"),\" object\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token builtin\"}),\"string\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"|\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token builtin\"}),\"symbol\")),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token builtin\"}),\"boolean\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" \\t\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"/*...*/\"),\" \\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u539F\\u5B50\\u64CD\\u4F5C key in obj\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"has\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\":\"),\" object\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token builtin\"}),\"string\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"|\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token builtin\"}),\"symbol\")),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token builtin\"}),\"boolean\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"/* ... */\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// Object.keys(target) \\u64CD\\u4F5C\\uFF0C\\u53D6\\u5BF9\\u8C61 key\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"ownKeys\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\":\"),\" object\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token builtin\"}),\"string\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"|\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token builtin\"}),\"number\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"|\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token builtin\"}),\"symbol\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),\"  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"/*...*/\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",null,\"\\u56DB\\u4E2A\\u8981\\u88AB\\u5BFC\\u51FA\\u7684 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"handlers\"),\"\\uFF1A\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"ts\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-ts\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-ts\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"export\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" mutableHandlers\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" ProxyHandler\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"<\"),\"object\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\">\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"/*...*/\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"export\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" readonlyHandlers\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" ProxyHandler\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"<\"),\"object\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\">\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"/*...*/\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"export\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" shallowReactiveHandlers\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" ProxyHandler\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"<\"),\"object\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\">\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"/*...*/\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"export\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" shallowReadonlyHandlers\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" ProxyHandler\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"<\"),\"object\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\">\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"/*...*/\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",null,\"\\u63A5\\u4E0B\\u6765\\u4E00\\u4E2A\\u4E2A\\u6765\\u5206\\u6790\\u5206\\u6790\\uFF0C\\u770B\\u770B\\u6BCF\\u4E2A\\u90FD\\u6709\\u4EC0\\u4E48\\u4F5C\\u7528\\uFF1F\\uFF1F\\uFF1F\"),mdx(\"p\",null,\"\\u5148\\u4ECE \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"createGetter\"),\" \\u8BF4\\u8D77\\u5427 -> \"),mdx(\"p\",null,\"\\u4E3A\\u4E86\\u4E0B\\u9762\\u65B9\\u4FBF\\u8C03\\u8BD5\\uFF0C\\u5BF9\\u4E0A\\u9762\\u7684 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"reactive()\"),\" \\u8FDB\\u884C\\u4E86\\u7B80\\u5316\\uFF0C\\u53EA\\u4FDD\\u7559\\u4E86\\u4E0E handlers \\u6709\\u5173\\u7684\\u90E8\\u5206\\uFF1A\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" collectionTypes \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),\"Set\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" Map\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" WeakMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" WeakSet\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" toProxy\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" toRaw\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" baseHandlers\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" collectionHandlers\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u7B80\\u5316\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"typeof\"),\" target \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!==\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'object'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" target\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"//... isVue, VNode...\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" observed \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"null\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" handlers \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" collectionTypes\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"has\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"constructor\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" collectionHandlers\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" baseHandlers\\n\\n  observed \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Proxy\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" handlers\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  toProxy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" observed\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  toRaw\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"observed\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" observed\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" toProxy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"WeakMap\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  toRaw \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"WeakMap\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\")))),mdx(\"h2\",{\"id\":\"creategetterisreadonly--false-shallow--false\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#creategetterisreadonly--false-shallow--false\",\"aria-label\":\"creategetterisreadonly  false shallow  false permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"createGetter(isReadonly = false, shallow = false)\"),mdx(\"p\",null,\"\\u53C2\\u6570\\uFF1A \"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"isReadonly = false\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"shallow = false\"))),mdx(\"p\",null,\"\\u7B80\\u5316\\u4E4B\\u540E\\u7684 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"createGetter\"),\"\\uFF0C\\u5148\\u7528\\u5B83\\u6765\\u521B\\u5EFA\\u4E00\\u4E2A \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"get\"),\" \\u7136\\u540E\\u521B\\u5EFA\\u4E00\\u4E2A \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"baseHandler: mutableHandlers\"),\" \\u53EF\\u53D8\\u7684 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"handlers\"),\"\\u3002\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5F88\\u660E\\u663E\\u8FD9\\u4E2A proxy handler get, \\u7B80\\u5316\\u4E4B\\u540E...\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" receiver\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" res \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" Reflect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"...\"),\"arguments\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ... \\u7701\\u75651\\uFF0C\\u5982\\u679C\\u662F\\u6570\\u7EC4\\uFF0C\\u4E14\\u662F includes, indexOf, lastIndexOf \\u64CD\\u4F5C\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u76F4\\u63A5\\u8FD4\\u56DE\\u5B83\\u5BF9\\u5E94\\u7684 res\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ... \\u7701\\u75652\\uFF0C\\u5982\\u679C\\u662F\\u7B26\\u53F7\\u5C5E\\u6027\\uFF0C\\u76F4\\u63A5\\u8FD4\\u56DE res\"),\"\\n\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ... \\u7701\\u75653, \\u6D45 reactive\\uFF0C\\u4E0D\\u652F\\u6301\\u5D4C\\u5957\"),\"\\n\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ... \\u7701\\u75654\\uFF0CisRef \\u7C7B\\u578B\\uFF0C\\u5224\\u65AD\\u662F\\u6570\\u7EC4\\u8FD8\\u662F\\u5BF9\\u8C61\\uFF0C\\u6570\\u7EC4\\u6267\\u884C track(...), \\u5BF9\\u8C61\\u8FD4\\u56DE res.value\"),\"\\n\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u975E\\u53EA\\u8BFB\\u5C5E\\u6027\\uFF0C\\u6267\\u884C track()\\uFF0C\\u6536\\u96C6\\u4F9D\\u8D56\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"isReadonly \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"track\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'get'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n    console\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"res\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'get...'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// return res\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u975E\\u5BF9\\u8C61\\u76F4\\u63A5\\u8FD4\\u56DE\\u539F\\u7ED3\\u679C\\uFF0C\\u5982\\u679C\\u662F\\u5BF9\\u8C61\\u533A\\u5206\\u53EA\\u8BFB\\u4E0E\\u5426\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"typeof\"),\" res \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'object'\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\" res \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!==\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"null\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" isReadonly\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// need to lazy access readonly and reactive here to avoid\"),\"\\n          \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// circular dependency\"),\"\\n          res \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ... readonly(res)\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"res\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" toProxy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" toRaw\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" mutableHandlers\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" res\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",null,\"\\u4E0A\\u9762\\u6211\\u4EEC\\u7701\\u7565\\u4E86\\u6682\\u65F6\\u4E0D\\u5173\\u5FC3\\u7684\\u662F\\u54EA\\u4E2A\\u90E8\\u5206\\uFF1A\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"\\u6570\\u7EC4\\u7C7B\\u578B\\u4E14 key \\u662F \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"['includes', 'indexOf', 'lastIndexOf']\"),\" \\u5176\\u4E2D\\u4EFB\\u4E00\\u4E00\\u4E2A\"),mdx(\"li\",{parentName:\"ol\"},\"\\u7B26\\u53F7\\u5C5E\\u6027\\u5904\\u7406\"),mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"ref\"),\" \\u7C7B\\u578B\\u5904\\u7406\")),mdx(\"p\",null,\"\\u76EE\\u524D\\u6211\\u4EEC\\u53EA\\u5173\\u5FC3\\u5982\\u4F55\\u521B\\u5EFA \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"get\"),\" \\u548C\\u4E00\\u4E2A\\u6700\\u7B80\\u5355\\u7684 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"basehandler: mutableHandler\")),mdx(\"p\",null,\"\\u4F7F\\u7528 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"createGetter: get\")),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u793A\\u4F8B 1\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" objTarget \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  foo\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  bar\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" \\n    name\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'bar'\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5C06 createGetter \\u751F\\u6210\\u7684 get -> mutableHandlers \\u4F20\\u5165 reactive\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" objObserved \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"objTarget\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" toProxy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" toRaw\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" mutableHandlers\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\")))),mdx(\"p\",null,\"\\u8FD9\\u91CC \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"get\"),\" \\u6211\\u8BA4\\u4E3A\\u53EA\\u6709\\u4E24\\u4E2A\\u76EE\\u7684\\uFF1A\"),mdx(\"h2\",{\"id\":\"递归-code-classlanguage-textreactivecode，就在最后返回的时候检测-code-classlanguage-textrescode-结果时候\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#%E9%80%92%E5%BD%92-code-classlanguage-textreactivecode%EF%BC%8C%E5%B0%B1%E5%9C%A8%E6%9C%80%E5%90%8E%E8%BF%94%E5%9B%9E%E7%9A%84%E6%97%B6%E5%80%99%E6%A3%80%E6%B5%8B-code-classlanguage-textrescode-%E7%BB%93%E6%9E%9C%E6%97%B6%E5%80%99\",\"aria-label\":\"递归 code classlanguage textreactivecode，就在最后返回的时候检测 code classlanguage textrescode 结果时候 permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"\\u9012\\u5F52 \",mdx(\"code\",_extends({parentName:\"h2\"},{\"className\":\"language-text\"}),\"reactive\"),\"\\uFF0C\\u5C31\\u5728\\u6700\\u540E\\u8FD4\\u56DE\\u7684\\u65F6\\u5019\\u68C0\\u6D4B \",mdx(\"code\",_extends({parentName:\"h2\"},{\"className\":\"language-text\"}),\"res\"),\" \\u7ED3\\u679C\\u65F6\\u5019\"),mdx(\"p\",null,\"\\u8FD9\\u91CC\\u6211\\u4EEC\\u9996\\u5148\\u6765\\u9A8C\\u8BC1\\u4E0B\\u9012\\u5F52 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"reactive\"),\" \\u95EE\\u9898\\uFF0C\\u5373\\u5F53\\u6211\\u4EEC\\u8BBF\\u95EE\\u5BF9\\u8C61\\u4E2D\\u5D4C\\u5957\\u5BF9\\u8C61\\u91CC\\u9762\\u7684\\u5C5E\\u6027\\u65F6\\u5019\\uFF0C\\u5B9E\\u9645\\u4E0A\\u662F\\u4E0D\\u4F1A\\u89E6\\u53D1 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"get\"),\" \\u7684\\uFF0C\\u6211\\u4EEC\\u5728 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"createGetter\"),\" \\u7684 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"return\"),\" \\u524D\\u9762\\u52A0\\u4E0A\\u4E00\\u53E5 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"return res\"),\" \\u3002\"),mdx(\"p\",null,\"\\u4E5F\\u5C31\\u662F\\u8BF4\\u4E0D\\u68C0\\u6D4B\\u7ED3\\u679C\\u662F\\u4E0D\\u662F\\u5BF9\\u8C61\\uFF0C\\u800C\\u76F4\\u63A5\\u8FD4\\u56DE\\u5F53\\u524D\\u53D6\\u503C\\u7684\\u7ED3\\u679C\\uFF1A\"),mdx(\"blockquote\",null,mdx(\"p\",{parentName:\"blockquote\"},\"=> objObserved.foo\\n\\u201Cfoo\\u201D \\u201Cget\\u2026\\u201D\\n1\\n=> objObserved.bar\\n{name: \\u201Cbar\\u201D} \\u201Cbar\\u201D \\u201Cget\\u2026\\u201D\\n{name: \\u201Cbar\\u201D}\\n{name: \\u201Cbar\\u201D} \\u201Cbar\\u201D \\u201Cget\\u2026\\u201D\\n=> objObserved.bar.name\\n{name: \\u201Cbar\\u201D} \\u201Cbar\\u201D \\u201Cget\\u2026\\u201D\\n\\u201Cbar\\u201D\\n=> const bar = objObserved.bar\\n{name: \\u201Cbar\\u201D} \\u201Cbar\\u201D \\u201Cget\\u2026\\u201D\\nundefined\\n=> bar.name\\n\\u201Cbar\\u201D\")),mdx(\"p\",null,\"\\u5206\\u6790\\u4E0A\\u9762\\u7684\\u6D4B\\u8BD5\\u7ED3\\u679C\\uFF1A\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"objObserved.foo\"),\" \\u76F4\\u63A5\\u53D6\\u5BF9\\u8C61\\u7684\\u6210\\u5458\\u503C\\uFF0C\\u89E6\\u53D1\\u4E86 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"proxy get\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"objObserved.bar\"),\" \\u53D6\\u5BF9\\u8C61\\u7684\\u5BF9\\u8C61\\u6210\\u5458\\uFF0C\\u89E6\\u53D1\\u4E86 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"proxy get\"))),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"objObserved.bar.name\"),\" \\u53D6\\u5D4C\\u5957\\u5BF9\\u8C61\\u7684\\u6210\\u5458\\uFF0C\\u89E6\\u53D1\\u4E86 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"proxy get\"),\"\\u4F46\\u8BF7\\u6CE8\\u610F\\u5B9E\\u9645\\u4E0A\\u89E6\\u53D1 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"get\"),\" \\u7684\\u662F \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"objObserved.bar\"),\" \\u5F97\\u53D6\\u503C\\u8FC7\\u7A0B\\uFF0C\\u56E0\\u4E3A\\u8F93\\u51FA\\u7684 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"res\"),\" \\u662F \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"{name: \\\"bar\\\"}\"),\"\\uFF0C\\u4E5F\\u5C31\\u662F\\u8BF4\\u53D6 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"bar.name\"),\" \\u7684\",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"name\"),\"\\u65F6\\u5019\\u5B9E\\u9645\\u5E76\\u6CA1\\u6709\\u89E6\\u53D1 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"proxy get\"),\"\\uFF0C\\u8FD9\\u8BF4\\u660E \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"proxy get\"),\" \\u53EA\\u80FD\\u4EE3\\u7406\\u4E00\\u7EA7\\u3002\")),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"\\u4E3A\\u4E86\\u8BC1\\u660E\\u4EE3\\u7406\\u53EA\\u80FD\\u4EE3\\u7406\\u4E00\\u7EA7\\uFF0C\\u4E0B\\u9762\\u901A\\u8FC7 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"bar = objObserved.bar\"),\" \\u518D\\u53BB\\u53D6 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"bar.name\"),\" \\u5C31\\u5F88\\u660E\\u663E\\u5E76\\u6CA1\\u6709\\u89E6\\u53D1 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"proxy get\"))),mdx(\"p\",null,\"\\u901A\\u8FC7\\u4E0A\\u9762\\u7684\\u5206\\u6790\\uFF0C\\u8FD9\\u4E5F\\u5C31\\u662F\\u4E3A\\u4EC0\\u4E48\\u8981\\u5728 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"return\"),\" \\u7684\\u65F6\\u5019\\u53BB\\u68C0\\u6D4B\\u662F\\u4E0D\\u662F\\u5BF9\\u8C61\\uFF0C\\u5982\\u679C\\u662F\\u5BF9\\u8C61\\u9700\\u8981\\u8FDB\\u884C\\u9012\\u5F52 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"reactive\"),\"\\u7684\\u52A8\\u4F5C\\u3002\"),mdx(\"p\",null,\"\\u90A3\\u4E48\\uFF0C\\u6211\\u4EEC\\u5C06 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"return res\"),\" \\u6CE8\\u91CA\\u6389\\u518D\\u6765\\u770B\\u770B\\u7ED3\\u679C\\u5982\\u4F55\\uFF1A\"),mdx(\"blockquote\",null,mdx(\"p\",{parentName:\"blockquote\"},\"=> objObserved.foo\\n1 \\u201Cfoo\\u201D \\u201Cget\\u2026\\u201D\\n1\\n=> objObserved.bar\\n{name: \\u201Cbar\\u201D} \\u201Cbar\\u201D \\u201Cget\\u2026\\u201D\\nProxy {name: \\u201Cbar\\u201D}\\n=> objObserved.bar.name\\n{name: \\u201Cbar\\u201D} \\u201Cbar\\u201D \\u201Cget\\u2026\\u201D\\nbar name get\\u2026\\n\\u201Cbar\\u201D\\n=> const bar = objObserved.bar\\n{name: \\u201Cbar\\u201D} \\u201Cbar\\u201D \\u201Cget\\u2026\\u201D\\nbar.name\\n=> bar name get\\u2026\\n\\u201Cbar\\u201D\")),mdx(\"p\",null,\"\\u770B\\u5230\\u5DEE\\u5F02\\u6CA1\\uFF0C\\u9996\\u5148\\u4ECE \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"objObserved.bar.name\"),\" \\u5C31\\u53EF\\u770B\\u51FA\\u5DEE\\u5F02\\u4E86\\uFF0C\\u8FD9\\u91CC\\u9996\\u5148\\u89E6\\u53D1\\u7684\\u5B9E\\u9645\\u662F \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"objObserved.bar\"),\" \\u7684 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"proxy get\"),\"\\uFF0C\\u6B64\\u65F6 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"return\"),\" \\u7684\\u65F6\\u5019\\u53D1\\u73B0\\u7ED3\\u679C\\u662F\\u4E2A\\u5BF9\\u8C61\\uFF0C\\u56E0\\u6B64\\u5C06 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"bar\"),\" \\u4F20\\u5165 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"reactive(bar)\"),\" \\u8FDB\\u4E00\\u6B65\\u4EE3\\u7406\\uFF0C\\u5B8C\\u6210\\u4E4B\\u540E\\u53D6 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"bar.name\"),\" \\u7684\\u65F6\\u5019 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"bar\"),\" \\u5DF2\\u7ECF\\u662F reactive \\u5BF9\\u8C61\\u4E86\\uFF0C\\u56E0\\u6B64\\u5C31\\u5728 \",mdx(\"strong\",{parentName:\"p\"},\"{name: \\u201Cbar\\u201D} \\u201Cbar\\u201D \\u201Cget\\u2026\\u201D\"),\" \\u540E\\u9762\\u7D27\\u8DDF\\u7740\\u51FA\\u73B0\\u4E86\",mdx(\"strong\",{parentName:\"p\"},\"bar name get\\u2026\"),\" \\u8F93\\u51FA\\u3002\"),mdx(\"p\",null,\"\\u6B64\\u65F6\\uFF0C\\u65E0\\u8BBA\\u540E\\u9762\\u662F\\u8D4B\\u503C\\u5230\\u53D8\\u91CF \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"bar\"),\" \\u518D\\u53D6 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"bar.name\"),\" \\u7ED3\\u679C\\u4E00\\u6837\\u4F1A\\u89E6\\u53D1\\u5BF9\\u5E94\\u7684 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"proxy get\"),\"\\uFF0C\\u6BD5\\u7ADF\\u5BF9\\u8C61\\u662F\\u5F15\\u7528\\u7C7B\\u578B\\uFF0C\\u7C7B\\u4F3C\\u6307\\u9488\\u4E00\\u6837\\uFF0C\\u65B0\\u589E\\u4E86\\u4E00\\u4E2A\\u53D8\\u91CF\\u6307\\u5411\\u5B83\\uFF0C\\u5B83\\u4F9D\\u65E7\\u5728\\u54EA\\u91CC\\u3002\"),mdx(\"p\",null,\"\\u5230\\u6B64\\uFF0C\\u6700\\u57FA\\u672C\\u7684 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"proxy get\"),\" \\u54CD\\u5E94\\u5F0F\\u4E5F\\u5B8C\\u6210\\u4E86\\uFF0C\\u5E76\\u4E14\\u80FD\\u505A\\u5230\\u5D4C\\u5957\\u5BF9\\u8C61\\u7684 reactive \\u5316\\uFF0C\\u611F\\u89C9\\u76F8\\u6BD4 vue3 \\u4E4B\\u524D\\u7684\\u901A\\u8FC7 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"defineProperty\"),\" \\u5B9E\\u73B0\\u66F4\\u52A0\\u6E05\\u6670\\u5BB9\\u6613\\u7406\\u89E3\\u3002\"),mdx(\"h2\",{\"id\":\"收集依赖code-classlanguage-texttrackcode\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#%E6%94%B6%E9%9B%86%E4%BE%9D%E8%B5%96code-classlanguage-texttrackcode\",\"aria-label\":\"收集依赖code classlanguage texttrackcode permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"\\u6536\\u96C6\\u4F9D\\u8D56(\",mdx(\"code\",_extends({parentName:\"h2\"},{\"className\":\"language-text\"}),\"track\"),\")\"),mdx(\"p\",null,\"\\u65E2\\u7136\\u6709\\u4E86\\u54CD\\u5E94\\u5F0F\\u6570\\u636E\\uFF0C\\u90A3\\u4E48\\u63A5\\u4E0B\\u6765\\u7684\\u91CD\\u70B9\\u5C31\\u662F\\u5982\\u679C\\u5229\\u7528\\u5176\\u7279\\u6027\\u4E3A\\u6211\\u4EEC\\u505A\\u70B9\\u4E8B\\u60C5\\uFF0C\\u4F46\\u662F\\u5B83\\u53C8\\u5982\\u4F55\\u77E5\\u9053\\u4E3A\\u6211\\u4EEC\\u505A\\u4EC0\\u4E48\\u7684\\uFF0C\\u8FD9\\u4E2A\\u65F6\\u5019\\u5C31\\u6709\\u4E86\\u6240\\u8C13\\u7684\\u201C\\u6536\\u96C6\\u4F9D\\u8D56\\u201D\\u3002\"),mdx(\"p\",null,\"\\u201C\\u6536\\u96C6\\u4F9D\\u8D56\\u201D\\u5C31\\u662F\\u5728 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"get\"),\" \\u53D6\\u503C\\u671F\\u95F4\\u53D1\\u751F\\u7684\\uFF0C\\u4E5F\\u5C31\\u662F \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"createGetter\"),\" \\u4E2D\\u7684 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"track()\"),\" \\u8C03\\u7528\\u65F6\\u89E6\\u53D1\\u4E86\\u4F9D\\u8D56\\u6536\\u96C6\\u52A8\\u4F5C\\u3002\"),mdx(\"p\",null,mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"track()\"),\" \\u76F8\\u5173\\u7684\\u4EE3\\u7801\\u5728 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"effect.ts\"),\" \\u4E2D\\uFF1A\"),mdx(\"p\",null,\"\\u51FD\\u6570\\u5B9A\\u4E49\\uFF1A \"),mdx(\"p\",null,mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"export function track(target: object, type: TrackOpTypes, key: unknown){} \")),mdx(\"p\",null,\"\\u6709\\u4E09\\u4E2A\\u53C2\\u6570\\uFF1A\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"target\\uFF1Aproxy get \\u65F6\\u5019\\u4F20\\u9012\\u7ED9 proxy \\u7684\\u90A3\\u4E2A\\u5BF9\\u8C61\"),mdx(\"li\",{parentName:\"ol\"},\"type: \\u8981 track \\u7684\\u7C7B\\u578B\\uFF0C\\u6709\\u4E09\\u79CD\\uFF1A \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"get\"),\", \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"has\"),\",\",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"iterate\"),\"\\uFF0C\\u5206\\u522B\\u662F\\u53D6\\u503C\\uFF0C\\u68C0\\u6D4B\\u5C5E\\u6027\\u5B58\\u5728\\u6027\\uFF0C\\u4EE5\\u53CA\\u8FED\\u4EE3\\u65F6\\u3002\"),mdx(\"li\",{parentName:\"ol\"},\"Key: \\u9488\\u5BF9 target \\u5BF9\\u8C61\\u91CC\\u9762\\u7684\\u5C5E\\u6027\\uFF0C\\u6536\\u96C6\\u4F9D\\u8D56\\u5230 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"targetMap -> depsMap -> dep:Set\"),\" \\u4E2D\")),mdx(\"p\",null,\"\\u7B80\\u5316 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"track(target, type)\"),\"\\u4EE3\\u7801\\uFF1A\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// trackType -> get, has, iterate\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"track\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" type\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" key\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ...\\u7701\\u75651 \\u68C0\\u6D4B shouldTrack \\u548C activeEffect \\u6807\\u8BB0\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u53D6 target \\u81EA\\u5DF1\\u7684\\u4F9D\\u8D56 map \\uFF0C\\u5982\\u679C\\u6CA1\\u6709\\u8BF4\\u660E\\u662F\\u9996\\u6B21\\uFF0C\\u9700\\u8981\\u7ED9\\u5B83\\u521B\\u5EFA\\u4E00\\u4E2A\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u7A7A\\u7684\\u96C6\\u5408\\uFF0C\\u8FD9\\u91CC\\u4F7F\\u7528 Map \\u800C\\u4E0D\\u662F WeakMap\\uFF0C\\u4E3A\\u7684\\u662F\\u5F3A\\u5F15\\u7528\\uFF0C\\u5B83\\u6D89\\u53CA\\u5230\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6570\\u636E\\u7684\\u66F4\\u65B0\\u89E6\\u53D1 UI \\u6E32\\u67D3\\uFF0C\\u56E0\\u6B64\\u4E0D\\u8BE5\\u4F7F\\u7528 WeakMap\\uFF0C\\u5426\\u5219\\u53EF\\u80FD\\u4F1A\\u5BFC\\u81F4\\u4F9D\\u8D56\\u4E22\\u5931\\u95EE\\u9898\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" depsMap \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" targetMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"depsMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    targetMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"depsMap \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Map\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u63A5\\u4E0B\\u6765\\u5BF9 key \\u53D6\\u5176\\u4F9D\\u8D56\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5982\\u679C\\u5C5E\\u6027\\u7684\\u4F9D\\u8D56\\u4E0D\\u5B58\\u5728\\uFF0C\\u8BF4\\u660E\\u8BE5\\u5BF9\\u8C61\\u662F\\u9996\\u6B21\\u4F7F\\u7528\\uFF0C\\u9700\\u8981\\u521B\\u5EFA\\u5176\\u4F9D\\u8D56\\u5E93\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4E14\\u8FD9\\u91CC\\u4F7F\\u7528\\u4E86 `Set` \\u662F\\u4E3A\\u4E86\\u907F\\u514D\\u91CD\\u590D\\u6CE8\\u518C\\u4F9D\\u8D56\\u60C5\\u51B5\\uFF0C\\u907F\\u514D\\u6570\\u636E\\u7684\\u66F4\\u65B0\\u5BFC\\u81F4\\u91CD\\u590D\\u89E6\\u53D1\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u540C\\u4E00\\u4E2A update \\u60C5\\u51B5\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" dep \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" depsMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"dep\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    depsMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dep \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6CE8\\u518C\\u5B9E\\u9645\\u7684 update: activeEffect \\u64CD\\u4F5C\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"dep\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"has\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"activeEffect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    dep\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"add\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"activeEffect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    activeEffect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"deps\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"push\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dep\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",null,\"\\u4EE3\\u7801\\u5B9E\\u73B0\\u4E3B\\u8981\\u6709\\u4E09\\u4E2A\\u8FC7\\u7A0B\\uFF1A\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"\\u68C0\\u6D4B\\u5168\\u5C40\\u7684 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"targetMap\"),\" \\u4E2D\\u662F\\u4E0D\\u662F\\u6709 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"target\"),\" \\u81EA\\u5DF1\\u7684\\u4F9D\\u8D56\\u4ED3\\u5E93(\",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"Map\"),\")\"),mdx(\"li\",{parentName:\"ol\"},\"\\u68C0\\u6D4B \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"depsMap = targetMap.get(target)\"),\" \\u4E2D\\u662F\\u4E0D\\u662F\\u6709\\u53D6\\u503C \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"key\"),\" \\u5BF9\\u5E94\\u7684\\u4F9D\\u8D56\\u96C6\\u5408 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"dep\")),mdx(\"li\",{parentName:\"ol\"},\"\\u6CE8\\u518C \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"activeEffect\"),\"\\u5BF9\\u8C61\\uFF0C\\u7136\\u540E\\u5C06\\u5F53\\u524D target-key-dep \\u6CE8\\u518C\\u5230 activeEffect\\uFF0C\\u7136\\u540E\\u53D1\\u73B0\\u6BCF\\u4E2A \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"activeEffect\"),\"\\u4F1A\\u6709\\u81EA\\u5DF1\\u7684 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"deps\"),\" \\u4FDD\\u5B58\\u4E86\\u6240\\u6709\\u5BF9\\u8C61 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"key\"),\" \\u7684\\u4F9D\\u8D56\\u3002 \")),mdx(\"p\",null,\"\\u6536\\u96C6\\u4F9D\\u8D56\\u7684\\u8FC7\\u7A0B\\u5982\\u56FE\\uFF1A\\uFF0C\\u6267\\u884C\\u53D6\\u503C \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"activeEffect.deps\"),\" \\u4E2D\\u5C31\\u4F1A\\u65B0\\u589E\\u4E00\\u4E2A \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"Set\")),mdx(\"p\",null,mdx(\"img\",_extends({parentName:\"p\"},{\"src\":\"http://qiniu.ii6g.com/1589694976.png?imageMogr2/thumbnail/!100p\",\"alt\":null}))),mdx(\"p\",null,\"\\u5230\\u8FD9\\u91CC\\uFF0C\\u4F9D\\u8D56\\u6536\\u96C6\\u7B97\\u662F\\u5B8C\\u6210\\uFF0C\\u4F46\\u5E76\\u4E0D\\u662F\\u5F88\\u660E\\u767D \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"activeEffect\"),\" \\u5177\\u4F53\\u662F\\u505A\\u4EC0\\u4E48\\u7684???\"),mdx(\"p\",null,\"\\u65E2\\u7136\\u4F9D\\u8D56\\u6536\\u96C6\\uFF0C\\u8981\\u641E\\u660E\\u767D \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"activeEffect\"),\" \\u662F\\u505A\\u4EC0\\u4E48\\u7684\\uFF0C\\u4F30\\u8BA1\\u7684\\u4ECE \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"set\"),\" \\u5165\\u624B\\u4E86\\uFF0C\\u4E0B\\u9762\\u6765\\u5B9E\\u73B0 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"set\"),\" \\u4ECE\\u800C\\u5B8C\\u6210\\u4E00\\u4E2A\\u5B8C\\u6574\\u7684 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"get -> dep -> set -> update\"),\" \\u7684\\u8FC7\\u7A0B\\u3002\"),mdx(\"p\",null,\"go on\\u2026\"),mdx(\"h2\",{\"id\":\"createsettershallow--false\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#createsettershallow--false\",\"aria-label\":\"createsettershallow  false permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"createSetter(shallow = false)\"),mdx(\"p\",null,\"\\u6E90\\u7801\\u7B80\\u5316\\u7248\\uFF1A\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createSetter\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"shallow \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token boolean\"}),\"false\")),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6807\\u51C6\\u7684 proxy set\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" value\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" receiver\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u53D6\\u65E7\\u503C\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" oldValue \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),\"key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),\"\\n\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5148\\u4E0D\\u7BA1 shallow mode\"),\"\\n\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8FD8\\u8BB0\\u5F97 reactive \\u91CC\\u9762\\u7684 toRaw\\u554A\\uFF0C\\u5BF9\\u8C61\\u8FD9\\u91CC\\u5C31\\u662F\\u53D6\\u51FA\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// value \\u7684\\u539F\\u59CB\\u5BF9\\u8C61 target\\uFF0C\\u524D\\u63D0\\u662F\\u5B83\\u6709 reactive() \\u8FC7\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u624D\\u4F1A\\u88AB\\u5B58\\u5165\\u5230 toRaw: observed -> target \\u4E2D\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6682\\u65F6\\u7B80\\u5316\\u6210\\uFF1A toRaw.get(value)\"),\"\\n    value \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" toRaw\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ... \\u7701\\u7565\\uFF0Cref \\u68C0\\u6D4B\"),\"\\n\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" hadKey \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"hasOwn\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5148\\u6267\\u884C\\u8BBE\\u7F6E\\u539F\\u5B50\\u64CD\\u4F5C\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" result \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" Reflect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" receiver\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u53EA\\u6709\\u5BF9\\u8C61\\u662F\\u5B83\\u81EA\\u8EAB\\u7684\\u65F6\\u5019\\uFF0C\\u624D\\u89E6\\u53D1 dep-update(\\u6392\\u9664\\u539F\\u578B\\u94FE)\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toRaw\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"receiver\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"hadKey\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u65B0\\u589E\\u5C5E\\u6027\\u64CD\\u4F5C\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"trigger\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'add'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"else\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"hasChanged\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" oldValue\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u503C\\u6539\\u53D8\\u64CD\\u4F5C,\\u6392\\u9664 NaN !== NaN \\u60C5\\u51B5\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"trigger\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'set'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" oldValue\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" result\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",null,\"\\u8FD9\\u91CC\\u4E3B\\u8981\\u6709\\u51E0\\u4E2A\\u64CD\\u4F5C\\uFF1A\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"shallow mode \\u68C0\\u6D4B\\uFF0C\\u5DF2\\u7701\\u7565\\u3002\"),mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"value = toRaw(value)\"),\" \\u5982\\u679C value \\u662F observed\\uFF0C\\u90A3\\u4E48\\u53EF\\u4EE5\\u901A\\u8FC7 toRaw \\u53D6\\u51FA\\u88AB\\u4EE3\\u7406\\u4E4B\\u524D\\u7684\\u5BF9\\u8C61 target\\uFF0C\\u8FD8\\u8BB0\\u5F97 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"reactive()\"),\" \\u91CC\\u9762\\u7684\\u90A3\\u4E2A toRaw, toProxy \\u7F13\\u5B58\\u64CD\\u4F5C\\u5427\\u3002\"),mdx(\"li\",{parentName:\"ol\"},\"\\u8C03\\u7528 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"Reflect.set()\"),\" \\u5148\\u5C06\\u503C\\u8BBE\\u7F6E\\u4E0B\\u53BB\\uFF0C\\u7136\\u540E\\u518D\\u8003\\u8651\\u662F\\u5426\\u89E6\\u53D1\\u4F9D\\u8D56\"),mdx(\"li\",{parentName:\"ol\"},\"\\u68C0\\u6D4B\\u5BF9\\u8C61\\u539F\\u578B\\u94FE\\uFF0C\\u53EA\\u6709\\u5F53\\u5BF9\\u8C61\\u662F\\u81EA\\u8EAB\\u7684\\u65F6\\u5019\\u624D\\u89E6\\u53D1\\u4F9D\\u8D56\"),mdx(\"li\",{parentName:\"ol\"},\"\\u89E6\\u53D1\\u7684\\u884C\\u4E3A\\u53EA\\u6709\\u4E24\\u79CD\\u8981\\u4E48\\u662F\\u65B0\\u589E\\u5C5E\\u6027(\",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"add\"),\")\\uFF0C\\u8981\\u4E48\\u662F\\u66F4\\u6539\\u503C(\",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"set\"),\", \\u503C\\u4E0D\\u53D8\\u7684\\u60C5\\u51B5\\u4E0D\\u89E6\\u53D1)\")),mdx(\"p\",null,\"\\u8FD9\\u91CC\\u6709\\u4E2A\\u4E0E \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"createGetter\"),\" \\u91CC\\u9762\\u6536\\u96C6\\u4F9D\\u8D56 (\",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"track()\"),\")\\u5BF9\\u5E94\\u7684\\u89E6\\u53D1\\u4F9D\\u8D56\\u51FD\\u6570\\uFF1A \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"trigger\"),\"\\u3002\"),mdx(\"p\",null,\"\\u63A5\\u4E0B\\u6765\\u5C31\\u662F\\u8981\\u770B\\u770B \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"trigger()\"),\" \\u91CC\\u9762\\u90FD\\u505A\\u4E86\\u5565\\u3002\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"trigger\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" type\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" newValue\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" oldValue\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" oldTarget\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// step1: \\u68C0\\u6D4B\\u662F\\u5426\\u88AB track \\u8FC7\\uFF0C\\u6CA1\\u6709\\u6839\\u672C\\u5C31\\u6CA1\\u6709\\u4F9D\\u8D56\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" depsMap \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" targetMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"depsMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// step2: \\u5C06 dep \\u52A0\\u5165\\u5230 effects\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u521B\\u5EFA\\u4E24\\u4E2A effects, \\u4E00\\u4E2A\\u666E\\u901A\\u7684\\uFF0C\\u4E00\\u4E2A\\u8BA1\\u7B97\\u5C5E\\u6027\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" effects \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" computedRunners \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6839\\u636E effect \\u7684\\u9009\\u9879 computed \\u51B3\\u5B9A\\u662F\\u6DFB\\u52A0\\u5230\\u90A3\\u4E2A Set \\u4E2D\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function-variable function\"}),\"add\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"effectsToAdd\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\"\\n    effectsToAdd\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"forEach\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"effect \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!==\"),\" activeEffect \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"||\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"shouldTrack\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"options\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"computed\\n          \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" computedRunners\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"push\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n          \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" effects\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"push\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// if ... clear\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"false\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// TODO \\u6E05\\u7A7A\\u52A8\\u4F5C\\uFF0C\\u89E6\\u53D1\\u6240\\u6709\\u4F9D\\u8D56\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6570\\u7EC4\\u957F\\u5EA6\\u53D8\\u5316\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"else\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"false\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// TODO \\u89E6\\u53D1\\u66F4\\u957F\\u5EA6\\u53D8\\u5316\\u6709\\u5173\\u7684\\u6240\\u6709\\u4F9D\\u8D56\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"else\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4F8B\\u5982\\uFF1A SET | ADD | DELETE \\u64CD\\u4F5C\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!==\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"void\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"add\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"depsMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" isAddOrDelete \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\"\\n      type \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'add'\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"||\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"type \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'delete'\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"Array\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"isArray\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"isAddOrDelete \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"||\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"type \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'set'\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\" target \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"instanceof\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Map\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5220\\u9664\\u6216\\u6DFB\\u52A0\\u64CD\\u4F5C\\uFF0C\\u6216\\u8005 map \\u7684\\u8BBE\\u7F6E\\u64CD\\u4F5C\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"add\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"depsMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"Array\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"isArray\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'length'\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token constant\"}),\"ITERATE_KEY\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// Map \\u7684\\u6DFB\\u52A0\\u6216\\u5220\\u9664\\u64CD\\u4F5C\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"isAddOrDelete \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\" target \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"instanceof\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Map\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"add\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"depsMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token constant\"}),\"MAP_KEY_ITERATE_KEY\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// step3: \\u6267\\u884C effects \\u4E2D\\u6240\\u6709\\u7684 dep\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function-variable function\"}),\"run\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u9009\\u9879\\u63D0\\u4F9B\\u4E86\\u81EA\\u5DF1\\u7684\\u8C03\\u5EA6\\u5668\\uFF0C\\u6267\\u884C\\u81EA\\u5DF1\\u7684\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"options\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"scheduler\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"options\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"scheduler\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"else\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u89E6\\u53D1\\u5E94\\u8BE5\\u89E6\\u53D1\\u7684\\u4F9D\\u8D56\"),\"\\n  computedRunners\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"forEach\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"run\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  effects\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"forEach\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"run\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",null,\"\\u4E3B\\u8981\\u6709\\u4E09\\u4E2A\\u6B65\\u9AA4\\uFF1A\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"step1: \\u68C0\\u6D4B\\u662F\\u5426\\u6536\\u96C6\\u8FC7\\u4F9D\\u8D56\\uFF0C\\u5982\\u679C\\u6CA1\\u6709\\u8BF4\\u660E\\u53EF\\u80FD\\u6CA1\\u6709\\u88AB\\u7528\\u8FC7\\uFF0C\\u6CA1\\u4EC0\\u4E48\\u53EF\\u89E6\\u53D1\\u7684\"),mdx(\"li\",{parentName:\"ul\"},\"step2: \\u4E3B\\u8981\\u662F\\u8FC7\\u6EE4\\u6536\\u96C6\\u5230\\u4F9D\\u8D56\\uFF0C\\u9488\\u5BF9\\u5F53\\u524D\\u66F4\\u6539\\u64CD\\u4F5C\\u7684\\u6240\\u6709\\u4F9D\\u8D56\\u89E6\\u53D1(add)\"),mdx(\"li\",{parentName:\"ul\"},\"step2: \\u7ECF\\u8FC7\\u7B2C\\u4E8C\\u6B65\\u7684\\u4F9D\\u8D56\\u8FC7\\u6EE4\\u4E4B\\u540E\\uFF0C\\u89E6\\u53D1\\u6240\\u6709\\u7684\\u4F9D\\u8D56(run)\")),mdx(\"p\",null,\"\\u8FD9\\u91CC\\u9762\\u6709\\u4E24\\u4E2A\\u91CD\\u8981\\u7684\\u5C5E\\u6027(\",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"effects\"),\",\",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"computedRunners\"),\")\\u548C\\u4E24\\u4E2A\\u51FD\\u6570(\",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"add\"),\",\",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"run\"),\")\"),mdx(\"p\",null,mdx(\"em\",{parentName:\"p\"},\"add: \\u8FC7\\u6EE4\\uFF0Crun: \\u6267\\u884C\\u3002\")),mdx(\"p\",null,\"\\u5F88\\u660E\\u663E\\uFF0C\\u5230\\u8FD9\\u91CC\\uFF0C\\u6211\\u4EEC\\u8FD8\\u662F\\u6CA1\\u6709\\u89E3\\u51B3\\uFF0C\\u4F9D\\u8D56\\u5BF9\\u5E94\\u7684 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"update\"),\" \\u662F\\u5982\\u4F55\\u6536\\u96C6\\u7684\\u95EE\\u9898\\uFF0C\\u56E0\\u4E3A \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"set\"),\" \\u4E5F\\u53EA\\u662F\\u5C06\\u5DF2\\u7ECF\\u6536\\u96C6\\u597D \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"dep\"),\" \\u6267\\u884C\\u800C\\u5DF2\\u3002\"),mdx(\"h1\",{\"id\":\"effectts\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h1\"},{\"href\":\"#effectts\",\"aria-label\":\"effectts permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"effect.ts\"),mdx(\"p\",null,\"\\u8BE5\\u6587\\u4EF6\\u4E2D\\u4E3B\\u8981\\u5305\\u542B\\u4E09\\u4E2A\\u91CD\\u8981\\u51FD\\u6570:\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"trigger(target, type, key?, newValue?, oldValue?, oldTarget?)\"),\" \\u89E6\\u53D1\\u4F9D\\u8D56\\u51FD\\u6570\"),mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"effect->createReactiveEffect(fn, options)\"),\" \\u8F6C\\u6362\\u4F9D\\u8D56\\u51FD\\u6570\\u6210ReactiveEffect\\u7C7B\\u578B\\uFF0C\\u5E76\\u4E14\\u7ACB\\u5373\\u6267\\u884C\\u5B83\\u3002\"),mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"track(target, type, key)\"))),mdx(\"p\",null,\"\\u4EE5\\u53CA\\u4E00\\u4E9B\\u8F85\\u52A9\\u51FD\\u6570\\uFF1A\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"isEffect()\"),\" \\u68C0\\u6D4B\\u662F\\u4E0D\\u662F \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"ReactiveEffect\"),\" \\u7C7B\\u578B\\n\",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"isEffect = fn => fn?._isEffect === true\"))),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"stop(effect: ReactiveEffect)\"),\"\\n\\u505C\\u6B62 effect \\uFF0C\\u5982\\u679C\\u9009\\u9879\\u4E2D\\u63D0\\u4F9B\\u4E86 onStop \\u76D1\\u542C\\u8BE5\\u52A8\\u4F5C\\uFF0C\\u6267\\u884C\\u5B83\\uFF0C\\u91CD\\u7F6E effect.active\\u3002\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"ts\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-ts\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-ts\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"export\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"stop\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"effect\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\":\"),\" ReactiveEffect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"active\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"cleanup\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"options\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"onStop\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"options\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"onStop\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n    effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"active \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"false\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))))),mdx(\"ol\",{\"start\":3},mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"cleanup(effect: ReactiveEffect)\")),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"ts\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-ts\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-ts\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5728 track \\u7684\\u65F6\\u5019\\uFF0C\\u52A0\\u5165 effect \\u65F6\\uFF0C\\u5BF9\\u5176\\u505A\\u4E00\\u6B21\\u6E05\\u7406\\u5DE5\\u4F5C\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4FDD\\u8BC1 effect.deps \\u5E72\\u51C0\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"cleanup\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"effect\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\":\"),\" ReactiveEffect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" deps \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" effect\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"deps\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"length\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"for\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" i \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\";\"),\" i \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"<\"),\" deps\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"length\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\";\"),\" i\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"++\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      deps\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),\"i\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"delete\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n    deps\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"length \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))))),mdx(\"ol\",{\"start\":4},mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"pauseTracking() \")),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"ts\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-ts\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-ts\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6682\\u505C track \\u52A8\\u4F5C\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"export\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"pauseTracking\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  trackStack\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"push\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"shouldTrack\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  shouldTrack \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"false\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"))))),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"enableTracking() \")),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"ts\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-ts\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-ts\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6062\\u590D track \\u52A8\\u4F5C\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"export\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"enableTracking\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  trackStack\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"push\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"shouldTrack\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  shouldTrack \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"))))),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"resetTracking() \")),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"ts\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-ts\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-ts\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u91CD\\u7F6E track\\uFF0C\\u53EF\\u80FD fn \\u6267\\u884C\\u5931\\u8D25\\u4E86\\uFF0Ctry ... finally ... \\u4E22\\u5F03 fn:effect \\u65F6\\u5019\\u8C03\\u7528\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"export\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"resetTracking\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" last \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" trackStack\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"pop\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  shouldTrack \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" last \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"undefined\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" last\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))))),mdx(\"p\",null,\"\\u5305\\u542B\\u7684\\u5C5E\\u6027\\u53D8\\u91CF\\uFF1A\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"ts\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-ts\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-ts\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4FDD\\u5B58\\u7740 target \\u5BF9\\u8C61\\u7684\\u6240\\u6709\\u4F9D\\u8D56\\u7684 Map <target, dep<Set>>\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// target -> Map<key, dep[]>\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" targetMap \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"WeakMap\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"<\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token builtin\"}),\"any\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" KeyToDepMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\">\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// effect \\u6808\\uFF0C\\u4FDD\\u5B58\\u6240\\u6709\\u7684 fn->effect\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" effectStack\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" ReactiveEffect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5F53\\u524D\\u6FC0\\u6D3B\\u72B6\\u6001\\u7684 effect\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" activeEffect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" ReactiveEffect \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"|\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"undefined\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"export\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token constant\"}),\"ITERATE_KEY\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"Symbol\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"__DEV__ \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'iterate'\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"''\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"export\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token constant\"}),\"MAP_KEY_ITERATE_KEY\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"Symbol\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"__DEV__ \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'Map key iterate'\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"''\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6267\\u884C effect \\u65F6\\uFF0Cuid++\\uFF0C\\u5373\\u6BCF\\u4E2A effect \\u90FD\\u4F1A\\u6709\\u81EA\\u5DF1\\u7684\\u552F\\u4E00\\u7684 uid\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" uid \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8BB0\\u5F55\\u5F53\\u524D effect \\u7684\\u72B6\\u6001\\uFF0C\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" shouldTrack \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5F53\\u524D effect -> shouldTack\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6BCF\\u589E\\u52A0\\u4E00\\u4E2A effect \\u8BB0\\u5F55 shouldTrack = true, push \\u5230 trackStack\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5982\\u679C effect.raw<fn> \\u6267\\u884C\\u5F02\\u5E38\\u4F1A pop \\u6389\\uFF0C\\u8FD8\\u539F shouldTrack -> last, \"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// pop trackStack\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" trackStack\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token builtin\"}),\"boolean\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\")))),mdx(\"p\",null,\"\\u4E00\\u76F4\\u5230\\u8FD9\\u91CC\\u6211\\u4EEC\\u57FA\\u672C\\u5B8C\\u6210\\u4E86 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"reactive->get->set->track->trigger->effect\"),\" \\u4E00\\u7CFB\\u5217\\u52A8\\u4F5C\\uFF0C\"),mdx(\"p\",null,\"\\u4E5F\\u8BE5\\u6211\\u4EEC\\u6D4B\\u8BD5\\u7684\\u65F6\\u5019\\u4E86\\uFF0C\\u6309\\u6B63\\u5E38\\u5E94\\u8BE5\\u4F1A\\u6709\\u6211\\u4EEC\\u60F3\\u8981\\u7684\\u7ED3\\u679C\\uFF0C\\u54CD\\u5E94\\u5F0F->\\u6CE8\\u518Cfn:update->\\u53D6\\u503C\\u6536\\u96C6\\u4F9D\\u8D56-> \\u8BBE\\u7F6E\\u89E6\\u53D1 fn:udpate \\u8C03\\u7528 \"),mdx(\"p\",null,\"=>>>>>>>>>\"),mdx(\"p\",null,\"\\u6BD4\\u5982\\uFF1A\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function-variable function\"}),\"r\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" toProxy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" toRaw\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" mutableHandlers\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function-variable function\"}),\"fn\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" console\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'effect fn'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" res \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"fn\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"Object\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"keys\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"res\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'after effect'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" dummy\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" counter \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"r\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" num\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" counter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"num\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'before'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\ncounter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"num \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"7\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'after'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\"))),mdx(\"p\",null,\"\\u4E0A\\u9762\\u7684\\u4F8B\\u5B50\\u8FD0\\u884C\\u4E4B\\u540E\\uFF0C\\u5E76\\u6CA1\\u6709\\u5F97\\u5230\\u6211\\u4EEC\\u60F3\\u8981\\u7684\\u7ED3\\u679C\\uFF01\\uFF01\\uFF01\"),mdx(\"blockquote\",null,mdx(\"p\",{parentName:\"blockquote\"},\"effect fn\\n\",\"[\\u201Cid\\u201D, \\u201C_isEffect\\u201D, \\u201Cactive\\u201D, \\u201Craw\\u201D, \\u201Cdeps\\u201D, \\u201Coptions\\u201D]\",\" \\u201Cafter effect\\u201D\\n0 \\u201Cnum\\u201D \\u201Cget\\u2026\\u201D\\n0 \\u201Cbefore\\u201D\\n0 \\u201Cafter\\u201D\")),mdx(\"p\",null,\"\\u6309\\u7167\\u6211\\u4EEC\\u7684\\u5B9E\\u73B0\\uFF0C\\u7406\\u8BBA\\u4E0A after \\u7684\\u7ED3\\u679C\\u5E94\\u8BE5\\u662F 7 \\u624D\\u5BF9\\uFF0C\\u4F46\\u7ED3\\u679C\\u663E\\u793A\\u4F9D\\u7136\\u662F 0\\uFF0C\\u8FD9\\u8BF4\\u660E\\u4E86\\u6211\\u4EEC\\u8C03\\u7528 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"effect(fn)\"),\" \\u5E76\\u6CA1\\u6709\\u4E0E\\u4E0A\\u9762\\u7684 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"r({ num: 0 })\"),\" \\u53D1\\u751F\\u4EFB\\u4F55\\u8054\\u7CFB\\uFF0C\\u5373 fn \\u5E76\\u6CA1\\u6709\\u88AB\\u6536\\u96C6\\u5230 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"counter.num\"),\" \\u7684\\u4F9D\\u8D56 deps \\u4E2D\\u53BB\\uFF0C\\u90A3\\u8FD9\\u662F\\u4E3A\\u4EC0\\u4E48\\u5462\\uFF1F\\uFF1F\\uFF1F\"),mdx(\"hr\",null),mdx(\"p\",null,\"\\u6211\\u4EEC\\u6765\\u56DE\\u987E\\u5206\\u6790\\u4E0B\\u4E4B\\u524D\\u6240\\u4F5C\\u5DE5\\u4F5C\\u7684\\u6574\\u4E2A\\u8FC7\\u7A0B(\",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"reactive->get->set->track->trigger->effect\"),\"):\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"reactive\"),\" \\u5C06\\u6570\\u636E\\u901A\\u8FC7 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"proxy\"),\" \\u8F6C\\u6210\\u54CD\\u5E94\\u5F0F\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"get->track\"),\" \\u6536\\u96C6\\u4F9D\\u8D56\\uFF0C\\u76F8\\u5173\\u5C5E\\u6027\\uFF1AtargetMap, depsMap, dep, activeEffect, activeEffect.deps\\u3002\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"set->trigger\"),\" \\u89E6\\u53D1\\u4F9D\\u8D56 update \\u51FD\\u6570\\uFF0C\\u6D89\\u53CA\\u5230\\u7684 targetMap, depsMap,  add, run\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"effect\"),\" \\u5C06 update \\u51FD\\u6570\\uFF0C\\u8F6C\\u6362\\u6210 ReactiveEffect \\u7C7B\\u578B\")),mdx(\"p\",null,\"\\u7EB5\\u89C2\\u8FD9\\u6574\\u4E2A\\u8FC7\\u7A0B\\uFF0C\\u5C24\\u5176\\u662F \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"get->track\"),\" \\uFF0C \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"set->trigger -> effect\"),\" \\u6536\\u96C6\\uFF0C\\u89E6\\u53D1\\u548C effect \\u4E09\\u4E2A\\u8FC7\\u7A0B\\uFF0C\\u552F\\u4E00\\u6709\\u53EF\\u80FD\\u8BA9\\u4ED6\\u4EEC\\u53D1\\u751F\\u8054\\u7CFB\\u7684\\u5E94\\u8BE5\\u5C31\\u662F\\u8FD9\\u4E2A \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"activeEffect\"),\" \\u6A21\\u5757\\u57DF\\u91CC\\u7684\\u53D8\\u91CF\\uFF0C\\u6807\\u8BC6\\u7740\\u5F53\\u524D\\u5904\\u4E8E\\u6FC0\\u6D3B\\u72B6\\u6001\\u7684 effect\\uFF0C\\u5B83\\u7684\\u4F7F\\u7528\\u51E0\\u4E4E\\u8D2F\\u7A7F\\u4E86\\u6574\\u4E2A\\u8FC7\\u7A0B(track->trigger->effect\\uFF0C\\u8FD9\\u4E09\\u4E2A\\u51FD\\u6570\\u4E5F\\u90FD\\u5728 \",mdx(\"em\",{parentName:\"p\"},\"effect.ts\"),\" \\u4E2D\\u5B9E\\u73B0)\\u3002\"),mdx(\"p\",null,\"\\u90A3\\u4E48\\u63A5\\u4E0B\\u6765\\u2026\"),mdx(\"p\",null,\"\\u524D\\u9762\\u90FD\\u662F\\u7B80\\u5316\\u4E4B\\u540E\\u7684\\uFF0C\\u73B0\\u5728\\u770B\\u770B\\u5B8C\\u6574\\u7684\\u8FD9\\u4E09\\u4E2A\\u51FD\\u6570\\u5B9E\\u73B0\\uFF1A\"),mdx(\"h2\",{\"id\":\"tracktarget-type-key\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#tracktarget-type-key\",\"aria-label\":\"tracktarget type key permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"track(target, type, key)\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"ts\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-ts\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-ts\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"export\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"track\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\":\"),\" object\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token keyword\"}),\"type\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\":\"),\" TrackOpTypes\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token builtin\"}),\"unknown\")),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"shouldTrack \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"||\"),\" activeEffect \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"undefined\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" depsMap \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" targetMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"depsMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    targetMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"depsMap \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Map\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" dep \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" depsMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"dep\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    depsMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dep \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"dep\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"has\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"activeEffect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    dep\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"add\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"activeEffect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    activeEffect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"deps\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"push\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dep\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"__DEV__ \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\" activeEffect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"options\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"onTrack\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      activeEffect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"options\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"onTrack\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n        effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" activeEffect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n        target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"type\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n        key\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"h2\",{\"id\":\"trigger\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#trigger\",\"aria-label\":\"trigger permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"trigger(\\u2026)\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"ts\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-ts\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-ts\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"export\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"trigger\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\":\"),\" object\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token keyword\"}),\"type\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\":\"),\" TriggerOpTypes\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  key\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"?\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token builtin\"}),\"unknown\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  newValue\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"?\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token builtin\"}),\"unknown\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  oldValue\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"?\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token builtin\"}),\"unknown\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  oldTarget\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"?\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\":\"),\" Map\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"<\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token builtin\"}),\"unknown\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token builtin\"}),\"unknown\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\">\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"|\"),\" Set\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"<\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token builtin\"}),\"unknown\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\">\")),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" depsMap \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" targetMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"depsMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// never been tracked\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" effects \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"<\"),\"ReactiveEffect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\">\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" computedRunners \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"<\"),\"ReactiveEffect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\">\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function-variable function\"}),\"add\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"effectsToAdd\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\":\"),\" Set\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"<\"),\"ReactiveEffect\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\">\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"|\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token keyword\"}),\"undefined\")),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"effectsToAdd\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      effectsToAdd\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"forEach\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"effect\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"effect \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!==\"),\" activeEffect \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"||\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"shouldTrack\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n          \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"options\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"computed\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n            computedRunners\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"add\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n          \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"else\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n            effects\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"add\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n          \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"else\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n          \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// the effect mutated its own dependency during its execution.\"),\"\\n          \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// this can be caused by operations like foo.value++\"),\"\\n          \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// do not trigger or we end in an infinite loop\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"type\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" TriggerOpTypes\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token constant\"}),\"CLEAR\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// collection being cleared\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// trigger all effects for target\"),\"\\n    depsMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"forEach\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"add\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"else\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'length'\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"isArray\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    depsMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"forEach\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"dep\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" key\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'length'\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"||\"),\" key \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\">=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"newValue \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"as\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token builtin\"}),\"number\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"add\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dep\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"else\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// schedule runs for SET | ADD | DELETE\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!==\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"void\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"add\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"depsMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// also run for iteration key on ADD | DELETE | Map.SET\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" isAddOrDelete \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"type\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" TriggerOpTypes\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token constant\"}),\"ADD\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"||\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"type\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" TriggerOpTypes\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token constant\"}),\"DELETE\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"isArray\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"\\n      isAddOrDelete \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"||\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"type\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" TriggerOpTypes\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token constant\"}),\"SET\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\" target \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"instanceof\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Map\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"add\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"depsMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"isArray\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'length'\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token constant\"}),\"ITERATE_KEY\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"isAddOrDelete \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\" target \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"instanceof\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Map\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"add\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"depsMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token constant\"}),\"MAP_KEY_ITERATE_KEY\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function-variable function\"}),\"run\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"effect\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\":\"),\" ReactiveEffect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"__DEV__ \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\" effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"options\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"onTrigger\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"options\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"onTrigger\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n        effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n        target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n        key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"type\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n        newValue\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n        oldValue\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n        oldTarget\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"options\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"scheduler\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"options\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"scheduler\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"else\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// Important: computed effects must be run first so that computed getters\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// can be invalidated before any normal effects that depend on them are run.\"),\"\\n  computedRunners\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"forEach\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"run\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  effects\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"forEach\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"run\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"h2\",{\"id\":\"effectfn-options\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#effectfn-options\",\"aria-label\":\"effectfn options permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"effect(fn, options)\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"ts\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-ts\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-ts\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"export\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"<\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token constant\"}),\"T\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token builtin\"}),\"any\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\">\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function-variable function\"}),\"fn\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token constant\"}),\"T\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  options\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" ReactiveEffectOptions \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token constant\"}),\"EMPTY_OBJ\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" ReactiveEffect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"<\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token constant\"}),\"T\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\">\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"isEffect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"fn\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    fn \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" fn\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"raw\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" effect \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createReactiveEffect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"fn\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" options\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"options\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"lazy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" effect\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" createReactiveEffect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"<\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token constant\"}),\"T\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token builtin\"}),\"any\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\">\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function-variable function\"}),\"fn\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"...\"),\"args\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token builtin\"}),\"any\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"[\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"]\")),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token constant\"}),\"T\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  options\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" ReactiveEffectOptions\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" ReactiveEffect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"<\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token constant\"}),\"T\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\">\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function-variable function\"}),\"effect\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactiveEffect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"...\"),\"args\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token builtin\"}),\"unknown\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"[\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"]\")),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token builtin\"}),\"unknown\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"active\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" options\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"scheduler \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"undefined\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"fn\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"...\"),\"args\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"effectStack\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"includes\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"cleanup\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"try\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"enableTracking\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n        effectStack\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"push\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n        activeEffect \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" effect\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"fn\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"...\"),\"args\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"finally\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n        effectStack\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"pop\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"resetTracking\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n        activeEffect \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" effectStack\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),\"effectStack\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"length \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"-\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"as\"),\" ReactiveEffect\\n  effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"id \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" uid\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"++\"),\"\\n  effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"_isEffect \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),\"\\n  effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"active \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),\"\\n  effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"raw \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" fn\\n  effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"deps \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),\"\\n  effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"options \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" options\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" effect\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"h2\",{\"id\":\"对比三个函数\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#%E5%AF%B9%E6%AF%94%E4%B8%89%E4%B8%AA%E5%87%BD%E6%95%B0\",\"aria-label\":\"对比三个函数 permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"\\u5BF9\\u6BD4\\u4E09\\u4E2A\\u51FD\\u6570\"),mdx(\"table\",null,mdx(\"thead\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"thead\"},mdx(\"th\",_extends({parentName:\"tr\"},{\"align\":null}),\"\\u8FC7\\u7A0B\"),mdx(\"th\",_extends({parentName:\"tr\"},{\"align\":null}),\"shouldTrack/activeEffect\"),mdx(\"th\",_extends({parentName:\"tr\"},{\"align\":null})))),mdx(\"tbody\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"track\")),mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),mdx(\"font\",{color:\"blue\"},\"if (!shouldTrack \",\"|\",\"|\",\" activeEffect === undefined) return\")),mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}))),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"trigger\")),mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),\"add \\u91CC\\u9762\\u6709\\u4E2A\\u5224\\u65AD\\uFF1A\",mdx(\"font\",{color:\"blue\"},\"if (!shouldTrack \",\"|\",\"|\",\" effect !== activeEffect)`\"),\"\\u624D\\u4F1A\\u7EE7\\u7EED\\u5F80\\u4E0B\\u6267\\u884C\\u6DFB\\u52A0\\u64CD\\u4F5C\"),mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}))),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"effect\")),mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"effectStack.push(effect)\"),mdx(\"br\",null),mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"activeEffect = effect\"),mdx(\"br\",null),\"// enable tracking\",mdx(\"br\",null),mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"trackStack.push(shouldTrack)\"),mdx(\"br\",null),mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"shouldTrack = true\")),mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}))))),mdx(\"p\",null,\"\\u5BF9\\u4E0B\\u9762\\u6D4B\\u8BD5\\u4EE3\\u7801\\u9010\\u884C\\u5206\\u6790\\uFF1A\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" dummy\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" counter \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"r\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" num\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" counter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"num\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" counter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'before'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\ncounter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"num \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"7\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'after'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\"))),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"const counter = r({sum: 0})\"),\"\\n\\u8FD9\\u91CC\\u5C06 { sum: 0 } reactive \\u4EE3\\u7406\\u4E4B\\u540E\\u8D4B\\u503C\\u7ED9\\u4E86  \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"counter\"),\" \\u4E5F\\u5C31\\u662F\\u8BF4\\u8FD9\\u4E2A \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"counter\"),\" \\u662F\\u4E2A \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"Proxy\"),\"\\uFF1A\",mdx(\"img\",_extends({parentName:\"p\"},{\"src\":\"http://qiniu.ii6g.com/1589705626.png?imageMogr2/thumbnail/!100p\",\"alt\":null})))),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"effect(() => (dummy = counter.num))\"),\"\\n\\u5728\\u8FD9\\u91CC\\u8C03\\u7528 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"effect(fn)\"),\" \\u6CE8\\u518C\\u4E86\\u4E00\\u4E2A updater\\uFF0C\\u91CC\\u9762\\u7528\\u5230\\u4E86 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"counter.num\"),\" \\u90A3\\u4E48\\u5C31\\u4F1A\\u89E6\\u53D1 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"counter.num\"),\" \\u7684 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"proxy get\"),\"\\uFF0C\\u7136\\u540E\\u4F1A\\u89E6\\u53D1 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"track()\"),\" \\u6536\\u96C6\\u4F9D\\u8D56:\\n\",mdx(\"img\",_extends({parentName:\"p\"},{\"src\":\"http://qiniu.ii6g.com/1589705890.png?imageMogr2/thumbnail/!100p\",\"alt\":null})),\"\\n\\u5E76\\u4E14\\u6211\\u4EEC\\u4ECE\\u56FE\\u4E2D\\u7ED3\\u679C\\u53EF\\u77E5\\uFF0C fn \\u5B9E\\u9645\\u88AB\\u7ACB\\u5373\\u6267\\u884C\\u4E86\\u4E00\\u6B21\\uFF0C\\u8FD9\\u662F \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"effect\"),\" \\u51FD\\u6570\\u91CC\\u9762\\u7684\\u64CD\\u4F5C\\u3002\\n\\u6309\\u9884\\u671F\\uFF0C\\u8FD9\\u91CC\\u7684 fn \\u5E94\\u8BE5\\u4F1A\\u88AB\\u6536\\u96C6\\u5230 counter.num \\u7684 deps \\u4E2D\\u3002\\n\\u6211\\u4EEC\\u5728 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"track()\"),\" \\u6700\\u540E\\u52A0\\u4E0A\\u6253\\u5370\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"dep\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"has\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"activeEffect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    dep\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"add\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"activeEffect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    activeEffect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?.\"),\"deps\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?.\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"push\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dep\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    console\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dep\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" activeEffect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"deps\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",{parentName:\"li\"},\"\\u7ED3\\u679C\\uFF1A\",mdx(\"img\",_extends({parentName:\"p\"},{\"src\":\"http://qiniu.ii6g.com/1589706174.png?imageMogr2/thumbnail/!100p\",\"alt\":null}))),mdx(\"p\",{parentName:\"li\"},\"\\u5373\\uFF0CactiveEffect.deps \\u4EE5\\u53CA\\u6536\\u96C6\\u5230\\u4E86 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"counter.num\"),\" \\u7684\\u4F9D\\u8D56: \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"Map(1) {\\\"num\\\" => Set(1)}\"),\"\\u3002\\n\",mdx(\"img\",_extends({parentName:\"p\"},{\"src\":\"http://qiniu.ii6g.com/1589706408.png?imageMogr2/thumbnail/!100p\",\"alt\":null})))),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"console.log(dummy, counter, 'before')\"),\"\\n\\u7ECF\\u8FC7\\u4E0A\\u9762\\u7684\\u7ED3\\u679C\\u5206\\u6790\\uFF0C\\u5728\\u7B2C2\\u6B65\\u7684\\u65F6\\u5019\\uFF0C\\u786E\\u5B9E\\u5DF2\\u7ECF\\u6536\\u96C6\\u5230\\u4E86 counter.num \\u7684 fn:updater\\uFF0C\\u4E14\\u5B58\\u653E\\u5230\\u4E86 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"targetMap -> despMap -> num:Set(1)\"),\" \\u4E2D\\u3002\\n\\u56E0\\u6B64\\u8FD9\\u91CC\\u7684\\u8F93\\u51FA\\u5185\\u5BB9\\u662F\\uFF1A \",mdx(\"strong\",{parentName:\"p\"},\"0 \\u201Cnum\\u201D \\u201Cget\\u2026\\u201D\"),\" \\u6CA1\\u4EC0\\u4E48\\u6BDB\\u75C5\\uFF0C\\u90A3\\u7EE7\\u7EED\\u5F80\\u4E0B\\uFF0C\\u95EE\\u9898\\u6216\\u8BB8\\u5904\\u5728\\u8BBE\\u7F6E\\u7684\\u65F6\\u5019???\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"counter.num = 7\"),\"\\n\\u6700\\u540E\\u53D1\\u73B0\\u95EE\\u9898\\u6240\\u5728\\uFF0C\\u539F\\u59CB\\u662F\\u4E2A\\u8D85\\u7EA7\\u4F4E\\u7EA7\\u7684\\u95EE\\u9898(\\u6342\\u8138\",mdx(\"del\",{parentName:\"p\"},\"\\uFF0C\\u6CA1\\u8138\\u89C1\\u4EBA\"),\"~)\\u3002\\n\\u6CA1\\u6709\\u521B\\u5EFA \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"set handler\"),\" \\u5E76\\u6DFB\\u52A0\\u5230 mutableHandlers \\u91CC\\u9762\\u3002\\n\\u53EA\\u8981\\u6DFB\\u52A0\\u4E24\\u53E5\\uFF1A\\n\",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"const set = createSetter()\"),\"\\n\\u7136\\u540E\\uFF1A\\n\",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"const mutableHandlers = { get, set }\"),\"\\n\\u5C31\\u80FD\\u5F97\\u5230\\u6211\\u4EEC\\u60F3\\u8981\\u7684\\u7ED3\\u679C\\u3002\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"console.log(dummy, 'after')\"),\"\\n\\u6700\\u540E\\u770B\\u4E0B\\u6700\\u7EC8\\u8F93\\u51FA\\uFF1A\",mdx(\"img\",_extends({parentName:\"p\"},{\"src\":\"http://qiniu.ii6g.com/1589707939.png?imageMogr2/thumbnail/!100p\",\"alt\":null}))),mdx(\"p\",{parentName:\"li\"},\"1 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"effect(() => (dummy = counter.num)) \"),\"\\u53D6\\u503C\\u65F6 proxy get \\u91CC\\u9762\\u7684\\u8F93\\u51FA\"),mdx(\"p\",{parentName:\"li\"},\"2\\uFF1A \\u8BBE\\u7F6E\\u503C\\u4E3A 7 \\u4E4B\\u524D\\u7684\\u8F93\\u51FA\"),mdx(\"p\",{parentName:\"li\"},\"3\\uFF1A \\u8BBE\\u7F6E\\u503C\\u5F53\\u4E2D\\u7684\\u8F93\\u51FA\\n4\\uFF1A \\u6700\\u540E\\u4E00\\u4E2Alog\\u53D6\\u503C proxy get \\u7684\\u8F93\\u51FA\\n5\\uFF1A \\u6700\\u540E log \\u7684\\u8F93\\u51FA\\u5185\\u5BB9\"))),mdx(\"p\",null,\"\\u867D\\u7136\\u72AF\\u4E86\\u4E2A\\u975E\\u5E38\\u4F4E\\u7EA7\\u7684\\u9519\\u8BEF\\uFF0C\\u4F46\\u4E5F\\u6B63\\u56E0\\u4E3A\\u8FD9\\u4E2A\\u4F4E\\u7EA7\\u9519\\u8BEF\\uFF0C\\u4FC3\\u4F7F\\u81EA\\u5DF1\\u4E00\\u6B65\\u6B65\\u7684\\u53BB\\u8DDF\\u8E2A \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"get->track\"),\", \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"set->trigger\"),\", \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"effect\"),\" \\u6574\\u4E2A\\u8FC7\\u7A0B\\uFF0C\\u4ECE\\u800C\\u4E86\\u89E3\\u4E86\\u4F9D\\u8D56\\u6536\\u96C6\\uFF0Cupdater \\u89E6\\u53D1\\u539F\\u7406\\u3002\"),mdx(\"h1\",{\"id\":\"小结-1\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h1\"},{\"href\":\"#%E5%B0%8F%E7%BB%93-1\",\"aria-label\":\"小结 1 permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"\\u5C0F\\u7ED3 1\"),mdx(\"p\",null,\"\\u5230\\u6B64\\u4E00\\u4E2A\\u6BD4\\u8F83\\u5B8C\\u6574\\u7684\\u54CD\\u5E94\\u5F0F\\u4EE3\\u7801\\u4E5F\\u7B97\\u544A\\u4E00\\u6BB5\\u843D\\uFF0C\\u8FD9\\u91CC\\u8D34\\u4E00\\u4E0B\\u7B80\\u5316\\u540E\\u53EF\\u8FD0\\u884C\\u7684\\u5B8C\\u6574\\u4EE3\\u7801(\",mdx(\"a\",_extends({parentName:\"p\"},{\"href\":\"https://github.com/gcclll/vue-next-code-read/blob/master/packages/reactive.js\"}),\"reactive.js\"),\")\\u5982\\u4E0B\\uFF1A\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function-variable function\"}),\"hasChanged\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"value\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" oldValue\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\"\\n  value \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!==\"),\" oldValue \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"value \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" value \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"||\"),\" oldValue \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" oldValue\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" __DEV__ \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"false\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" shouldTrack \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token constant\"}),\"ITERATE_KEY\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"Symbol\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"__DEV__ \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'iterate'\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"''\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token constant\"}),\"MAP_KEY_ITERATE_KEY\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"Symbol\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"__DEV__ \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'Map key iterate'\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"''\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" effectStack \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" trackStack \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" uid \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" reactiveToRaw \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"WeakMap\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" rawToReactive \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"WeakMap\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// baseHandlers.ts start\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createGetter\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"set\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createSetter\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5B58\\u653E\\u76EE\\u6807\\u4F9D\\u8D56\\u7684 map\\uFF1A target -> depsMap\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4E00\\u4E2A\\u76EE\\u6807\\uFF0C\\u6709\\u81EA\\u5DF1\\u7684\\u4E00\\u4E2A map \\u5B58\\u653E\\u4F9D\\u8D56\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" targetMap \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"WeakMap\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" activeEffect \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  _isEffect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  id\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  active\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"false\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  raw\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"null\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  deps\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  options\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toRaw\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"observed\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" reactiveToRaw\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"observed\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"||\"),\" observed\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"fn\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" options \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"{\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"}\")),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5982\\u679C\\u662F\\u4E2A activeEffect \\u7C7B\\u578B\\uFF0C\\u90A3\\u4E48\\u5176\\u6267\\u884C\\u51FD\\u6570\\u5E94\\u8BE5\\u662F fn.raw\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"fn\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?.\"),\"_isEffect \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    fn \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" fn\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"raw\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u63A5\\u4E0B\\u6765\\u8981\\u521B\\u5EFA\\u4E00\\u4E2A effect\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function-variable function\"}),\"_effect\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactiveEffect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"...\"),\"args\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"_effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"active\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u975E\\u6FC0\\u6D3B\\u72B6\\u6001\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" options\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"scheduler \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"undefined\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"fn\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"...\"),\"args\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"effectStack\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"includes\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"_effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5982\\u679C\\u6808\\u4E2D\\u4E0D\\u5305\\u542B\\u5F53\\u524D\\u7684 effect\\uFF0C\\u5373\\u6CA1\\u6709\\u6CE8\\u518C\\u8FC7\\u8BE5 effect\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6CE8\\u518C\\u8FC7\\u5C31\\u4E0D\\u9700\\u8981\\u91CD\\u590D\\u6CE8\\u518C\\u4E86\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6DFB\\u52A0\\u524D\\u5148\\u6267\\u884C\\u6E05\\u7406\\u5DE5\\u4F5C cleanup -> effect.deps[i].delete(effect)\"),\"\\n\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"try\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n        shouldTrack \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),\"\\n        effectStack\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"push\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"_effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n        activeEffect \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" _effect\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"fn\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"...\"),\"args\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"finally\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// fn \\u6267\\u884C\\u5F02\\u5E38\\u4E86\\uFF0C\\u79FB\\u9664\\u5BF9\\u5E94\\u7684 effect\"),\"\\n        effectStack\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"pop\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" last \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" trackStack\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"pop\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8FD8\\u539F\\u72B6\\u6001\\u503C\"),\"\\n        shouldTrack \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" last \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"undefined\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" last\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8FD8\\u539F\\u5F53\\u524D\\u6FC0\\u6D3B\\u7684 effect\"),\"\\n        activeEffect \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" effectStack\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),\"effectStack\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"length \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"-\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n  _effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"id \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" uid\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"++\"),\"\\n  _effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"_isEffect \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),\"\\n  _effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"active \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),\"\\n  _effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"raw \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" fn\\n  _effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"deps \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),\"\\n  _effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"options \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" options\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"options\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"lazy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"_effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" _effect\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"trigger\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" type\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" newValue\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" oldValue\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" oldTarget\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// step1: \\u68C0\\u6D4B\\u662F\\u5426\\u88AB track \\u8FC7\\uFF0C\\u6CA1\\u6709\\u6839\\u672C\\u5C31\\u6CA1\\u6709\\u4F9D\\u8D56\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" depsMap \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" targetMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"depsMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// step2: \\u5C06 dep \\u52A0\\u5165\\u5230 effects\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u521B\\u5EFA\\u4E24\\u4E2A effects, \\u4E00\\u4E2A\\u666E\\u901A\\u7684\\uFF0C\\u4E00\\u4E2A\\u8BA1\\u7B97\\u5C5E\\u6027\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" effects \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" computedRunners \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6839\\u636E effect \\u7684\\u9009\\u9879 computed \\u51B3\\u5B9A\\u662F\\u6DFB\\u52A0\\u5230\\u90A3\\u4E2A Set \\u4E2D\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function-variable function\"}),\"add\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"effectsToAdd\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    effectsToAdd\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?.\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"forEach\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"effect \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!==\"),\" activeEffect \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"||\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"shouldTrack\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"options\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"computed\\n          \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" computedRunners\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"add\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n          \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" effects\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"add\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// if ... clear\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"false\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// TODO \\u6E05\\u7A7A\\u52A8\\u4F5C\\uFF0C\\u89E6\\u53D1\\u6240\\u6709\\u4F9D\\u8D56\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6570\\u7EC4\\u957F\\u5EA6\\u53D8\\u5316\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"else\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"false\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// TODO \\u89E6\\u53D1\\u66F4\\u957F\\u5EA6\\u53D8\\u5316\\u6709\\u5173\\u7684\\u6240\\u6709\\u4F9D\\u8D56\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"else\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4F8B\\u5982\\uFF1A SET | ADD | DELETE \\u64CD\\u4F5C\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!==\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"void\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"add\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"depsMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" isAddOrDelete \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\"\\n      type \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'add'\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"||\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"type \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'delete'\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"Array\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"isArray\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"isAddOrDelete \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"||\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"type \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'set'\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\" target \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"instanceof\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Map\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5220\\u9664\\u6216\\u6DFB\\u52A0\\u64CD\\u4F5C\\uFF0C\\u6216\\u8005 map \\u7684\\u8BBE\\u7F6E\\u64CD\\u4F5C\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"add\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"depsMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"Array\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"isArray\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'length'\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token constant\"}),\"ITERATE_KEY\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// Map \\u7684\\u6DFB\\u52A0\\u6216\\u5220\\u9664\\u64CD\\u4F5C\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"isAddOrDelete \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\" target \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"instanceof\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Map\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"add\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"depsMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token constant\"}),\"MAP_KEY_ITERATE_KEY\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// step3: \\u6267\\u884C effects \\u4E2D\\u6240\\u6709\\u7684 dep\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function-variable function\"}),\"run\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u9009\\u9879\\u63D0\\u4F9B\\u4E86\\u81EA\\u5DF1\\u7684\\u8C03\\u5EA6\\u5668\\uFF0C\\u6267\\u884C\\u81EA\\u5DF1\\u7684\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"options\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"scheduler\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"options\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"scheduler\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"else\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u89E6\\u53D1\\u5E94\\u8BE5\\u89E6\\u53D1\\u7684\\u4F9D\\u8D56\"),\"\\n  computedRunners\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"forEach\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"run\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  effects\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"forEach\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"run\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// trackType -> get, has, iterate\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"track\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" type\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" key\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"shouldTrack \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"||\"),\" activeEffect \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"undefined\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ...\\u7701\\u75651 \\u68C0\\u6D4B shouldTrack \\u548C activeEffect \\u6807\\u8BB0\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u53D6 target \\u81EA\\u5DF1\\u7684\\u4F9D\\u8D56 map \\uFF0C\\u5982\\u679C\\u6CA1\\u6709\\u8BF4\\u660E\\u662F\\u9996\\u6B21\\uFF0C\\u9700\\u8981\\u7ED9\\u5B83\\u521B\\u5EFA\\u4E00\\u4E2A\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u7A7A\\u7684\\u96C6\\u5408\\uFF0C\\u8FD9\\u91CC\\u4F7F\\u7528 Map \\u800C\\u4E0D\\u662F WeakMap\\uFF0C\\u4E3A\\u7684\\u662F\\u5F3A\\u5F15\\u7528\\uFF0C\\u5B83\\u6D89\\u53CA\\u5230\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6570\\u636E\\u7684\\u66F4\\u65B0\\u89E6\\u53D1 UI \\u6E32\\u67D3\\uFF0C\\u56E0\\u6B64\\u4E0D\\u8BE5\\u4F7F\\u7528 WeakMap\\uFF0C\\u5426\\u5219\\u53EF\\u80FD\\u4F1A\\u5BFC\\u81F4\\u4F9D\\u8D56\\u4E22\\u5931\\u95EE\\u9898\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" depsMap \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" targetMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"depsMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    targetMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"depsMap \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Map\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u63A5\\u4E0B\\u6765\\u5BF9 key \\u53D6\\u5176\\u4F9D\\u8D56\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5982\\u679C\\u5C5E\\u6027\\u7684\\u4F9D\\u8D56\\u4E0D\\u5B58\\u5728\\uFF0C\\u8BF4\\u660E\\u8BE5\\u5BF9\\u8C61\\u662F\\u9996\\u6B21\\u4F7F\\u7528\\uFF0C\\u9700\\u8981\\u521B\\u5EFA\\u5176\\u4F9D\\u8D56\\u5E93\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4E14\\u8FD9\\u91CC\\u4F7F\\u7528\\u4E86 `Set` \\u662F\\u4E3A\\u4E86\\u907F\\u514D\\u91CD\\u590D\\u6CE8\\u518C\\u4F9D\\u8D56\\u60C5\\u51B5\\uFF0C\\u907F\\u514D\\u6570\\u636E\\u7684\\u66F4\\u65B0\\u5BFC\\u81F4\\u91CD\\u590D\\u89E6\\u53D1\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u540C\\u4E00\\u4E2A update \\u60C5\\u51B5\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" dep \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" depsMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"dep\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    depsMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dep \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6CE8\\u518C\\u5B9E\\u9645\\u7684 update: activeEffect \\u64CD\\u4F5C\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"dep\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"has\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"activeEffect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    dep\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"add\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"activeEffect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    activeEffect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?.\"),\"deps\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?.\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"push\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dep\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createGetter\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"isReadonly \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token boolean\"}),\"false\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" shallow \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token boolean\"}),\"false\")),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5F88\\u660E\\u663E\\u8FD9\\u4E2A proxy handler get, \\u7B80\\u5316\\u4E4B\\u540E...\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" receiver\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" res \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" Reflect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"...\"),\"arguments\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ... \\u7701\\u75651\\uFF0C\\u5982\\u679C\\u662F\\u6570\\u7EC4\\uFF0C\\u4E14\\u662F includes, indexOf, lastIndexOf \\u64CD\\u4F5C\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u76F4\\u63A5\\u8FD4\\u56DE\\u5B83\\u5BF9\\u5E94\\u7684 res\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ... \\u7701\\u75652\\uFF0C\\u5982\\u679C\\u662F\\u7B26\\u53F7\\u5C5E\\u6027\\uFF0C\\u76F4\\u63A5\\u8FD4\\u56DE res\"),\"\\n\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ... \\u7701\\u75653, \\u6D45 reactive\\uFF0C\\u4E0D\\u652F\\u6301\\u5D4C\\u5957\"),\"\\n\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ... \\u7701\\u75654\\uFF0CisRef \\u7C7B\\u578B\\uFF0C\\u5224\\u65AD\\u662F\\u6570\\u7EC4\\u8FD8\\u662F\\u5BF9\\u8C61\\uFF0C\\u6570\\u7EC4\\u6267\\u884C track(...), \\u5BF9\\u8C61\\u8FD4\\u56DE res.value\"),\"\\n\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u975E\\u53EA\\u8BFB\\u5C5E\\u6027\\uFF0C\\u6267\\u884C track()\\uFF0C\\u6536\\u96C6\\u4F9D\\u8D56\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"isReadonly \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"track\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'get'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n    console\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"res\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'get...'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// return res\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u975E\\u5BF9\\u8C61\\u76F4\\u63A5\\u8FD4\\u56DE\\u539F\\u7ED3\\u679C\\uFF0C\\u5982\\u679C\\u662F\\u5BF9\\u8C61\\u533A\\u5206\\u53EA\\u8BFB\\u4E0E\\u5426\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"typeof\"),\" res \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'object'\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\" res \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!==\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"null\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" isReadonly\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// need to lazy access readonly and reactive here to avoid\"),\"\\n          \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// circular dependency\"),\"\\n          res \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ... readonly(res)\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"res\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" toProxy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" toRaw\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" mutableHandlers\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" res\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createSetter\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"shallow \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token boolean\"}),\"false\")),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6807\\u51C6\\u7684 proxy set\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" value\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" receiver\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u53D6\\u65E7\\u503C\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" oldValue \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),\"key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),\"\\n\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5148\\u4E0D\\u7BA1 shallow mode\"),\"\\n\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8FD8\\u8BB0\\u5F97 reactive \\u91CC\\u9762\\u7684 toRaw\\u554A\\uFF0C\\u5BF9\\u8C61\\u8FD9\\u91CC\\u5C31\\u662F\\u53D6\\u51FA\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// value \\u7684\\u539F\\u59CB\\u5BF9\\u8C61 target\\uFF0C\\u524D\\u63D0\\u662F\\u5B83\\u6709 reactive() \\u8FC7\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u624D\\u4F1A\\u88AB\\u5B58\\u5165\\u5230 toRaw: observed -> target \\u4E2D\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6682\\u65F6\\u7B80\\u5316\\u6210\\uFF1A toRaw.get(value)\"),\"\\n    value \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toRaw\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ... \\u7701\\u7565\\uFF0Cref \\u68C0\\u6D4B\"),\"\\n    console\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" reactiveToRaw\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'set'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" hadKey \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" Object\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"hasOwnProperty\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5148\\u6267\\u884C\\u8BBE\\u7F6E\\u539F\\u5B50\\u64CD\\u4F5C\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" result \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" Reflect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" receiver\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u53EA\\u6709\\u5BF9\\u8C61\\u662F\\u5B83\\u81EA\\u8EAB\\u7684\\u65F6\\u5019\\uFF0C\\u624D\\u89E6\\u53D1 dep-update(\\u6392\\u9664\\u539F\\u578B\\u94FE)\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toRaw\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"receiver\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"hadKey\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u65B0\\u589E\\u5C5E\\u6027\\u64CD\\u4F5C\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"trigger\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'add'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"else\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"hasChanged\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" oldValue\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u503C\\u6539\\u53D8\\u64CD\\u4F5C,\\u6392\\u9664 NaN !== NaN \\u60C5\\u51B5\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"trigger\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'set'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" oldValue\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" result\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" mutableHandlers \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"set\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// baseHandlers.ts end\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" collectionTypes \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),\"Set\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" Map\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" WeakMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" WeakSet\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" toProxy\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" toRaw\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" baseHandlers\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" collectionHandlers\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u7B80\\u5316\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"typeof\"),\" target \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!==\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'object'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" target\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"//... isVue, VNode...\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" observed \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"null\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" handlers \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" collectionTypes\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"has\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"constructor\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" collectionHandlers\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" baseHandlers\\n\\n  observed \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Proxy\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" handlers\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  toProxy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" observed\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  toRaw\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"observed\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" observed\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function-variable function\"}),\"r\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" rawToReactive\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" reactiveToRaw\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" mutableHandlers\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function-variable function\"}),\"fn\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" console\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'effect fn'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" res \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"fn\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"Object\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"keys\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"res\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'after effect'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4F7F\\u7528\\u793A\\u4F8B\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" dummy\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" counter \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"r\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" num\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" counter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"num\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" counter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'before'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\ncounter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"num \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"7\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" counter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'after'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\"))),mdx(\"p\",null,\"\\u6838\\u5FC3\\u51FD\\u6570\\uFF1A\"),mdx(\"table\",null,mdx(\"thead\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"thead\"},mdx(\"th\",_extends({parentName:\"tr\"},{\"align\":null}),\"\\u51FD\\u6570\\u540D\"),mdx(\"th\",_extends({parentName:\"tr\"},{\"align\":null}),\"\\u529F\\u80FD\"))),mdx(\"tbody\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"createGetter->get\")),mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),\"\\u521B\\u5EFA proxy \\u7684 get handler\\uFF0C\\u91CC\\u9762\\u4F1A\\u8C03\\u7528 track \\u6536\\u96C6\\u4F9D\\u8D56\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"createSetter->set\")),mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),\"\\u521B\\u5EFA proxy \\u7684 set handler\\uFF0C\\u91CC\\u9762\\u4F1A\\u8C03\\u7528 trigger \\u89E6\\u53D1 targetMap>depsMap>dep:Set\\u4F9D\\u8D56\\u6267\\u884C\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"track(target, type, key)\")),mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),\"\\u6536\\u96C6 target \\u5BF9\\u8C61\\u6216 target\",\"[key]\",\" \\u5C5E\\u6027\\u7684\\u4F9D\\u8D56\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"trigger(target, type, key?, newValue?, oldValue?, oldTarget?)\")),mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),\"\\u89E6\\u53D1 target \\u5BF9\\u8C61\\u7684\\u4F9D\\u8D56\\u8C03\\u7528\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"effect(fn, options)\")),mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),\"\\u6CE8\\u518Creactive\\u5C5E\\u6027\\u7684updater\")))),mdx(\"p\",null,\"\\u6D89\\u53CA\\u5230\\u7684\\u6838\\u5FC3\\u5C5E\\u6027\\uFF1A\"),mdx(\"p\",null,\"ReactiveEffect \\u7C7B\\u578B\\u5B9A\\u4E49\\uFF1A\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"ts\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-ts\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-ts\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"export\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"interface\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"ReactiveEffect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"<\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token constant\"}),\"T\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token builtin\"}),\"any\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\">\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"...\"),\"args\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token builtin\"}),\"any\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token constant\"}),\"T\"),\"\\n  _isEffect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),\"\\n  id\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token builtin\"}),\"number\"),\"\\n  active\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token builtin\"}),\"boolean\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function-variable function\"}),\"raw\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token constant\"}),\"T\"),\"\\n  deps\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token builtin\"}),\"Array\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"<\"),\"Dep\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\">\"),\"\\n  options\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" ReactiveEffectOptions\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"table\",null,mdx(\"thead\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"thead\"},mdx(\"th\",_extends({parentName:\"tr\"},{\"align\":null}),\"\\u5C5E\\u6027\\u540D\"),mdx(\"th\",_extends({parentName:\"tr\"},{\"align\":null}),\"\\u7C7B\\u578B\"),mdx(\"th\",_extends({parentName:\"tr\"},{\"align\":null}),\"\\u4F5C\\u7528\"))),mdx(\"tbody\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"activeEffect\")),mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"ReactiveEffect\")),mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),\"\\u8BB0\\u5F55\\u5F53\\u524D\\u7684 effect\\uFF0C\\u5728 \",mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"effect()\"),\"\\u6CE8\\u518Cupdater\\u7684\\u65F6\\u5019\\u7F6E\\u4E3A\\u5F53\\u524D\\u7684 RE\\uFF0C\\u5728 \",mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"get->track\"),\" \\u91CC\\u9762\\u6DFB\\u52A0\\u5230 targetMap->depsMap->dep \\u4E2D\\uFF0C\\u4E14\\u540C\\u65F6\\u66F4\\u65B0\\u81EA\\u5DF1\\u7684 \",mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"activeEffect.deps.push(dep)\"))),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"effectStack\")),mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"Array<ReactiveEffect>\")),mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),\"\\u5B58\\u653E\\u6240\\u6709\\u7684 \",mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"ReactiveEffect\"),\" \\u7684\\u6570\\u7EC4\\uFF0C\\u4E5F\\u5C31\\u662F\\u8BF4\\u9875\\u9762\\u4E2D\\u6240\\u6709\\u7684 \",mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"updater<ReactiveEffect>\"),\" \\u90FD\\u662F\\u5B58\\u5728\\u8FD9\\u91CC\\u9762\\u3002\\u4F46\\u662F\\u6BCF\\u4E2A updater \\u6267\\u884C\\u5B8C\\u4E4B\\u540E\\u5C31\\u4F1A\\u88AB\\u79FB\\u51FA \",mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"effectStack\"),\"\\uFF0C\\u56E0\\u4E3A \",mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"efffect()\"),\"\\u8C03\\u7528\\u91CC\\u9762\\u6709\\u4E2A \",mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"try...finally\"),\" \\u65E0\\u8BBA\\u7ED3\\u679C\\u5982\\u4F55\\u90FD\\u4F1A\\u88AB pop \\u6389\\u3002\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"shouldTrack\")),mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"Boolean\")),mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),\"\\u7528\\u6765\\u8FFD\\u8E2A\\u5F53\\u524D effect->activeEffect \\u7684\\u72B6\\u6001\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"trackStack\")),mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"Array<Boolean>\")),mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),\"\\u7528\\u6765\\u5B58\\u653E\\u5F53\\u524D effect \\u7684 shouldTrack \\u72B6\\u6001\\u503C\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"targetMap\")),mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"WeakMap\")),mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),\"\\u5B58\\u653E\\u88AB reactive \\u5BF9\\u8C61\\u4F9D\\u8D56\\u7684 Map\\uFF0C\\u5373\\uFF1A\\u6BCF\\u4E2A target \\u5728 targetMap \\u91CC\\u9762\\u6709\\u81EA\\u5DF1\\u7684\\u4E00\\u4E2A depsMap\\uFF0C\\u91CC\\u9762\\u4EE5 target => <key, Set> \\u5F62\\u5F0F\\u5B58\\u5728\\uFF0Ckey \\u8868\\u793A target \\u4E0A\\u7684\\u4E00\\u4E2A\\u5C5E\\u6027\\u952E\\uFF0CSet \\u5B58\\u653E\\u4E86\\u8BE5 key \\u7684\\u6240\\u6709\\u4F9D\\u8D56 dep\\u3002\",mdx(\"img\",_extends({parentName:\"td\"},{\"src\":\"http://qiniu.ii6g.com/1589709260.png?imageMogr2/thumbnail/!100p\",\"alt\":null})),\"\\u5C42\\u7EA7\\u5173\\u7CFB\\uFF1AtargetMap:WeakMap -> depsMap:Map -> dep:Set\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"depsMap\")),mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"Map\")),mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),\"target \\u5BF9\\u8C61\\u91CC\\u6240\\u6709\\u5C5E\\u6027\\u548C\\u5176\\u4F9D\\u8D56\\u5BF9\\u5E94\\u7684\\u5173\\u7CFB\\u96C6\\u5408\\uFF0C\\u5982\\uFF1Acounter.num \\u7684\\u4F9D\\u8D56\\uFF1A \",mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"{ \\\"num\\\" => Set(1) }\"))),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"reactiveToRaw\")),mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"WeakMap\")),mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),\"\\u4F5C\\u4E3A reactive \\u7684\\u7B2C\\u4E09\\u4E2A\\u53C2\\u6570 toRaw\\uFF0C\\u4FDD\\u5B58\\u4E86 observed->target \\u5173\\u7CFB\\u7684 WeakMap\\u3002\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"rawToReactive\")),mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"WeakMap\")),mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),\"\\u4F5C\\u4E3A reactive \\u7684\\u7B2C\\u4E8C\\u4E2A\\u53C2\\u6570 toProxy\\uFF0C\\u4FDD\\u5B58\\u4E86 target->observed \\u5173\\u7CFB\\u7684 WeakMap\\uFF0C\\u548C \",mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"reactiveToRaw\"),\" \\u521A\\u597D\\u76F8\\u53CD\\u3002\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"uid\")),mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"Number\")),mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),\"\\u6BCF\\u4E2A effect \\u90FD\\u6709\\u4E00\\u4E2A\\u552F\\u4E00\\u7684 id\\uFF0C\\u4E00\\u76F4\\u9012\\u589E\\u3002\")))),mdx(\"h1\",{\"id\":\"支持数组-reactive\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h1\"},{\"href\":\"#%E6%94%AF%E6%8C%81%E6%95%B0%E7%BB%84-reactive\",\"aria-label\":\"支持数组 reactive permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"\\u652F\\u6301\\u6570\\u7EC4 reactive\"),mdx(\"p\",null,\"\\u5728\\u8FD9\\u4E4B\\u524D\\u90FD\\u662F\\u5728\\u5BF9\\u8C61\\u57FA\\u7840\\u4E0A\\u505A\\u7684\\u6D4B\\u8BD5\\uFF0C\\u5E76\\u6CA1\\u6709\\u589E\\u52A0\\u6570\\u7EC4\\u7684\\u652F\\u6301\\uFF0C\\u6BD4\\u5982\\uFF1Ajest(\\u6240\\u6709\\u6D4B\\u8BD5\\u7528\\u4F8B\\u90FD\\u6765\\u81EA\\u5B98\\u65B9\\u4ED3\\u5E93) ->\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"test\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'\\u5D4C\\u5957\\u7684 reactives'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" original \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      nested\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n        foo\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n      array\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" bar\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"2\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" observed \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"original\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"isReactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"observed\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"nested\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"isReactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"observed\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"array\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"isReactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"observed\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"array\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\")))),mdx(\"p\",null,\"\\u6D4B\\u8BD5\\u7ED3\\u679C\\uFF1A\"),mdx(\"p\",null,mdx(\"img\",_extends({parentName:\"p\"},{\"src\":\"http://qiniu.ii6g.com/1589852337.png?imageMogr2/thumbnail/!100p\",\"alt\":null}))),mdx(\"p\",null,\"\\u4E5F\\u5C31\\u662F\\u8BF4\\u505A\\u5230\\u73B0\\u5728\\uFF0C\\u5E76\\u4E0D\\u652F\\u6301\\u6570\\u7EC4\\u7684 reactive\\uFF0C\\u8FD9\\u4E5F\\u662F\\u8FD9\\u8282\\u5C06\\u8981\\u5B8C\\u5584\\u7684\\u70B9\\u3002\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"\\u6570\\u7EC4\\u4E09\\u4E2A\\u65B9\\u6CD5(\",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"includes, indexOf, lastIndexOf\"),\")\\u7684\\u4F9D\\u8D56\\u6536\\u96C6\\uFF1A\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6570\\u7EC4\\u4E09\\u4E2A\\u65B9\\u6CD5\\u7684\\u5904\\u7406\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" arrayInstrumentations \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u517C\\u5BB9\\u6570\\u7EC4\\u4E09\\u4E2A\\u7D22\\u5F15\\u65B9\\u6CD5\\uFF0C\\u6536\\u96C6\\u4ED6\\u4EEC\\u76F8\\u5173\\u7684\\u4F9D\\u8D56\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\";\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'includes'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'indexOf'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'lastIndexOf'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"forEach\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"key\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  arrayInstrumentations\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),\"key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"...\"),\"args\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" arra \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toRaw\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"this\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"for\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" i \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" l \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"this\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"length\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\";\"),\" i \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"<\"),\" l\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\";\"),\" i\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"++\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"track\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"arr\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'get'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" i \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"+\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"''\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4F7F\\u7528\\u539F\\u59CB\\u65B9\\u6CD5\\u6267\\u884C\\u4E00\\u6B21(\\u6709\\u53EF\\u80FD\\u662F reactive \\u7684)\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" res \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" arr\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),\"key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"...\"),\"args\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"res \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"-\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"||\"),\" res \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"false\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5982\\u679C\\u7ED3\\u679C\\u5931\\u8D25\\uFF0C\\u4F7F\\u7528\\u539F\\u59CB\\u65B9\\u6CD5\\u518D\\u6267\\u884C\\u4E00\\u6B21\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" arr\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),\"key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"...\"),\"args\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"map\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"toRaw\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"else\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" res\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"))))),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"createGetter -> get\"),\" \\u7684\\u65F6\\u5019\\u589E\\u52A0\\u6570\\u7EC4\\u652F\\u6301\\uFF1A\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createGetter\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"isReadonly \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token boolean\"}),\"false\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" shallow \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token boolean\"}),\"false\")),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" receiver\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" targetIsArray \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" Array\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"isArray\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"targetIsArray \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"hasOwn\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"arrayInstrumentations\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" Reflect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"arrayInstrumentations\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" receiver\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ...\\u7701\\u7565\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",{parentName:\"li\"},\"\\u5230\\u8FD9\\u91CC\\uFF0C\\u6211\\u4EEC\\u5DF2\\u7ECF\\u53EF\\u4EE5\\u6B63\\u5E38\\u6536\\u96C6\\u5230\\u6570\\u7EC4\\u7684\\u4F9D\\u8D56\\u4E86\\uFF0C\\u6D4B\\u8BD5\\u4EE3\\u7801\\uFF1A\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"html\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-html\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-html\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token tag\"}),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token tag\"}),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"<\"),\"script\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token attr-name\"}),\"type\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token attr-value\"}),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"=\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"\\\"\"),\"module\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"\\\"\")),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\">\")),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token script\"}),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token language-javascript\"}),\"\\n    \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token keyword\"}),\"import\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"{\"),\" reactive\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" effect\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" targetMap \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token keyword\"}),\"from\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token string\"}),\"'./packages/reactive.js'\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token keyword\"}),\"let\"),\" n\\n    \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token keyword\"}),\"let\"),\" arr \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"[\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token string\"}),\"'vue'\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token string\"}),\"'reactive'\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"]\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token keyword\"}),\"const\"),\" observed \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"(\"),\"arr\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"(\"),\"n \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"=\"),\" observed\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"[\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token number\"}),\"0\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"]\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \\t\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token comment\"}),\"// \\u8FD9\\u91CC\\u8FD8\\u53EF\\u4EE5\\u6DFB\\u52A0\\u591A\\u4E2A\\u4F9D\\u8D56\\uFF0C\\u6BD4\\u5982\\uFF1Aeffect(() => (m = observed[0]))\"),\"\\n  \\t\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token comment\"}),\"// \\u8FD9\\u6837\\uFF0CtargetMap>depsMap:arr>dep \\u91CC\\u9762\\u5C31\\u4F1A\\u6709\\u4E24\\u4E2A\\u4E86 [f, f]\"),\"\\n    console\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"{\"),\"n\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" targetMap\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\")),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token tag\"}),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token tag\"}),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"</\"),\"script\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\">\"))))),mdx(\"p\",{parentName:\"li\"},\"\\u8F93\\u51FA\\u7ED3\\u679C\\uFF1A\"),mdx(\"p\",{parentName:\"li\"},\"![image-20200519095740412]\",\"(/Users/simon/Library/Application Support/typora-user-images/image-20200519095740412.png)\"),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"effect(() => (n = observed[0]))\"),\"\\u4F1A\\u6267\\u884C\\u4E00\\u6B21 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"fn\"),\" \\uFF0C\\u5373\\u53D6\\u4E86\\u4E00\\u6B21\\u6570\\u7EC4\\u7684 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"0\"),\" \\u4E0B\\u6807\\u503C\\uFF0C\\u89E6\\u53D1\\u4E86 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"get\")),mdx(\"li\",{parentName:\"ul\"},\"\\u68C0\\u6D4B\\u5230\\u662F\\u6570\\u7EC4\\u8FDB\\u5165\\u6570\\u7EC4\\u4F9D\\u8D56\\u6536\\u96C6\\u7A0B\\u5E8F\",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"arrayInstrumentations\"),\" \\uFF0C\\u89E6\\u53D1 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"track\"),\" \\u6536\\u96C6\\u4F9D\\u8D56\")),mdx(\"p\",{parentName:\"li\"},\"\\uD83D\\uDE46\\u200D\\u2642\\uFE0F\\uFF0C\\u4F9D\\u8D56\\u54B1\\u6536\\u96C6\\u5230\\u4E86\\uFF0C\\u7B2C\\u4E09\\u6B65\\u5C31\\u662F\\u5982\\u4F55\\u53BB\\u89E6\\u53D1\\u5B83\\u4EEC\\u4E86 >>>>\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"\\u6570\\u7EC4\\u7684 set->trigger \\u5B9E\\u9645\\u4E0A\\u5DF2\\u7ECF\\u652F\\u6301\\u4E86\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u89E6\\u53D1 updater\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"trigger\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" type\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" newValue\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" oldValue\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" oldTarget\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ...\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"type \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'clear'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ...\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"else\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'length'\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\" Array\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"isArray\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ...\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"else\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5982\\u679C\\u662F\\u6570\\u7EC4\\uFF0C\\u4F20\\u5165 key \\u662F\\u7D22\\u5F15\\u503C\\uFF0C\\u4F1A\\u8FDB\\u5165\\u8FD9\\u4E2A if \\u8FDB\\u884C\\u4F9D\\u8D56\\u6536\\u96C6\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!==\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"void\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5BF9\\u8C61\\u5C5E\\u6027 deps\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"add\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"depsMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n\\t\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ...\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",{parentName:\"li\"},\"\\u6240\\u4EE5\\u4E0B\\u9762\\u7684\\u793A\\u4F8B\\uFF1A\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"html\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-html\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-html\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token tag\"}),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token tag\"}),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"<\"),\"script\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token attr-name\"}),\"type\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token attr-value\"}),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"=\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"\\\"\"),\"module\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"\\\"\")),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\">\")),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token script\"}),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token language-javascript\"}),\"\\n    \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token keyword\"}),\"import\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"{\"),\" reactive\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" effect\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" targetMap \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token keyword\"}),\"from\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token string\"}),\"'./packages/reactive.js'\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token keyword\"}),\"let\"),\" n\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" m\\n    \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token keyword\"}),\"let\"),\" arr \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"[\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token string\"}),\"'vue'\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token string\"}),\"'reactive'\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"]\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token keyword\"}),\"const\"),\" observed \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"(\"),\"arr\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"(\"),\"n \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"=\"),\" observed\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"[\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token number\"}),\"0\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"]\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"(\"),\"m \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"=\"),\" observed\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"[\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token number\"}),\"0\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"]\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    observed\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"[\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token number\"}),\"0\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token string\"}),\"'setter n'\"),\"\\n    observed\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"[\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token string\"}),\"'setter m'\"),\"\\n    console\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"{\"),\"n\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" m\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" targetMap\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \")),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token tag\"}),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token tag\"}),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"</\"),\"script\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\">\"))))),mdx(\"p\",{parentName:\"li\"},\"\\u8F93\\u51FA\\u7ED3\\u679C(set \\u6570\\u7EC4\\u5143\\u7D20\\u503C\\u7684\\u65F6\\u5019\\u51FA\\u53D1\\u4E86 dep \\u66F4\\u65B0 n, m \\u7684\\u503C)\\uFF1A\"))),mdx(\"p\",null,mdx(\"img\",_extends({parentName:\"p\"},{\"src\":\"http://qiniu.ii6g.com/1589858380.png?imageMogr2/thumbnail/!100p\",\"alt\":null}))),mdx(\"ol\",{\"start\":4},mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"\\u6700\\u540E jest \\u6D4B\\u8BD5\\u7ED3\\u679C(\\u5931\\u8D25\\u2026):\\n\\u539F\\u56E0\\u662F\\u4E4B\\u524D\\u7684 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"createGetter\"),\"\\u4EE3\\u7801\\u53C8\\u6709\\u4E2A\\u95EE\\u9898\\uFF0C\\u8FD4\\u56DE\\u7684\\u65F6\\u5019\\u68C0\\u6D4B\\u7ED3\\u679C\\u7684\\u65F6\\u5019\\uFF0C\\u9012\\u5F52 reactive \\u4F20\\u9012\\u4E86 target\\uFF0C\\u5E94\\u8BE5\\u662F res \\u624D\\u5BF9\\uFF1A\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" res \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"typeof\"),\" res \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'object'\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" isReadonly\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"readonly\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4FEE\\u6B63\\uFF1Atarget -> res\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4FEE\\u6B63\\uFF1Atarget -> res\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" res\"))),mdx(\"p\",{parentName:\"li\"},\"\\u4FEE\\u6B63\\u4E4B\\u540E jest \\u7ED3\\u679C(:perfect)\\uFF1A\"),mdx(\"blockquote\",{parentName:\"li\"},mdx(\"p\",{parentName:\"blockquote\"},\"\\u2601  vue-next-code-read \",\"[master]\",\" \\u26A1  jest\\nPASS  packages/\",mdx(\"strong\",{parentName:\"p\"},\"tests\"),\"/reactive/reactive.spec.js\\nreactivity/reactive\\n\\u2713 Object (4 ms)\\n\\u2713 \\u5D4C\\u5957\\u7684 reactives (1 ms)\"),mdx(\"p\",{parentName:\"blockquote\"},\"Test Suites: 1 passed, 1 total\\nTests:       2 passed, 2 total\\nSnapshots:   0 total\\nTime:        7.547 s\\nRan all test suites.\\n\\u2601  vue-next-code-read \",\"[master]\",\" \\u26A1\")))),mdx(\"p\",null,\"OK\\uFF0C\\u6570\\u7EC4\\u7684 reactive \\u5B8C\\u6210\\u3002\"),mdx(\"hr\",null),mdx(\"h2\",{\"id\":\"jest-测试：\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#jest-%E6%B5%8B%E8%AF%95%EF%BC%9A\",\"aria-label\":\"jest 测试： permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"jest \\u6D4B\\u8BD5\\uFF1A\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"text\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-text\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-text\"}),\"\\u2601  vue-next-code-read [master] \\u26A1  jest\\nFAIL  packages/__tests__/reactive/reactive.spec.js\\nreactivity/reactive\\n\\u2713 Object (5 ms)\\n\\u2713 \\u5D4C\\u5957\\u7684 reactives (1 ms)\\n\\u2713 observed value should proxy mutations to original (Object) (1 ms)\\n\\u2713 setting a property with an unobserved value should wrap with reactive (1 ms)\\n\\u2715 observing already observed value should return same Proxy (4 ms)\\n\\u2715 should not pollute original object with Proxies (2 ms)\\n\\u2715 unwrap\\n\\u2713 should not unwrap Ref<T>\\n\\u2713 should unwrap computed refs\\n\\u2715 non-observable values (36 ms)\\n\\u2715 markRaw\\n\\u2715 should not observe frozen objects (1 ms)\\nshallowReactive\\n\\u2715 should not make non-reactive properties reactive\\n\\u2715 should keep reactive properties reactive\"))),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},mdx(\"font\",{color:\"red\"},\"\\u2715 observing already observed value should return same Proxy (4 ms)\"),\"\\u8FD9\\u4E2A\\u662F\\u56E0\\u4E3A `createReactiveObject()`\\u91CC\\u9762\\u5224\\u65AD\\u7684\\u65F6\\u5019\\u5224\\u65AD\\u9519\\u8BEF\\uFF1A\",mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"toRaw\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"has\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"observed\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4FEE\\u6B63\\u6210\\uFF1Atarget\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" target\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",{parentName:\"li\"},\"\\u4FEE\\u6539\\u540E\\u6D4B\\u8BD5\\u901A\\u8FC7\\u3002\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"font\",{color:\"red\"},\"\\u2715 should not pollute original object with Proxies (5 ms)\"),\"\\u4FEE\\u6539\\uFF1A\",mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createSetter\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"shallow \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token boolean\"}),\"false\")),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" value\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" receiver\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u65B0\\u589E\\u5224\\u65AD\\uFF0C\\u5982\\u679C\\u662F\\u9012\\u5F52 reactive \\u8BBE\\u7F6E\\u7684\\u65F6\\u5019\\u53D6\\u539F\\u59CB\\u503C\\u53BB\\u4F20\\u9012\\u7ED9 reflect\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"shallow\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6BD4\\u5982\\uFF1Avalue \\u5982\\u679C\\u662F Observed\\uFF0C\\u90A3\\u4E48\\u4ECE reactiveToRaw \\u4E2D\\u53D6 proxy \"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4E4B\\u524D\\u7684\\u90A3\\u4E2A target \\u51FA\\u6765\\uFF0C\\u7ED9 reflect\"),\"\\n      value \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toRaw\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// TODO !shallow is ref\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// const res = Reflect.set(...arguments)\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8FD9\\u91CC\\u5C31\\u4E0D\\u80FD\\u76F4\\u63A5 ...arguments \\u4E86\\uFF0C\\u90FD\\u5C06\\u6700\\u65B0\\u7684 value \\u4F20\\u9012\\u4E0B\\u53BB\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" res \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" Reflect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" receiver\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",{parentName:\"li\"},\"\\u4FEE\\u6539\\u540E\\u6D4B\\u8BD5\\u901A\\u8FC7\\u3002\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"font\",{color:\"red\"},\"\\u2715 unwrap\"),\"\\u662F\\u56E0\\u4E3A\\u6CA1\\u6709\\u5BFC\\u51FA `toRaw` \\u51FD\\u6570\\u5BFC\\u81F4\\u7684\\uFF0C\\u5BFC\\u5165\\u4E0B\\u5C31\\u597D\\u4E86\\u3002\"),mdx(\"li\",{parentName:\"ol\"},mdx(\"font\",{color:\"red\"},\"\\u2715 non-observable values (8 ms)\"),\"\\u9700\\u8981\\u6539\\u4E9B\\u4E0B\\u6D4B\\u8BD5\\u7528\\u4F8B\\uFF1A\\u6E90\\u7801\\u91CC\\u9762\\u52A0\\u4E86 expect -> toHaveBeenWarnedLast \\u4E3A\\u4E86\\u66F4\\u53CB\\u597D\\u7684\\u63D0\\u793A\\u3002\",mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"/// \\u4FEE\\u6539\\u540E\\uFF1A\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'foo'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'foo'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"false\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"false\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"null\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"null\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"undefined\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"undefined\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" s \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"Symbol\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"s\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"s\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"))))),mdx(\"li\",{parentName:\"ol\"},mdx(\"font\",{color:\"red\"},\" \\u2715 markRaw\"),\"\\u5728 `createReactiveObject()` \\u4E2D\\u589E\\u52A0 `canObserve(target)` \\u68C0\\u6D4B\\u89E3\\u51B3\\uFF0C\\u56E0\\u4E3A\\u68C0\\u6D4B\\u4E2D\\u5C31\\u6709\\u4E00\\u9879 `rawValues.has(value)`\"),mdx(\"li\",{parentName:\"ol\"},mdx(\"font\",{color:\"red\"},\"\\u2715 should not observe frozen objects (1 ms)\"),\"\\u5728 `createReactiveObject()` \\u4E2D\\u589E\\u52A0 `canObserve(target)` \\u68C0\\u6D4B\\u89E3\\u51B3\\u3002\"),mdx(\"li\",{parentName:\"ol\"},mdx(\"font\",{color:\"red\"},\"\\u2715 should not make non-reactive properties reactive\"),\"\\u6CA1\\u5BFC\\u51FA `shallowReactive`\\u3002\"),mdx(\"li\",{parentName:\"ol\"},mdx(\"font\",{color:\"red\"},\"\\u2715 should keep reactive properties reactive\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u7C97\\u5FC3\\u7684\\u9505\\uFF0C\\u8FD9\\u4E2A\\u5199\\u53CD\\u4E86\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" shallowSet \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createGetter\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"false\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" shallowGet \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createSetter\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4FEE\\u6B63\\uFF1A\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" shallowSet \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createSetter\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" shallowGet \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createSetter\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"false\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\")))))),mdx(\"p\",null,\"\\u4FEE\\u6B63\\u4E0A\\u8FF0\\u95EE\\u9898\\u4E4B\\u540E jest \\u7ED3\\u679C\\uFF1A\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"text\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-text\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-text\"}),\"vue-next-code-read [master] \\u26A1  jest\\nPASS  packages/__tests__/reactive/reactive.spec.js\\nreactivity/reactive\\n\\u2713 Object (6 ms)\\n\\u2713 \\u5D4C\\u5957\\u7684 reactives\\n\\u2713 observed value should proxy mutations to original (Object) (1 ms)\\n\\u2713 setting a property with an unobserved value should wrap with reactive (1 ms)\\n\\u2713 observing already observed value should return same Proxy\\n\\u2713 should not pollute original object with Proxies (1 ms)\\n\\u2713 unwrap\\n\\u2713 should not unwrap Ref<T> (1 ms)\\n\\u2713 should unwrap computed refs\\n\\u2713 non-observable values (2 ms)\\n\\u2713 markRaw (1 ms)\\n\\u2713 should not observe frozen objects (1 ms)\\nshallowReactive\\n\\u2713 should not make non-reactive properties reactive\\n\\u2713 should keep reactive properties reactive\\n\\nTest Suites: 1 passed, 1 total\\nTests:       14 passed, 14 total\\nSnapshots:   0 total\\nTime:        6.436 s\\nRan all test suites.\"))),mdx(\"span\",{id:\"code1\"},\"\\u9636\\u6BB5\\u4EE3\\u7801\\u94FE\\u63A5 [reactive_with_array.js](https://github.com/gcclll/vue-next-code-read/blob/master/bakups/reactive_with_array.js)  \\u4EE3\\u7801\"),mdx(\"h1\",{\"id\":\"handlers续basehandlers-的-delete-has-ownkeys\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h1\"},{\"href\":\"#handlers%E7%BB%ADbasehandlers-%E7%9A%84-delete-has-ownkeys\",\"aria-label\":\"handlers续basehandlers 的 delete has ownkeys permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"handlers\\u7EED(baseHandlers \\u7684 delete, has, ownKeys)\"),mdx(\"p\",null,\"\\u524D\\u9762\\u5B8C\\u6210\\u4E86 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"proxy-set\"),\" \\u548C \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"proxy-get\"),\"\\uFF0C\\u8FD9\\u8282\\u7EE7\\u7EED\\u5B8C\\u6210\\u5176\\u4ED6\\u7684 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"proxy\"),\"\\uFF0C\\u5305\\u542B\\uFF1A\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"deleteProperty(target, key)\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"ownKeys(target)\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"has(target, key)\"))),mdx(\"h2\",{\"id\":\"delete\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#delete\",\"aria-label\":\"delete permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"delete\"),mdx(\"p\",null,\"\\u5728\\u4E4B\\u524D\\u5B9E\\u73B0\\u7684\\u57FA\\u7840\\u4E0A \",mdx(\"a\",_extends({parentName:\"p\"},{\"href\":\"https://github.com/gcclll/vue-next-code-read/blob/master/bakups/reactive_with_array.js\"}),\"reactive.js\"),\" \\u589E\\u52A0 delete proxy\\uFF0C\\u8FD9\\u4E4B\\u524D\\u5148\\u6765\\u770B\\u4E0B\\u73B0\\u6709\\u7684\\u529F\\u80FD\\u662F\\u5426\\u652F\\u6301 delete \\u64CD\\u4F5C\\u3002\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" target \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" foo\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" bar\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"2\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" n \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" dum\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'updating...'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\ndum \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"bar\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"/* console.log(targetMap.get(target), dum, 'map') */\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" dum \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'before'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"delete\"),\" n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"bar  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// code 1\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// n.bar = 3 // code2\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" dum \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'after'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\")))),mdx(\"p\",null,\"\\u8FD9\\u91CC\\u5148\\u6CE8\\u518C\\u4E00\\u4E2A updater\\uFF0C\\u540E\\u9762\\u901A\\u8FC7\\u66F4\\u65B0 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"n.bar\"),\" \\u503C\\uFF0C\\u6765\\u89E6\\u53D1 updater\\uFF0C\\u7ED3\\u679C\\uFF1A\"),mdx(\"blockquote\",null,mdx(\"p\",{parentName:\"blockquote\"},\"updating\\u2026\\n{dum: 2} \\u201Cbefore\\u201D\\nupdating\\u2026\\n{dum: 3} \\u201Cafter\\u201D\")),mdx(\"p\",null,\"\\u7ED3\\u679C\\u5982\\u6211\\u4EEC\\u6240\\u6599\\uFF0C\\u7136\\u540E\\u628A code1 \\u653E\\u5F00\\uFF0C\\u6CE8\\u91CA\\u6389 code2\\uFF0C\\u7406\\u8BBA\\u4E0A\\u4E5F\\u4F1A\\u89E6\\u53D1 updater\\uFF1A\"),mdx(\"blockquote\",null,mdx(\"p\",{parentName:\"blockquote\"},\"updating\\u2026\\n{dum: 2} \\u201Cbefore\\u201D\\n{dum: 2} \\u201Cafter\\u201D\")),mdx(\"p\",null,\"\\u5B9E\\u9645\\u7ED3\\u679C\\u975E\\u6211\\u4EEC\\u6240\\u6599\\uFF0C\\u56E0\\u4E3A\\u8FD8\\u6CA1\\u5B9E\\u73B0\\u2026\"),mdx(\"p\",null,\"\\u63A5\\u4E0B\\u6765\\u770B\\u4E0B\\u8981\\u5B9E\\u73B0 delete proxy \\u9700\\u8981\\u54EA\\u4E9B\\u6B65\\u9AA4 >>>>>>\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"\\u58F0\\u660E  delete proxy handler : \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"deleteProperty\")),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// delete proxy\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"deleteProperty\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" key\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" hadKey \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"hasOwnProperty\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" oldValue \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),\"key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u64CD\\u4F5C\\u5148\\u6267\\u884C\\u4E0B\\u53BB\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" result \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" Reflect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"deleteProperty\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5982\\u679C\\u6267\\u884C\\u6210\\u529F\\u4E14\\u81EA\\u8EAB\\u5B58\\u5728\\u8BE5\\u5C5E\\u6027\\uFF0C\\u6392\\u9664\\u539F\\u578B\\u94FE\\u64CD\\u4F5C\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"result \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\" hadKey\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u76F4\\u63A5\\u89E6\\u53D1 updaters\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"trigger\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'delete'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"undefined\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" oldValue\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" result \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4E0D\\u80FD\\u4E22\\uFF0C\\u5FC5\\u987B\\u53CD\\u9988\\u5220\\u9664\\u7ED3\\u679C boolean\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"))))),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"\\u52A0\\u5165\\u5230\",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"mutableHandlers\"),\" \"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" mutableHandlers \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  deleteProperty\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))))),mdx(\"p\",null,\"\\u53EA\\u8981\\u7ECF\\u8FC7\\u4E0A\\u9762\\u7B80\\u5355\\u7684\\u4E24\\u6B65\\u5C31\\u5B9E\\u73B0\\u4E86 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"delete\"),\" \\u64CD\\u4F5C\\u4EE3\\u7406\\uFF0C\\u4F46\\u6267\\u884C\\u7ED3\\u679C\\u5374\\u62A5\\u9519\\u4E86(\\u660E\\u660E\\u548C\\u6E90\\u7801\\u4E00\\u6837\\u554A\\uFF0C\\u60B2\\u50AC\\u3012\\u25BD\\u3012!!!)\"),mdx(\"p\",null,mdx(\"img\",_extends({parentName:\"p\"},{\"src\":\"http://qiniu.ii6g.com/1590046965.png?imageMogr2/thumbnail/!100p\",\"alt\":null}))),mdx(\"p\",null,\"\\u4ECE\\u8F93\\u51FA\\u53EF\\u4EE5\\u770B\\u5230\\uFF0C delete \\u64CD\\u4F5C\\u786E\\u5B9E\\u89E6\\u53D1\\u4E86 updater\\uFF0C\\u6700\\u540E \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"dum: undefined\"),\" \\u4E5F\\u8BC1\\u660E\\u4E86\\u8FD9\\u70B9\\u3002\"),mdx(\"p\",null,\"\\u81F3\\u4E8E\\u62A5\\u9519\\u2026\\uFF0C(\\u2299o\\u2299)\\u2026\\uFF0C(\\u2299o\\u2299)\\u2026\\uFF0C\\u5C11\\u4E86\\u4E2A \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"return result\"),\" \\u5C06\\u5220\\u9664\\u64CD\\u4F5C\\u7ED3\\u679C\\u8FD4\\u56DE\\u3002\"),mdx(\"h2\",{\"id\":\"has\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#has\",\"aria-label\":\"has permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"has\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"has\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" key\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" result \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" Reflect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"has\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"track\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'has'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" result\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",null,\"\\u66F4\\u65B0 mutableHandlers:\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" mutableHandlers \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  deleteProperty\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  has\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",null,\"\\u6D4B\\u8BD5\\uFF1A\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" target \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" foo\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" bar\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"2\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" n \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" dum\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" has\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function-variable function\"}),\"updater\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  console\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'updating...'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  dum \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'bar'\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"in\"),\" n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"updater\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" dep \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" targetMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'bar'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"for\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" fn \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"of\"),\" dep\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  console\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"fn\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"raw\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" fn\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"raw \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" updater\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'deps'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" dum \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'before'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nn\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"bar \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"3\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" dum \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'after'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\")))),mdx(\"p\",null,\"\\u7ED3\\u679C\\uFF1A\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"'bar' in n\"),\" \\u6536\\u96C6\\u4F9D\\u8D56 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"updater\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"n.bar = 3\"),\" \\u89E6\\u53D1 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"ownKeys\"),\" \\u6536\\u96C6\\u5230\\u7684 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"updater\"))),mdx(\"blockquote\",null,mdx(\"p\",{parentName:\"blockquote\"},\"updating\\u2026\\n() => {\\nconsole.log(\\u2018updating\\u2026\\u2019)\\ndum = \\u2018bar\\u2019 in n\\n} true \\u201Cdeps\\u201D\\n{dum: true} \\u201Cbefore\\u201D\\nupdating\\u2026\\n{dum: true} \\u201Cafter\\u201D\")),mdx(\"h2\",{\"id\":\"ownkeys\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#ownkeys\",\"aria-label\":\"ownkeys permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"ownKeys\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"ownKeys\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"track\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'iterate'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token constant\"}),\"ITERATE_KEY\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" Reflect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"ownKeys\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",null,\"\\u66F4\\u65B0 mutableHandlers:\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" mutableHandlers \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  deleteProperty\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  has\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  ownKeys\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",null,\"\\u6CE8\\u610F \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"ownKeys\"),\" \\u7684\\u5B9E\\u73B0\\u91CC\\u4F7F\\u7528\\u5230 \\u4E86\\u4E00\\u4E2A Symbol: ITERATE_KEY\\uFF0C\\u5F00\\u59CB\\u4E00\\u76F4\\u4E0D\\u660E\\u767D \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"trigger\"),\" \\u91CC\\u4E3A\\u5565\\u4F1A\\u7528\\u5230\\u8FD9\\u4E2A\\u53BB \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"depsMap.get(ITERRATE_KEY)\"),\"\\uFF0C\\u8FD9\\u91CC\\u5E94\\u8BE5\\u660E\\u767D\\u662F\\u600E\\u4E48\\u56DE\\u4E8B\\u4E86\\uFF0C\\u5C31\\u662F\\u9488\\u5BF9\\u5BF9\\u8C61\\u7684\\u8FED\\u4EE3\\u5668\\u64CD\\u4F5C\\u7684\\u65F6\\u5019\\uFF0C\\u4F7F\\u7528\\u5230 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"ownKeys\"),\"\\uFF0C\\u9700\\u8981\\u5BF9\\u8BE5\\u64CD\\u4F5C\\u6536\\u96C6\\u4F9D\\u8D56\\uFF0C\\u90A3\\u4E48\\u5C31\\u9700\\u8981\\u6709\\u4E2A\\u552F\\u4E00\\u7684 key \\u53BB\\u8BBE\\u7F6E \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"targetMap, depsMap\"),\"\\uFF0C\\u8FD9\\u91CC\\u7684 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"ITERATE_KEY\"),\" \\u5C31\\u662F\\u8FD9\\u4E2A\\u4F5C\\u7528\\uFF0C\\u7528\\u5B83\\u6765\\u6536\\u96C6(track)\\u5BF9\\u8C61\\u8FED\\u4EE3\\u64CD\\u4F5C\\u7684\\u6240\\u6709\\u4F9D\\u8D56\\uFF0C\\u7136\\u540E\\u901A\\u8FC7 trigger \\u91CC\\u9762\\u67E5\\u627E\\u8FD9\\u4E2A\\u7B26\\u53F7\\u503C\\u53BB\\u53D6\\u6240\\u6709 updaters\\u3002\"),mdx(\"p\",null,\"\\u6D4B\\u8BD5\\uFF1A\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" target \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" foo\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" bar\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"2\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" n \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" dum\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" has\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function-variable function\"}),\"updater\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  console\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'updating...'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  dum \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" Object\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"keys\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u89E6\\u53D1\\u4F9D\\u8D56\\u6536\\u96C6\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"updater\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" dep \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" targetMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token constant\"}),\"ITERATE_KEY\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"for\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" it \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"of\"),\" dep\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  console\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"it\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"raw\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" it\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"raw \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" updater\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'deps'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dum\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'before'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nn\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"bar \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"3\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u89E6\\u53D1 updaters\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dum\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'after'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\")))),mdx(\"p\",null,\"\\u7ED3\\u679C\\uFF1A\"),mdx(\"blockquote\",null,mdx(\"p\",{parentName:\"blockquote\"},\"updating\\u2026\\n{foo: 1, bar: 2} \\u201Cown keys\\u201D\\n() => {\\nconsole.log(\\u2018updating\\u2026\\u2019)\\ndum = Object.keys(n)\\n} true \\u201Cdeps\\u201D\\n(2) \",\"[\\u201Cfoo\\u201D, \\u201Cbar\\u201D]\",\" \\u201Cbefore\\u201D\\n(2) \",\"[\\u201Cfoo\\u201D, \\u201Cbar\\u201D]\",\" \\u201Cafter\\u201D\")),mdx(\"p\",null,\"\\u4F46\\u662F\\u53D1\\u73B0\\u5E76\\u6CA1\\u6709\\u89E6\\u53D1 updaters\\u3002\"),mdx(\"p\",null,\"trigger \\u91CC\\u9762\\u52A0\\u6253\\u5370\\u7ED3\\u679C\\uFF1A\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u975E\\u6570\\u7EC4\\u7684\\u5220\\u9664\\u6216\\u6DFB\\u52A0\\u64CD\\u4F5C\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" isAddOrDelete \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\"\\n      type \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'add'\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"||\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"type \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'delete'\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"Array\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"isArray\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" type\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" target \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"instanceof\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Map\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5BF9\\u8C61\\u7684\\u5C5E\\u6027\\u7684\\u65B0\\u589E\\u548C\\u5220\\u9664\\uFF0C\\u6216\\u8005 Map \\u7C7B\\u578B\\u7684 set \\u64CD\\u4F5C\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"isAddOrDelete \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"||\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"type \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'set'\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\" target \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"instanceof\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Map\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"add\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"depsMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"Array\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"isArray\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'length'\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token constant\"}),\"ITERATE_KEY\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",null,\"\\u8F93\\u51FA \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"{type: \\\"set\\\", key: \\\"foo\\\"} false\"),\" \\u8BF4\\u660E\\u786E\\u5B9E\\u6709\\u89E6\\u53D1 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"trigger\"),\"\\uFF0C\\u4F46\\u662F\\u6761\\u4EF6\\uFF1A\"),mdx(\"p\",null,mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"if (isAddOrDelete || (type === 'set' && target instanceof Map))\")),mdx(\"p\",null,\"\\u963B\\u6B62\\u4E86\\u5B83\\u8FDB\\u5165 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"add\"),\" \\u6536\\u96C6 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"ITERATE_KEY\"),\" \\u5BF9\\u5E94\\u7684\\u4F9D\\u8D56\\uFF0C\\u56E0\\u4E3A target \\u4E0D\\u662F Map \\u7C7B\\u578B\\u3002\"),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"TODO \\u4E3A\\u5565\\u4F1A\\u8FD9\\u6837\\uFF1F\\uFF1F\\uFF1F\\uFF1F\\uFF1F\\uFF1F\\uFF1F\")),mdx(\"h2\",{\"id\":\"jest-测试\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#jest-%E6%B5%8B%E8%AF%95\",\"aria-label\":\"jest 测试 permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"jest \\u6D4B\\u8BD5\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"text\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-text\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-text\"}),\"\\u2601  vue-next-code-read [master] \\u26A1  jest\\nPASS  packages/__tests__/reactive/reactive.spec.js\\nFAIL  packages/__tests__/reactive/effect.spec.js\\n\\u25CF reactivity/effect \\u203A should observe iteration\\n\\nexpect(received).toBe(expected) // Object.is equality\\n\\nExpected: \\\"Hello World!\\\"\\nReceived: \\\"Hello\\\"\\n\\n161 |     expect(dummy).toBe('Hello')\\n162 |     list.push('World!')\\n\\n  > 163 |     expect(dummy).toBe('Hello World!')\\n  >  |                   ^\\n  > 164 |     list.shift()\\n  > 165 |     expect(dummy).toBe('World!')\\n  > 166 |   })\\n\\n    at Object.<anonymous> (packages/__tests__/reactive/effect.spec.js:163:19)\\n\\n\\u25CF reactivity/effect \\u203A should observe implicit array length changes\\n\\n  expect(received).toBe(expected) // Object.is equality\\n\\n  Expected: \\\"Hello World!\\\"\\n  Received: \\\"Hello\\\"\\n\\n    173 |     expect(dummy).toBe('Hello')\\n    174 |     list[1] = 'World!'\\n\\n  > 175 |     expect(dummy).toBe('Hello World!')\\n  >  |                   ^\\n  > 176 |     list[3] = 'Hello!'\\n  > 177 |     expect(dummy).toBe('Hello World!  Hello!')\\n  > 178 |   })\\n\\n    at Object.<anonymous> (packages/__tests__/reactive/effect.spec.js:175:19)\\n\\n\\u25CF reactivity/effect \\u203A should observe enumeration\\n\\n  expect(received).toBe(expected) // Object.is equality\\n\\n  Expected: 7\\n  Received: 3\\n\\n    203 |     expect(dummy).toBe(3)\\n    204 |     numbers.num2 = 4\\n\\n  > 205 |     expect(dummy).toBe(7)\\n  >  |                   ^\\n  > 206 |     delete numbers.num1\\n  > 207 |     expect(dummy).toBe(4)\\n  > 208 |   })\\n\\n    at Object.<anonymous> (packages/__tests__/reactive/effect.spec.js:205:19)\\n\\n\\u25CF reactivity/effect \\u203A should not observe well-known symbol keyed properties\\n\\n  expect(received).toBe(expected) // Object.is equality\\n\\n  Expected: undefined\\n  Received: true\\n\\n    234 |     array[key] = true\\n    235 |     expect(array[key]).toBe(true)\\n\\n  > 236 |     expect(dummy).toBe(undefined)\\n  >  |                   ^\\n  > 237 |   })\\n  > 238 |\\n  > 239 |   it('should observe function valued properties', () => {\\n\\n    at Object.<anonymous> (packages/__tests__/reactive/effect.spec.js:236:19)\\n\\n\\u25CF reactivity/effect \\u203A should observe json methods\\n\\n  expect(received).toBe(expected) // Object.is equality\\n\\n  Expected: 1\\n  Received: undefined\\n\\n    523 |     })\\n    524 |     obj.a = 1\\n\\n  > 525 |     expect(dummy.a).toBe(1)\\n  >  |                     ^\\n  > 526 |   })\\n  > 527 |\\n  > 528 |   it('should observe class method invocations', () => {\\n\\n    at Object.<anonymous> (packages/__tests__/reactive/effect.spec.js:525:21)\\n\\n\\u25CF reactivity/effect \\u203A scheduler\\n\\n  expect(jest.fn()).toHaveBeenCalledTimes(expected)\\n\\n  Expected number of calls: 1\\n  Received number of calls: 0\\n\\n    573 |     // should be called on first trigger\\n    574 |     obj.foo++\\n\\n  > 575 |     expect(scheduler).toHaveBeenCalledTimes(1)\\n  >  |                       ^\\n  > 576 |     // should not run yet\\n  > 577 |     expect(dummy).toBe(1)\\n  > 578 |     // manually run\\n\\n    at Object.<anonymous> (packages/__tests__/reactive/effect.spec.js:575:23)\\n\\n\\u25CF reactivity/effect \\u203A events: onTrack\\n\\n  expect(jest.fn()).toHaveBeenCalledTimes(expected)\\n\\n  Expected number of calls: 3\\n  Received number of calls: 0\\n\\n    598 |     )\\n    599 |     expect(dummy).toEqual(['foo', 'bar'])\\n\\n  > 600 |     expect(onTrack).toHaveBeenCalledTimes(3)\\n  >  |                     ^\\n  > 601 |     expect(events).toEqual([\\n  > 602 |       {\\n  > 603 |         effect: runner,\\n\\n    at Object.<anonymous> (packages/__tests__/reactive/effect.spec.js:600:21)\\n\\n\\u25CF reactivity/effect \\u203A events: onTrigger\\n\\n  expect(jest.fn()).toHaveBeenCalledTimes(expected)\\n\\n  Expected number of calls: 1\\n  Received number of calls: 0\\n\\n    637 |     obj.foo++\\n    638 |     expect(dummy).toBe(2)\\n\\n  > 639 |     expect(onTrigger).toHaveBeenCalledTimes(1)\\n  >  |                       ^\\n  > 640 |     expect(events[0]).toEqual({\\n  > 641 |       effect: runner,\\n  > 642 |       target: toRaw(obj),\\n\\n    at Object.<anonymous> (packages/__tests__/reactive/effect.spec.js:639:23)\\n\\n\\u25CF reactivity/effect \\u203A stop\\n\\n  TypeError: (0 , _reactive2.stop) is not a function\\n\\n    667 |     obj.prop = 2\\n    668 |     expect(dummy).toBe(2)\\n\\n  > 669 |     stop(runner)\\n  >  |     ^\\n  > 670 |     obj.prop = 3\\n  > 671 |     expect(dummy).toBe(2)\\n  > 672 |\\n\\n    at Object.<anonymous> (packages/__tests__/reactive/effect.spec.js:669:5)\\n\\n\\u25CF reactivity/effect \\u203A stop with scheduler\\n\\n  expect(received).toBe(expected) // Object.is equality\\n\\n  Expected: 1\\n  Received: 2\\n\\n    689 |     )\\n    690 |     obj.prop = 2\\n\\n  > 691 |     expect(dummy).toBe(1)\\n  >  |                   ^\\n  > 692 |     expect(queue.length).toBe(1)\\n  > 693 |     stop(runner)\\n  > 694 |\\n\\n    at Object.<anonymous> (packages/__tests__/reactive/effect.spec.js:691:19)\\n\\n\\u25CF reactivity/effect \\u203A events: onStop\\n\\n  TypeError: (0 , _reactive2.stop) is not a function\\n\\n    704 |     })\\n    705 |\\n\\n  > 706 |     stop(runner)\\n  >  |     ^\\n  > 707 |     expect(onStop).toHaveBeenCalled()\\n  > 708 |   })\\n  > 709 |\\n\\n    at Object.<anonymous> (packages/__tests__/reactive/effect.spec.js:706:5)\\n\\n\\u25CF reactivity/effect \\u203A stop: a stopped effect is nested in a normal effect\\n\\n  TypeError: (0 , _reactive2.stop) is not a function\\n\\n    714 |       dummy = obj.prop\\n    715 |     })\\n\\n  > 716 |     stop(runner)\\n  >  |     ^\\n  > 717 |     obj.prop = 2\\n  > 718 |     expect(dummy).toBe(1)\\n  > 719 |\\n\\n    at Object.<anonymous> (packages/__tests__/reactive/effect.spec.js:716:5)\\n\\n\\u25CF reactivity/effect \\u203A should trigger all effects when array length is set 0\\n\\n  expect(received).toBe(expected) // Object.is equality\\n\\n  Expected: 3\\n  Received: 1\\n\\n    773 |\\n    774 |     observed.unshift(3)\\n\\n  > 775 |     expect(dummy).toBe(3)\\n  >  |                   ^\\n  > 776 |     expect(record).toBe(3)\\n  > 777 |\\n  > 778 |     observed.length = 0\\n\\n    at Object.<anonymous> (packages/__tests__/reactive/effect.spec.js:775:19)\\n\\nTest Suites: 1 failed, 1 passed, 2 total\\nTests:       13 failed, 49 passed, 62 total\\nSnapshots:   0 total\\nTime:        2.917 s, estimated 3 s\\nRan all test suites.\"))),mdx(\"p\",null,\"\\u5168\\u662F\\u5931\\u8D25\\u554A\\uFF01\\uFF01\\uFF01\"),mdx(\"p\",null,\"\\u8FD8\\u662F\\u8001\\u8001\\u5B9E\\u5B9E\\u7684\\u4E00\\u4E2A\\u4E2A\\u6765\\u89E3\\u51B3\\u5427\\u2026\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},mdx(\"font\",{color:\"red\"},\"\\u25CF reactivity/effect \\u203A should observe iteration\"),mdx(\"p\",{parentName:\"li\"},\"\\u6570\\u7EC4\\u64CD\\u4F5C\\u5931\\u8D25\\uFF0Cpush \\u7684\\u65F6\\u5019\\u6CA1\\u6709\\u89E6\\u53D1 updater\\u3002\"),mdx(\"p\",{parentName:\"li\"},\"\\u793A\\u4F8B\\uFF1A\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" list \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'Hello'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" dummy\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  console\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'updating....'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" list\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"join\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"' '\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"targetMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'dep'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'1'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nlist\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'hello'\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"/* list.push('World!') */\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'2'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\")))),mdx(\"p\",{parentName:\"li\"},\"\\u7ED3\\u679C(\\u76F4\\u63A5\\u7D22\\u5F15\\u8D4B\\u503C\\u662F\\u751F\\u6548\\u7684\\uFF0C\\u90A3\\u4E48\\u4E3A\\u5565 push \\u6CA1\\u7528\\uFF1F\\uFF1F\\uFF1F)\\uFF1A\"),mdx(\"blockquote\",{parentName:\"li\"},mdx(\"p\",{parentName:\"blockquote\"},\"updating\\u2026\\ntest.html:20 WeakMap {Array(1) => Map(3)} \\u201Cdep\\u201D\\ntest.html:21 Hello 1\\ntest.html:17 updating\\u2026\\ntest.html:24 hello 2\")),mdx(\"p\",{parentName:\"li\"},\"\\u5728 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"list.push('World!')\"),\" \\u5904\\u6253\\u4E2A\\u65AD\\u70B9\\uFF1A\"),mdx(\"p\",{parentName:\"li\"},\"\\u5148\\u89E6\\u53D1\\u7684\\u662F\",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"list\"),\" \\u7684 get push :\"),mdx(\"p\",{parentName:\"li\"},mdx(\"img\",_extends({parentName:\"p\"},{\"src\":\"http://qiniu.ii6g.com/1590068611.png?imageMogr2/thumbnail/!100p\",\"alt\":null}))),mdx(\"p\",{parentName:\"li\"},\"\\u7136\\u540E\\u518D\\u662F\\u89E6\\u53D1\\u7684 length get\"),mdx(\"p\",{parentName:\"li\"},mdx(\"img\",_extends({parentName:\"p\"},{\"src\":\"http://qiniu.ii6g.com/1590068464.png?imageMogr2/thumbnail/!100p\",\"alt\":null}))),mdx(\"p\",{parentName:\"li\"},\"\\u89E6\\u53D1 key: 1 \\u7684 updater\\uFF0C\\u4F46\\u6700\\u540E\\u6CA1\\u6709\\u4EFB\\u4F55\\u4F9D\\u8D56\\u88AB\\u53D1\\u73B0\\uFF1F\\uFF1F\\uFF1F\"),mdx(\"p\",{parentName:\"li\"},mdx(\"img\",_extends({parentName:\"p\"},{\"src\":\"http://qiniu.ii6g.com/1590068984.png?imageMogr2/thumbnail/!100p\",\"alt\":null}))),mdx(\"p\",{parentName:\"li\"},mdx(\"img\",_extends({parentName:\"p\"},{\"src\":\"http://qiniu.ii6g.com/1590069039.png?imageMogr2/thumbnail/!100p\",\"alt\":null}))),mdx(\"p\",{parentName:\"li\"},\"\\u770B\\u6700\\u540E\\u7684\\u56FE\\u53D1\\u73B0\\u95EE\\u9898\\uFF0C\\u9996\\u5148\\uFF0C\\u6570\\u7EC4\\u5C31\\u4E00\\u4E2A\\u5143\\u7D20\\uFF0C\\u957F\\u5EA6\\u4E3A1\\uFF0C\\u6700\\u5927\\u7D22\\u5F15\\u4E3A0\\uFF0C\\u5728 push \\u4E4B\\u540E\\uFF0C\\u957F\\u5EA6\\u4E3A2\\uFF0C\\u6700\\u5927\\u7D22\\u5F15\\u4E3A1\\uFF0C\\u4E5F\\u5C31\\u662F\\u8BF4\\u8FD9\\u4E2A\\u65B0\\u7684\\u7D22\\u5F15\\u5373\\u65B0\\u7684 key\\uFF0C\\u5C5E\\u4E8E\\u65B0\\u589E\\u5C5E\\u6027\\u64CD\\u4F5C\\uFF0C\\u5E94\\u8BE5\\u8981\\u8D70\\u5230 trigger:add \\uFF0C\\u4F46\\u662F\\u5B9E\\u9645\\u8D70\\u4E86 trigger:set \\u91CC\\u9762\\u53BB\\u4E86\\u3002\"),mdx(\"p\",{parentName:\"li\"},\"\\u95EE\\u9898\\u5C31\\u5728 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"if(!target.hasOwnProperty(key))\"),\" \\u8FD9\\u4E00\\u884C\\uFF0C\\u5B83\\u4E0D\\u5E94\\u8BE5\\u53D6 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"Reflect.set(...)\"),\" \\u4E4B\\u540E\\u7684 target \\u56E0\\u4E3A\\u8FD9\\u662F\\u66F4\\u65B0\\u4E4B\\u540E\\u7684\\uFF0C\\u80AF\\u5B9A\\u6709 key: 1\\u4E86\\u3002\"),mdx(\"p\",{parentName:\"li\"},\"\\u4FEE\\u6539\\uFF1A \"),mdx(\"p\",{parentName:\"li\"},\"\\u5728 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"Reflect.set(...)\"),\" \\u4E4B\\u524D\\u5148 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"hadKey = target.hasOwnProperty(key)\"),\" \\u7136\\u540E\\u4F7F\\u7528\\u7F13\\u5B58\\u7684 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"hadKey\"),\" \\u8FDB\\u884C\\u5224\\u65AD \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"if(!hadKey) {...}\"),\"\\u3002\"),mdx(\"p\",{parentName:\"li\"},\"\\u4FEE\\u6539\\u4E4B\\u540E\\u6D4B\\u8BD5\\u901A\\u8FC7\\uFF1A\"),mdx(\"blockquote\",{parentName:\"li\"},mdx(\"p\",{parentName:\"blockquote\"},\"\\u2601  vue-next-code-read \",\"[master]\",\" \\u26A1  jest\\nPASS  packages/\",mdx(\"strong\",{parentName:\"p\"},\"tests\"),\"/reactive/reactive.spec.js\\nPASS  packages/\",mdx(\"strong\",{parentName:\"p\"},\"tests\"),\"/reactive/effect.spec.js\"),mdx(\"p\",{parentName:\"blockquote\"},\"Test Suites: 2 passed, 2 total\\nTests:       26 passed, 26 total\\nSnapshots:   0 total\\nTime:        7.645 s\\nRan all test suites.\"))),mdx(\"li\",{parentName:\"ol\"},mdx(\"font\",{color:\"red\"},\"\\u25CF reactivity/effect \\u203A should not observe well-known symbol keyed properties\"),mdx(\"p\",{parentName:\"li\"},\"js \\u5185\\u7F6E\\u7684\\u7B26\\u53F7\\u5C5E\\u6027\\uFF0C\\u4E0D\\u80FD\\u88AB observe\\uFF0C\\u8FD9\\u662F\\u56E0\\u4E3A \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"createGetter\"),\" \\u91CC\\u9762\\u8FD8\\u6CA1\\u5B8C\\u6210 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"Symbol\"),\" \\u7C7B\\u578B\\u7684\\u68C0\\u6D4B\\uFF0C\\u4E0B\\u9762\\u52A0\\u4E0A\\u5C31OK\\u4E86\\u3002\"),mdx(\"p\",{parentName:\"li\"},\"\\u9700\\u8981\\u589E\\u52A0\\u4EE5\\u4E0B\\u5185\\u5BB9\\uFF1A\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// 1. \\u7B26\\u53F7\\u7C7B\\u578B\\u68C0\\u6D4B\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function-variable function\"}),\"isSymbol\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"val\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"typeof\"),\" val \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'symbol'\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// 2. Symbol \\u4E0A\\u7684\\u6240\\u6709\\u7B26\\u53F7\\u5C5E\\u6027\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" builtInSymbols \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"\\n  Object\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"getOwnPropertyNames\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"Symbol\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"map\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"key\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"Symbol\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),\"key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"filter\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"isSymbol\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// 3. createGetter\\u4E2D\\u589E\\u52A0\\u5224\\u65AD\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createGetter\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"...\"),\"arg\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ...\"),\"\\n  \\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"isSymbol\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\" builtInSymbols\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"has\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"||\"),\" key \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'__proto__'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" res\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"  \\n  \\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ....\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\"))),mdx(\"p\",{parentName:\"li\"},\"\\u91CD\\u6D4B jest \\u901A\\u8FC7\\u3002\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"font\",{color:\"red\"},\"\\u25CF reactivity/effect \\u203A scheduler\"),\"\\u771F\\u6000\\u7591\\u5F53\\u65F6\\u81EA\\u5DF1\\u662F\\u6545\\u610F\\u7684\\uFF0C\\u5C3D\\u662F\\u4E9B\\u5730\\u7EA7\\u9519\\u8BEF\\uFF08\\u6342\\u8138\\uFF0C\\uD83E\\uDD26\\u200D\\u2640\\uFE0F\\uFF0C(*/\\u03C9\\uFF3C*)\\uFF09\\uFF01\\uFF01\\uFF01\",mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4FEE\\u6539\\u524D\\uFF1A\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// if (effect.options && effect.options.shecduler) {\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4FEE\\u6539\\u540E\\uFF1A\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"options \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\" effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"options\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"scheduler\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"))))),mdx(\"li\",{parentName:\"ol\"},mdx(\"font\",{color:\"red\"},\"\\u25CF reactivity/effect \\u203A events: onTrack\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"font\",{color:\"red\"},\"\\u25CF reactivity/effect \\u203A events: onTrigger\"),mdx(\"p\",{parentName:\"li\"},\"\\u4E24\\u4E2A\\u662F\\u5728 \",mdx(\"strong\",{parentName:\"p\"},\"DEV\"),\" \\u6A21\\u5F0F\\u4E0B\\u624D\\u4F1A\\u6267\\u884C\\u7684\\uFF0C\\u6CA1\\u6709\\u5B8C\\u6210\\uFF0C\\u73B0\\u5728\\u7ED9\\u52A0\\u4E0A\\u53BB\\u5427\\u3002\"),mdx(\"p\",{parentName:\"li\"},\"Track \\u91CC\\u9762\\uFF0C\\u5728 if dep.has \\u6700\\u540E\\u9762\\u589E\\u52A0\\u7EDF\\u8BA1\\u4E8B\\u4EF6 onTrack\\uFF1A\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"track\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" type\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" key\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ...\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"dep\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"has\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"activeEffect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ...\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"__DEV__ \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\" activeEffect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"options \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\" activeEffect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"options\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"onTrack\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      activeEffect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"options\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"onTrack\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n        effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" activeEffect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n        target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n        type\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n        key\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",{parentName:\"li\"},\"Trigger \\u91CC\\u9762\\uFF0C\\u5728\\u6267\\u884C updaters \\u7684\\u5F00\\u5934\\u589E\\u52A0 onTrigger \\u4E8B\\u4EF6\\uFF1A\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"trigger\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" type\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" newValue\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" oldValue\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" oldTarget\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ...\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function-variable function\"}),\"run\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" hasOpt \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"options\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"__DEV__ \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\" hasOpt \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\" effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"options\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"onTrigger\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"options\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"onTrigger\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n        effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n        target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n        key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n        type\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n        newValue\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n        oldValue\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n        oldTarget\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ...\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",{parentName:\"li\"},\"\\u52A0\\u5B8C\\uFF0Cjest \\u901A\\u8FC7\\u3002\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"font\",{color:\"red\"},\"\\u25CF stop\"),\"\\u589E\\u52A0 stop \\u51FD\\u6570\\uFF0C\\u505C\\u6B62 effect \\u884C\\u4E3A\\uFF0C\\u4E3B\\u8981\\u901A\\u8FC7 effect.active\\uFF0C\\u6E05\\u7406 effect.deps \\u6765\\u63A7\\u5236\\uFF0C\\u963B\\u6B62\\u89E6\\u53D1 deps\\u3002\",mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"stop\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"active\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"cleanup\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"options \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\" effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"options\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"onStop\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"options\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"onStop\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n    effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"active \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"false\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))))),mdx(\"p\",null,\"\\u5230\\u6B64 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"effect.spec.ts\"),\" \\u4E2D\\u9664\\u4E86 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"ref\"),\" \\u6709\\u5173\\u7684\\u6D4B\\u8BD5\\u7528\\u4F8B\\u5168\\u90E8\\u6D4B\\u8BD5\\u901A\\u8FC7\\uFF0C\"),mdx(\"p\",null,mdx(\"img\",_extends({parentName:\"p\"},{\"src\":\"http://qiniu.ii6g.com/1590139513.png?imageMogr2/thumbnail/!100p\",\"alt\":null}))),mdx(\"p\",null,\"\\u4E0B\\u9762\\u6765\\u9010\\u4E2A\\u5206\\u6790 >>> go go go\\u2026\"),mdx(\"h2\",{\"id\":\"测试用例结果分析\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%E7%BB%93%E6%9E%9C%E5%88%86%E6%9E%90\",\"aria-label\":\"测试用例结果分析 permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"\\u6D4B\\u8BD5\\u7528\\u4F8B\\u7ED3\\u679C\\u5206\\u6790\"),mdx(\"p\",null,\"\\u901A\\u8FC7\\u8FD0\\u884C \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"jest --verbose\"),\" \\u5C06\\u6240\\u6709\\u7528\\u4F8B\\u6D4B\\u8BD5\\u7ED3\\u679C\\u5217\\u51FA\\uFF1A\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should run the passed function once (wrapped by a effect) (4 ms)\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"it\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'should run the passed function once (wrapped by a effect)'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" fnSpy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" jest\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"fn\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"fnSpy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// effect() \\u5B9E\\u73B0\\u91CC\\u9762\\uFF0C\\u5982\\u679C\\u6CA1\\u6709\\u4F20 options.lazy \\u5C31\\u4F1A\\u7ACB\\u5373\\u6267\\u884C\\u4E00\\u6B21\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"fnSpy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toHaveBeenCalledTimes\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u56E0\\u6B64\\u8FD9\\u91CC fnSpy \\u4F1A\\u88AB\\u8C03\\u7528\\u4E00\\u6B21\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should observe basic properties (1 ms)\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"it\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'should observe basic properties'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" dummy\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" counter \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" num\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// updater: dummy = counter.num\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u88AB\\u7ACB\\u5373\\u8C03\\u7528\\uFF0C dummy = 0\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u7531\\u4E8E counter.num \\u89E6\\u53D1 trigger:get \\uFF0C\\u6536\\u96C6dep: 'num'->Set(1): updater\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" counter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"num\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \\n\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// true\"),\"\\n    counter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"num \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"7\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8D4B\\u503C\\uFF0Ctrigger: set \\u89E6\\u53D1 updater\\uFF0C\\u8D4B\\u503C dummy\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"7\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// true\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\")))),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should observe multiple properties\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"it\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'should observe multiple properties'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" dummy\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// obj ={num1: 0, num2: 0}\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" counter \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" num1\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" num2\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// updater: ...\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// updater \\u88AB\\u7ACB\\u5373\\u8C03\\u7528\\uFF0Ccounter \\u7684 num1, num2 \\u88AB\\u8BBF\\u95EE\\uFF0C\\u5206\\u522B\\u89E6\\u53D1\\u4ED6\\u4EEC\\u7684 trigger:get\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6536\\u96C6\\u4F9D\\u8D56\\uFF0C\\u4E09\\u6B21\\u8BBF\\u95EE\\uFF0C\\u4E09\\u6B21\\u6536\\u96C6\\u540C\\u4E00\\u4E2A updater\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u7531\\u4E8E targetMap -> depsMap -> dep: new Set() \\u662F\\u4E2A\\u96C6\\u5408\\u7C7B\\u578B\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u56E0\\u6B64\\u867D\\u7136\\u662F\\u4E09\\u6B21\\u8BBF\\u95EE\\uFF0C\\u4F46\\u6536\\u96C6\\u7684\\u90FD\\u662F updater\\uFF0C\\u56E0\\u6B64\\u6BCF\\u4E2A dep \\u91CC\\u9762\\u4FDD\\u5B58\\u7684\\u662F\\u540C\\u4E00\\u4E2A updater\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" counter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"num1 \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"+\"),\" counter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"num1 \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"+\"),\" counter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"num2\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u9996\\u6B21\\u8C03\\u7528 updater \\u65F6\\u5019\\u8D4B\\u503C\\u4E86 0 + 0 + 0 = 0\"),\"\\n  \\t\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8FD9\\u91CC\\u5148\\u540E\\u8D4B\\u503C\\u4E86 num1, num2\\uFF0C\\u89E6\\u53D1\\u4E86\\u4E24\\u6B21 updater\"),\"\\n  \\t\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// first: 0 + 0 + 7\"),\"\\n  \\t\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// second: 7 + 7 + 7 = 21\"),\"\\n  \\t\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6D4B\\u8BD5\\u5982\\u4E0B\\u9762\\u7684\\u793A\\u4F8B\\u4EE3\\u7801\"),\"\\n    counter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"num1 \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" counter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"num2 \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"7\"),\" \\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"21\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// true\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"  \\n\"))),mdx(\"p\",{parentName:\"li\"},\"\\u6D4B\\u8BD5\\u4EE3\\u7801\\uFF1A\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n    n \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" counter \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" num1\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" num2\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"++\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" counter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"num1 \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"+\"),\" counter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"num1 \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"+\"),\" counter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"num2\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" n \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\ncounter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"num1 \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" counter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"num2 \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"7\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" n \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"2\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\")))),mdx(\"p\",{parentName:\"li\"},\"\\u7ED3\\u679C\\u56FE\\u793A\\uFF1A\"),mdx(\"p\",{parentName:\"li\"},mdx(\"img\",_extends({parentName:\"p\"},{\"src\":\"http://qiniu.ii6g.com/1590139770.png?imageMogr2/thumbnail/!100p\",\"alt\":null}))),mdx(\"ol\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ol\"},\"depsMap \\u6709\\u4E24\\u4E2A map\\uFF0C\\u5206\\u522B\\u662F num1, num2\\uFF0C\"),mdx(\"li\",{parentName:\"ol\"},\"trigger: set \\u89E6\\u53D1\\u4E86\\u4E24\\u6B21\\uFF0C\\u4E14 num2 \\u5148\\u89E6\\u53D1 num1 \\u7D27\\u968F\\u5176\\u540E\\uFF0C\\u56E0\\u4E3A\\u8D4B\\u503C\\u64CD\\u4F5C\\u662F\\u4ECE\\u53F3\\u5230\\u5DE6\\u7684\\u987A\\u5E8F\\u8FDB\\u884C\\u3002    \"))),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should handle multiple effects (1 ms)\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"it\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'should handle multiple effects'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" dummy1\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" dummy2\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" counter \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" num\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy1 \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" counter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"num\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6536\\u96C6 updater1\\uFF0C\\u6267\\u884C\\u4E00\\u6B21\\uFF0Cdummy1  = 0\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy2 \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" counter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"num\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6536\\u96C6 updater2, \\u6267\\u884C\\u4E00\\u6B21\\uFF0Cdummy2 = 0\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy1\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// true \"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy2\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// true\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// trigger:set \\u53D6\\u51FA targetMap-depsMap-num:dep:Set(2) \\u5373 updater1, updater2\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6267\\u884C updaters \\u4E4B\\u540E\\uFF0C\\u91CD\\u65B0\\u590D\\u5236dummy1, dummy2 = 1\"),\"\\n  counter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"num\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"++\"),\" \\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy1\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// true\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy2\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// true\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\" \\u2713 should observe nested properties (1 ms) \"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"it\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'should observe nested properties'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" dummy\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5D4C\\u5957\\u7684 reactive \\u662F\\u5728 createReativeObject \\u91CC\\u9762\\u5B8C\\u6210\\u7684\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5728\\u6700\\u540E return \\u7ED3\\u679C\\u7684\\u65F6\\u5019\\u68C0\\u6D4B\\u4E86\\u662F\\u5426\\u662F isObject \\uFF0C\\u5982\\u679C\\u662F\\u8FDB\\u4E00\\u6B65\\u68C0\\u6D4B\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// isReadonly \\u4E0E\\u5426\\uFF0C\\u975E\\u53EA\\u8BFB\\u8FD4\\u56DE reactive(res) \\u5BF9\\u7ED3\\u679C\\u9012\\u5F52\\u8C03\\u7528\\u4E00\\u6B21\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u524D\\u63D0\\u662F\\u6CA1\\u6709\\u8BBE\\u7F6Eshallow \\u6807\\u5FD7\\uFF0C\\u8BE5\\u6807\\u8BC6\\u8868\\u660E\\u53EA\\u5BF9\\u76EE\\u524D\\u7684\\u5BF9\\u8C61\\u53EA\\u505A\\u6D45reactive\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5373\\u53EA\\u505A\\u5BF9\\u8C61\\u7684\\u4E00\\u7EA7\\u54CD\\u5E94\\u5F0F\\uFF0C\\u91CC\\u9762\\u5D4C\\u5957\\u7684\\u5BF9\\u8C61\\u539F\\u6837\\u8FD4\\u56DE\\u3002\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8FD9\\u91CC\\u8C03\\u7528\\u7684\\u662F reactive \\u663E\\u7136\\u662F\\u9012\\u5F52 reactive \\u7684\\u3002\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// obj = { nested: {num: 0 }}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" counter \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" nested\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" num\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8FD9\\u91CC\\u4F1A\\u89E6\\u53D1\\u4E24\\u6B21 getter\\uFF0C\\u4E00\\u6B21\\u662F counter.nested\\uFF0C\\u4E00\\u6B21\\u662F nested.num\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// targetMap{ obj -> map, nested -> map } \\u5B58\\u653E\\u4E86\\u4E24\\u4E2A\\u5BF9\\u8C61\\u7684\\u6620\\u5C04\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// obj:map -> 'nested':Set(1), nested:map -> 'num':Set(1)\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// Set(1) \\u90FD\\u662F\\u4E0B\\u9762\\u7684 updater\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" counter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"nested\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"num\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// true\"),\"\\n  counter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"nested\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"num \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"8\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u53EA\\u4F1A\\u89E6\\u53D1 'num':Set(1)\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"8\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// true\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\")))),mdx(\"p\",{parentName:\"li\"},\"\\u8F6C\\u6D4B\\u8BD5\\u4EE3\\u7801\\u7ED3\\u679C\\uFF1A\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" dummy\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" counter \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" nested\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" num\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" counter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"nested\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"num\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\ncounter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"nested\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"num \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"7\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"2\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\")))))),mdx(\"p\",null,\"  \",mdx(\"img\",_extends({parentName:\"p\"},{\"src\":\"http://qiniu.ii6g.com/1590118132.png?imageMogr2/thumbnail/!100p\",\"alt\":null}))),mdx(\"p\",null,\"  \\u200B\\t\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"text\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-text\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-text\"}),\"  1.\\tLoc1 : \\u8BBF\\u95EE counter.nested \\u6536\\u96C6\\u7684 `{counter:{nested:{num:0}}} -> Map{'nested' -> Set(1)}` \\u4F9D\\u8D56\\u3002\\n  2.\\tLoc2: \\u8BBF\\u95EE nested.num \\u6536\\u96C6\\u7684 {num:7}->Map{'num'->Set(1)} \\u4F9D\\u8D56\\u3002\\n  3.\\tLoc2: \\u6CE8\\u610F\\u770B\\u8FD9\\u91CC\\uFF0C\\u5F53\\u7ED9 counter.nested.num = 7 \\u8D4B\\u503C\\u7684\\u65F6\\u5019\\u53EA\\u4F1A\\u89E6\\u53D1 'num' -> Set(1)\\u3002\"))),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\" \\u2713 should observe delete operations (1 ms)\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"it\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'should observe delete operations'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" dummy\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" obj \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" prop\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'value'\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" obj\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"prop\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6536\\u96C6\\u4F9D\\u8D56 updater\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'value'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// true\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5BF9\\u8C61\\u5C5E\\u6027\\u7684\\u5220\\u9664\\u64CD\\u4F5C\\uFF0C\\u53EA\\u4F1A\\u89E6\\u53D1 trigger \\u91CC\\u9762\\u7684 if (key !== void 0) \\u6536\\u96C6\\u4F9D\\u8D56\\u8FDB effects: []\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"delete\"),\" obj\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"prop \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u89E6\\u53D1 updater \\u91CD\\u65B0\\u590D\\u5236 dummy: undefined\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"undefined\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// true\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\" \\u2713 should observe has operations (1 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should observe properties on the prototype chain (9 ms)\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"t\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'should observe properties on the prototype chain'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" dummy\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" counter \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" num\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" parentCounter \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" num\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"2\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    Object\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"setPrototypeOf\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"counter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" parentCounter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" counter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"num\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6536\\u96C6 updater\"),\"\\n\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// true\"),\"\\n  \\t\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8FD9\\u91CC\\u5220\\u9664\\u64CD\\u4F5C\\u89E6\\u53D1 deleteProperty proxy handler\"),\"\\n  \\t\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// trigger: delete -> run deps -> \\u89E6\\u53D1 updater\"),\"\\n  \\t\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u7531\\u4E8E updater \\u91CC\\u9762\\u8BBF\\u95EE\\u4E86 counter.num \\uFF0C\\u800C counter \\u81EA\\u8EAB\\u7684 num \\u5728\\u8FD9\\u65F6\\u5019\\u5DF2\\u7ECF\\u88AB\\u5220\\u9664\\u4E86\"),\"\\n  \\t\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6CE8\\u610F\\uFF1AdeletePropery \\u91CC\\u9762\\u662F\\u5148\\u6267\\u884C\\u4E86 Reflect.deleteProperty(...) \"),\"\\n  \\t\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u7136\\u540E\\u518D\\u89E6\\u53D1\\u7684 trigger:delete\\u7684\\uFF0C\\u56E0\\u6B64\\u5728 updater \\u6267\\u884C\\u7684\\u65F6\\u5019 counter.num \\u5DF2\\u7ECF\\u4E0D\\u5B58\\u5728\"),\"\\n  \\t\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4F46\\u662F\\u6839\\u636E\\u5BF9\\u8C61\\u5C5E\\u6027\\u7684\\u8BBF\\u95EE\\u539F\\u7406\\uFF0C\\u4F1A\\u53BB\\u68C0\\u67E5\\u539F\\u578B\\u94FE\\u4E0A\\u7236\\u7EA7\\u5BF9\\u8C61\\u7684\\uFF0C\\u6700\\u540E\\u4F1A\\u627E\\u5230 parentCounter.num\"),\"\\n  \\t\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u7136\\u540E\\u53D6\\u51FA\\u5B83\\u7684\\u503C\\uFF1Anum: 2 \\u8D4B\\u503C\\u7ED9 dummy\\uFF0C\\u6240\\u4EE5\\u4E0B\\u9762 dummy toBe(2) \\u4E3A true\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"delete\"),\" counter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"num\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"2\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \\t\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8FD9\\u91CC\\u6539\\u53D8 parent num \\u65F6\\u5019\\u4E5F\\u4F1A\\u89E6\\u53D1 updater\"),\"\\n  \\t\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u662F\\u56E0\\u4E3A\\u4E0A\\u9762\\u7684 delete \\u64CD\\u4F5C\\u5BFC\\u81F4\\u53BB\\u68C0\\u67E5\\u4E86\\u539F\\u578B\\u94FE\\uFF0C\\u8BBF\\u95EE\\u4E86 parentCounter.num \\uFF0C\\u8FD9\\u4E2A\\u65F6\\u5019\"),\"\\n  \\t\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4E5F\\u76F8\\u5F53\\u4E8E\\u89E6\\u53D1\\u4E86  parentCounter.num \\u7684 get \\uFF0C\\u6536\\u96C6\\u4E86 updater\"),\"\\n    parentCounter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"num \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"4\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"4\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// true\"),\"\\n  \\t\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8FD9\\u91CC\\u91CD\\u65B0\\u590D\\u5236\\uFF0C\\u89E6\\u53D1 counter.num \\u7684 set(createSetter)\\uFF0C\"),\"\\n  \\t\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u68C0\\u6D4B\\u5230\\u81EA\\u8EAB\\u6CA1\\u6709\\u8BE5\\u5C5E\\u6027(\\u5728Reflect.set()\\u4E4B\\u524D)\"),\"\\n  \\t\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u7136\\u540E\\u89E6\\u53D1 trigger:add \\u589E\\u52A0\\u5C5E\\u6027\\u7684\\u64CD\\u4F5C\"),\"\\n  \\t\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5728 trigger \\u91CC\\u9762\\uFF0C\\u89E6\\u53D1\\u4E4B\\u524D\\u6536\\u96C6\\u5230\\u7684 updater\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// (\\u6CE8\\u610F\\uFF1Acounter.num \\u7684 dep \\u8FD9\\u4E2A\\u65F6\\u5019\\u5E76\\u6CA1\\u6709\\u88AB\\u79FB\\u9664\\u7684)\"),\"\\n    counter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"num \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"3\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"3\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\")))),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should observe has operations on the prototype chain\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should observe inherited property accessors (2 ms)\"),mdx(\"p\",{parentName:\"li\"},\"\\u8BBF\\u95EE\\u5668\\u5C5E\\u6027\\u4E5F\\u662F\\u4E00\\u6837\\u7684\\u9053\\u7406\\u3002\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should observe function call chains (1 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should observe iteration (1 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should observe implicit array length changes\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should observe sparse array mutations (1 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should observe enumeration (2 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should observe symbol keyed properties (2 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should not observe well-known symbol keyed properties (2 ms)\"),mdx(\"p\",{parentName:\"li\"},\"\\u5DF2\\u77E5\\u7684\\u7B26\\u53F7\\u5C5E\\u6027\\uFF0C\\u5728 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"createReactiveObject\"),\" \\u91CC\\u9762\\u5C31\\u88AB\\u8FC7\\u6EE4\\u6389\\u4E86\"),mdx(\"p\",{parentName:\"li\"},mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"if (isSymbol(res) && builtInSymbols.has(res) || res === '__proto__')\"),\"\\u3002\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should observe function valued properties (1 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should observe chained getters relying on this (1 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should observe methods relying on this (1 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should not observe set operations without a value change (1 ms)\"),mdx(\"p\",{parentName:\"li\"},\"\\u503C\\u6CA1\\u53D1\\u751F\\u53D8\\u5316\\u7684\\u65F6\\u5019\\u4E0D\\u4F1A\\u91CD\\u590D\\u89E6\\u53D1 udpaters\\uFF0C\",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"createSetter\"),\" \\u91CC\\u9762\\u5C31\\u5DF2\\u7ECF\\u6709\\u4E86\\u5224\\u65AD\\uFF1A\"),mdx(\"p\",{parentName:\"li\"},mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"if (value !== oldValue && (value === value || oldValue === oldValue))\")),mdx(\"p\",{parentName:\"li\"},\"\\u503C\\u6CA1\\u53D8\\u4E0D\\u4F1A trigger: set\\uFF0C\\u540E\\u9762\\u7684\\u662F\\u4E3A\\u4E86\\u8FC7\\u6EE4\\u6389 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"NaN\"),\" \\u7684\\u60C5\\u51B5\\u3002\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should not observe raw mutations (1 ms)\"),mdx(\"p\",{parentName:\"li\"},mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"toRaw\"),\" \\u5C31\\u662F\\u5C06 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"observed\"),\" \\u8F6C\\u6210\\u539F\\u59CB\\u7684\\u90A3\\u4E2A\\u5BF9\\u8C61\\uFF0C\\u5C31\\u4E0D\\u518D\\u662F\\u54CD\\u5E94\\u5F0F\\u7684\\u4E86\\uFF0C\\u5F53\\u7136\\u4E0D\\u4F1A\\u6709\\u5565\\u4F5C\\u7528\\u3002\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should not be triggered by raw mutations\"),mdx(\"p\",{parentName:\"li\"},\"\\u540C\\u4E0A\\u3002\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should not be triggered by inherited raw setters (1 ms)\"),mdx(\"p\",{parentName:\"li\"},\"\\u540C\\u4E0A\\u3002\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"span\",{id:\"test-case-rloops\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should avoid implicit infinite recursive loops with itself (1 ms)\")),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" counter \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" num\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" n \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function-variable function\"}),\"counterSpy\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"++\"),\"\\n  counter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"num\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"++\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"counterSpy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"counter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'1'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\ncounter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"num \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"4\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"counter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'2'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\")))),mdx(\"p\",{parentName:\"li\"},\"\\u8FD0\\u884C\\u7ED3\\u679C\\uFF1A\"),mdx(\"blockquote\",{parentName:\"li\"},mdx(\"p\",{parentName:\"blockquote\"},\"// \\u8FD9\\u91CC\\u662F updater \\u91CC\\u9762\\u7684 counter.num++ \\u89E6\\u53D1\\u7684get\"),mdx(\"p\",{parentName:\"blockquote\"},\"{num: 0} {type: \\u201Cget\\u201D, key: \\u201Cnum\\u201D, shouldTrack: true, activeEffect: \\u0192} \\u201Ctrack\\u201D\"),mdx(\"p\",{parentName:\"blockquote\"},\"// \\u56E0\\u4E3A counter.num++ \\u89E6\\u53D1\\u7684 set\"),mdx(\"p\",{parentName:\"blockquote\"},\"Map(1) {\\u201Cnum\\u201D => Set(1)} {type: \\u201Cset\\u201D, key: \\u201Cnum\\u201D, newValue: 1, oldValue: 0} \\u201Ctrigger\\u201D\\nProxy {num: 1} 1 \\u201C1\\u201D // log\"),mdx(\"p\",{parentName:\"blockquote\"},\"// \\u8D4B\\u503C\\u64CD\\u4F5C\\u5F15\\u53D1\\u7684 trigger:set\"),mdx(\"p\",{parentName:\"blockquote\"},\"Map(1) {\\u201Cnum\\u201D => Set(1)} {type: \\u201Cset\\u201D, key: \\u201Cnum\\u201D, newValue: 4, oldValue: 1} \\u201Ctrigger\\u201D\"),mdx(\"p\",{parentName:\"blockquote\"},\"// set \\u89E6\\u53D1\\u4E86updater -> trigger:get \"),mdx(\"p\",{parentName:\"blockquote\"},\"{num: 4} {type: \\u201Cget\\u201D, key: \\u201Cnum\\u201D, shouldTrack: true, activeEffect: \\u0192} \\u201Ctrack\\u201D\"),mdx(\"p\",{parentName:\"blockquote\"},\"// counter.num++ -> trigger:set\"),mdx(\"p\",{parentName:\"blockquote\"},\"Map(1) {\\u201Cnum\\u201D => Set(1)} {type: \\u201Cset\\u201D, key: \\u201Cnum\\u201D, newValue: 5, oldValue: 4} \\u201Ctrigger\\u201D\\nProxy {num: 5} 2 \\u201C2\\u201D\")),mdx(\"p\",{parentName:\"li\"},\"\\u597D\\u50CF\\u6CA1\\u53D1\\u73B0\\u54EA\\u91CC\\u62E6\\u622A\\u4E86\\uFF0C\\u4F46\\u662F\\u901A\\u8FC7\\u4E0B\\u9762\\u7684\\u4F8B\\u5B50\\uFF0C\\u786E\\u5B9E\\u53C8\\u4F1A\\u6B7B\\u5FAA\\u73AF\\uFF1A\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" dummy\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" counter \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  num\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" ob\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"update\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ob.num = ob.num + 1\"),\"\\n  dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" ob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"num\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"++\"),\"\\n  console\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" ob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\nob \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Proxy\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"counter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" receiver\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" res \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" Reflect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"...\"),\"arguments\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"update\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" res\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" receiver\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" Reflect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"...\"),\"arguments\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\nob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"num \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"2\"),\"\\n\"))),mdx(\"p\",{parentName:\"li\"},\"node \\u8FD0\\u884C\\u4E4B\\u540E\\uFF1A\"),mdx(\"blockquote\",{parentName:\"li\"},mdx(\"p\",{parentName:\"blockquote\"},\"/Users/simon/github/vuejs/vue-next-code-read/test/test.js:10\\ndummy = ob.num++\\n^\"),mdx(\"p\",{parentName:\"blockquote\"},\"RangeError: Maximum call stack size exceeded\")),mdx(\"p\",{parentName:\"li\"},\"\\u6240\\u4EE5\\u80AF\\u5B9A\\u8FD8\\u662F\\u6709\\u54EA\\u91CC\\u505A\\u4E86\\u5904\\u7406\\uFF0C\\u9632\\u6B62\\u6B7B\\u5FAA\\u73AF\\u3002\"),mdx(\"p\",{parentName:\"li\"},\"\\u7ECF\\u8FC7\\u4E00\\u901A \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"console.log\"),\" \\u4E4B\\u540E\\u53D1\\u73B0\\u5173\\u952E\\u70B9\\u5C31\\u5728 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"trigger\"),\" \\u7684 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"add\"),\" \\u51FD\\u6570\\u91CC\\u9762\\uFF0C\\u5B83\\u5728\\u67E5\\u627E\\u4F9D\\u8D56\\u6DFB\\u52A0\\u5230\\u5C06\\u8981\\u6267\\u884C\\u7684 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"effects\"),\" \\u96C6\\u5408\\u4E2D\\u7684\\u65F6\\u5019\\u6709\\u4E24\\u4E2A\\u524D\\u63D0\\u6761\\u4EF6\\uFF1A\"),mdx(\"ol\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"!shouldTrack\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"effect !== activeEffect\"))),mdx(\"p\",{parentName:\"li\"},mdx(\"img\",_extends({parentName:\"p\"},{\"src\":\"http://qiniu.ii6g.com/1590131447.png?imageMogr2/thumbnail/!100p\",\"alt\":null}))),mdx(\"p\",{parentName:\"li\"},\"\\u56FE\\u4E2D\\u8F93\\u51FA\\u7684\\u4E3B\\u8981\\u5173\\u952E\\u70B9\\u5728\",mdx(\"font\",{color:\"red\",size:\"5\"},\"\\u7EA2\\u8272\"),\" \\u90E8\\u5206\\uFF0C\\u8FD9\\u91CC\\u68C0\\u6D4B\\u5230\\u6B63\\u5728 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"add\"),\" \\u7684 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"effect\"),\" \\u4E0E\\u5F53\\u524D\\u6FC0\\u6D3B\\u72B6\\u6001\\u7684 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"activeEffect\"),\" \\u662F\\u540C\\u4E00\\u4E2A\\u6240\\u4EE5\\u7ED3\\u675F\\u89E6\\u53D1 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"trigger:set\"),\"\\uFF0C\\u4F46\\u662F\\u4E3A\\u4EC0\\u4E48 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"shouldTrack = true\"),\" \\u4E14 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"effect === activeEffect\"),\"\\u5462\\uFF1F\\uFF1F\\uFF1F\"),mdx(\"p\",{parentName:\"li\"},\"\\u90A3\\u4E48\\u5C31\\u8981\\u56DE\\u5934\\u53BB\\u770B \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"effect()\"),\" \\u7684\\u5177\\u4F53\\u5B9E\\u73B0\\u4E86\\uFF0C\\u91CD\\u70B9\\u5728 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"try...finally\"),\"\\u3002\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"try\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"enableTracking\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  effectStack\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"push\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"_effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  activeEffect \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" _effect \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8FD9\\u91CC\\u7684 _effect \\u5C31\\u662F\\u5728 trigger \\u91CC\\u7528\\u6765\\u4E0E activeEffect \\u6BD4\\u8F83\\u7684\"),\"\\n  console\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"...\"),\"_effect \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'effect 1'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"fn\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"...\"),\"args\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// trigger set \\u68C0\\u6D4B shouldTrack \\u548C activeEffect\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"finally\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  effectStack\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"pop\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u800C shouldTrck \\u548C activeEffect \\u91CD\\u7F6E\\u5DE5\\u4F5C\\u5728\\u8FD9\\u91CC\\uFF0C\\u56E0\\u6B64\\u963B\\u6B62\\u4E86 fn \\u91CC\\u9762 ++ \\u64CD\\u4F5C\\u5F15\\u8D77\\u7684\\u6B7B\\u5FAA\\u73AF\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u56E0\\u4E3A trigger -> add \\u9700\\u8981\\u68C0\\u6D4B if (!shouldTrack || effect !== activeEffect)\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u624D\\u4F1A\\u5C06\\u627E\\u5230\\u7684 dep:updater \\u52A0\\u5165\\u5230 run \\u8981\\u6267\\u884C\\u7684 effects: [] \\u4E2D\\u53BB\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"resetTracking\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \\n  activeEffect \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" effectStack\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),\"effectStack\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"length \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"-\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),\"\\n  console\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"...\"),\"_effect \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'effect 2'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",{parentName:\"li\"},\"\\u8FD9\\u6BB5\\u4EE3\\u7801\\u542B\\u4E49\\u5982\\u4E0B\\uFF1A\"),mdx(\"ol\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"\\u5F53\\u6267\\u884C \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"effect(updater)\"),\" \\u65F6\\uFF0C\\u6267\\u884C\\u4E0A\\u9762\\u7684\\u4E00\\u6BB5\\u4EE3\\u7801\\u3002\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"enableTracking()\"),\"  \\u53EA\\u8981\\u77E5\\u9053\\u5B83\\u662F\\u5C06 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"shouldTrack = true\"),\" \\u4E86\\u3002\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"\\u63A5\\u4E0B\\u6765\\u7F13\\u5B58\\uFF0C\\u8D4B\\u503C effect\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"\\u91CD\\u70B9\\u6765\\u4E86\\uFF0C\\u6267\\u884C updater\\uFF0C\\u8FD9\\u91CC\\u6267\\u884C\\u7684 updater\\u91CC\\u9762\\u662F \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"counter.num++\"),\" \\u4F1A\\u4F9D\\u6B21\\u89E6\\u53D1 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"get\"),\" -> \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"set\")),mdx(\"p\",{parentName:\"li\"},\"Get \\u5C31\\u662F\\u6536\\u96C6\\u4F9D\\u8D56\\uFF0C\\u540C\\u4E00\\u4E2A updater \\u53EA\\u4F1A\\u6709\\u4E00\\u4E2A (\",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"Set(1)\"),\")\\u3002\"),mdx(\"p\",{parentName:\"li\"},\"Set \\u8FD9\\u91CC\\u4F1A\\u89E6\\u53D1 trigger:set \\u90A3\\u4E48\\u8FD9\\u91CC\\u4F1A\\u68C0\\u6D4B shouldTrack \\u548C activeEffect\\uFF0C\\u4F46\\u662F\\u8FD9\\u4E2A\\u65F6\\u5019\\u4E24\\u8005\\u7684\\u503C\\u5E76\\u6CA1\\u6709\\u91CD\\u7F6E\\uFF0C\\u4E5F\\u5C31\\u662F\\u8BF4\\u544A\\u8BC9 trigger\\uFF0C \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"effect(updater)\"),\" \\u6211\\u8FD8\\u6CA1\\u6267\\u884C\\u5B8C\\u5462\\uFF0C\\u4F60\\u4E0D\\u80FD\\u91CD\\u590D trigger:set\\uFF0C\\u4F46\\u662F\\u6211\\u4EC0\\u4E48\\u65F6\\u5019\\u624D\\u80FD\\u7EE7\\u7EED trigger\\u5462\\uFF1F\\uFF1F\\uFF1F\\u8FD9\\u5C31\\u662F\\u4E0B\\u9762\\u7B2C5\\u6761\\u8BE5\\u505A\\u7684\\u4E8B\\u60C5\\u4E86\\u3002\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"finally \\u5728 udpater \\u9996\\u6B21\\u6267\\u884C\\u5B8C\\u6210\\u4E4B\\u540E\\u6062\\u590DshouldTrack \\u548CactiveEffect\\u7684\\u503C\\uFF0C\\u4ECE\\u800C\\u7EE7\\u7EED\\u5B8C\\u6210 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"effect(updater)\"),\" \\u7684\\u4EFB\\u52A1\\u76F4\\u5230 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"finally\"),\" \\u7684\\u4EE3\\u7801\\u6267\\u884C\\u5B8C\\u6BD5\\u3002\"))),mdx(\"p\",{parentName:\"li\"},\"\\u5373\\u8FD9\\u4E2A\\u95EE\\u9898\\u7684\\u5173\\u952E\\u70B9\\u5728\\u4E8E 4\\u548C5\\uFF0C\\u6B63\\u662F\\u8FD9\\u91CC\\u7684\\u903B\\u8F91\\u9632\\u6B62\\u4E86 updater \\u91CC\\u9762\\u5BFC\\u81F4 set \\u6B7B\\u5FAA\\u73AF\\u3002\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should allow explicitly recursive raw function loops (1 ms)\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"it\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'should allow explicitly recursive raw function loops'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" counter \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" num\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" numSpy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" jest\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"fn\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      counter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"num\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"++\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"counter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"num \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"<\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"10\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"numSpy\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"numSpy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"counter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"num\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toEqual\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"10\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"numSpy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toHaveBeenCalledTimes\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"10\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\")))),mdx(\"p\",{parentName:\"li\"},\"\\u6709\\u4E86\\u524D\\u9762\\u4E00\\u4E2A\\u6D4B\\u8BD5\\u7528\\u4F8B\\u7684\\u5206\\u6790\\uFF0C\\u8FD9\\u91CC\\u7684\\u539F\\u7406\\u5C31\\u4E00\\u76EE\\u4E86\\u7136\\u4E86\\u3002\"),mdx(\"p\",{parentName:\"li\"},\"\\u9996\\u5148 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"counter.num++\"),\" \\u8FD8\\u662F\\u4F1A\\u56E0\\u4E3A \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"effect(updater)\"),\" \\u6CA1\\u6709\\u5B8C\\u5168\\u7ED3\\u675F\\u800C\\u4E2D\\u65AD\\uFF0C\\u53EA\\u4F1A\\u6267\\u884C\\u4E00\\u6B21 +1 \\u64CD\\u4F5C\\u3002\"),mdx(\"p\",{parentName:\"li\"},\"\\u7D27\\u8DDF\\u7740\\u7684 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"if\"),\" \\u76F8\\u5F53\\u4E8E\\u5728 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"try { return fn(...args) } }\"),\" \\u8FD4\\u56DE\\u7ED3\\u679C\\u4E4B\\u524D\\u53C8\\u8C03\\u7528\\u4E86\\u4E0B\\u81EA\\u5DF1\\uFF0C\\u4E5F\\u5C31\\u662F\\u8BF4 num+1 \\u4F1A\\u6267\\u884C\\u77E5\\u9053 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"num = 10\"),\" \\uFF0C\\u6240\\u4EE5\\u6700\\u540E\\u7ED3\\u679C\\u662F \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"num=10\"),\", updater \\u88AB\\u8C03\\u7528\\u4E86 10\\uFF0C\\u624D\\u8FDB\\u5165\\u4E86 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"effect -> finally\"),\" \\u7ED3\\u675F\\u5F53\\u524D\\u7684 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"effect()\"),\"\\u3002\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should avoid infinite loops with other effects (1 ms)\"),mdx(\"p\",{parentName:\"li\"},\"\\u539F\\u7406\\u5982\\u4E0A\\u4E0A\\u3002\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should return a new reactive version of the function (1 ms)\"),mdx(\"p\",{parentName:\"li\"},\"\\u56E0\\u4E3A \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"effect(fn)\"),\" \\u6700\\u7EC8\\u90FD\\u4F1A\\u88AB\\u5C01\\u88C5\\u6210 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"ReactiveEffect\"),\" \\u7C7B\\u578B\\u7684\\u5BF9\\u8C61\\uFF0C\\u6240\\u4EE5\\u80AF\\u5B9A\\u4E0D\\u76F8\\u7B49\\u4E86\\u3002\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should discover new branches while running automatically (1 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should discover new branches when running manually (1 ms)\"),mdx(\"p\",{parentName:\"li\"},\"\\u8FD9\\u4E24\\u4E2A\\u539F\\u7406\\u90FD\\u4E00\\u6837\\uFF0C\\u5728\\u4E8E \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"?:\"),\" \\u6267\\u884C\\u7684\\u65F6\\u5019\\u6839\\u636E\\u6761\\u4EF6\\u7684\\u771F\\u5047\\u662F\\u5426\\u6709\\u89E6\\u53D1 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"get\"),\"\\u3002\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should not be triggered by mutating a property, which is used in an inactive branch (1 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should not double wrap if the passed function is a effect (1 ms)\"),mdx(\"p\",{parentName:\"li\"},mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"function effect(fn)\"),\" \\u7684\\u7B2C\\u4E00\\u53E5\\u5C31\\u662F\\u4E3A\\u4E86\\u9632\\u6B62\\u8FD9\\u79CD\\u60C5\\u51B5\\u53D1\\u751F\\uFF0C\\u68C0\\u6D4B\\u662F\\u4E0D\\u662F \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"_isEffect\"),\" \\uFF0C\\u662F\\u7684\\u8BDD\\u4F1A\\u5C06 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"fn = fn.raw\"),\" \\u63D0\\u53D6\\u51FA\\u6765\\u3002 \")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should not run multiple times for a single mutation (1 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should allow nested effects (4 ms)\"),mdx(\"p\",{parentName:\"li\"},\"\\u4E0D\\u7BA1\\u5D4C\\u5957\\u4E0D\\u5D4C\\u5957\\u53EA\\u8981 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"effect\"),\" \\u5B8C\\u6574\\u6267\\u884C\\u5B8C\\u6210\\uFF0C\\u5C31\\u80FD\\u987A\\u5229\\u7684\\u8FDB\\u884C\\u4E0B\\u4E00\\u4E2A \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"effect()\"),\"\\u3002\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"span\",{id:\"test-case-json\"},\" \",mdx(\"font\",{color:\"green\"},\"\\u2713 should observe json methods\")),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" obj \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token constant\"}),\"JSON\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"parse\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token constant\"}),\"JSON\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"stringify\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"obj\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"targetMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'before'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"/* obj.a = 1 */\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"/* console.log(targetMap, dummy, 'after') */\")))),mdx(\"p\",{parentName:\"li\"},\"\\u6CE8\\u91CA\\u6700\\u540E\\u4E24\\u884C\\uFF0C\\u770B\\u8F93\\u51FA\"),mdx(\"p\",{parentName:\"li\"},mdx(\"img\",_extends({parentName:\"p\"},{\"src\":\"http://qiniu.ii6g.com/1590134578.png?imageMogr2/thumbnail/!100p\",\"alt\":null}))),mdx(\"p\",{parentName:\"li\"},\"\\u6CE8\\u610F\\u8FD9\\u91CC\\u7684\\u4E00\\u4E2A\\u8FED\\u4EE3\\u5668\\u4E3A key \\u7684 dep\\uFF0C\\u4E5F\\u5C31\\u662F \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"JSON.stringify(obj)\"),\" \\u7684\\u65F6\\u5019\\u8BF4\\u660E\\u6709\\u5BF9 obj \\u8FDB\\u884C\\u904D\\u5386(\\u8FED\\u4EE3\\u5668\\u64CD\\u4F5C\\uFF0C\\u89E6\\u53D1\\u4E86 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"ownKeys\"),\" proxy handler)\\u3002\"),mdx(\"p\",{parentName:\"li\"},\"\\u53BB\\u770B\\u4E0B \",mdx(\"a\",_extends({parentName:\"p\"},{\"href\":\"https://tc39.es/ecma262/\"}),\"https://tc39.es/ecma262/\"),\" \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"JSON.stringify\"),\" \\u5B9E\\u73B0\\u539F\\u7406\\uFF1A\"),mdx(\"blockquote\",{parentName:\"li\"},mdx(\"p\",{parentName:\"blockquote\"},\"\\u6700\\u540E\\u4E00\\u6B65\\uFF1A Return ? \",mdx(\"a\",_extends({parentName:\"p\"},{\"href\":\"https://tc39.es/ecma262/#sec-serializejsonproperty\"}),\"SerializeJSONProperty\"),\"(state, the empty String, wrapper). \\u8FDB\\u5165\\u5230 SerializeJSONProperty\"),mdx(\"p\",{parentName:\"blockquote\"},\"Step2: \\u68C0\\u6D4B\\u5230\\u662F\\u5BF9\\u8C61\\u4F1A\\u53BB\\u53D6\\u5B83 \\u7684 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"toJson\"),\" \\u503C\\uFF0C\\u8FD9\\u4E5F\\u5C31\\u662F\\u4E3A\\u4EC0\\u4E48 \\u6700\\u540E\\u6536\\u96C6\\u5230\\u7684\\u4F9D\\u8D56 depsMap \\u91CC\\u9762\\u4F1A\\u6709\\u4E00\\u4E2A key \\u4E3A \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"toJSON\"),\" \\u7684\\u9879\\u4E86\\uFF1A\"),mdx(\"p\",{parentName:\"blockquote\"},mdx(\"a\",_extends({parentName:\"p\"},{\"href\":\"https://tc39.es/ecma262/#sec-ecmascript-data-types-and-values\"}),\"Type\"),\"(value) is Object or BigInt, then\"),mdx(\"ol\",{parentName:\"blockquote\"},mdx(\"li\",{parentName:\"ol\"},\"Let toJSON be ? \",mdx(\"a\",_extends({parentName:\"li\"},{\"href\":\"https://tc39.es/ecma262/#sec-getv\"}),\"GetV\"),\"(value, \\u201CtoJSON\\u201D).\")),mdx(\"p\",{parentName:\"blockquote\"},\"\\u7136\\u540E\\u68C0\\u6D4B\\u5230\\u662F\\u5BF9\\u8C61\\u4F1A\\u8FDB\\u5165\\uFF1ASerializeJSONObject ( state, value )\"),mdx(\"ol\",{parentName:\"blockquote\"},mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"let partial be a new empty \",mdx(\"a\",_extends({parentName:\"p\"},{\"href\":\"https://tc39.es/ecma262/#sec-list-and-record-specification-type\"}),\"List\"),\".\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"For each elemen P of K , do \"),mdx(\"p\",{parentName:\"li\"},\"// \\u8FD9\\u91CC\\u4F1A\\u6709\\u4E00\\u4E2A\\u8FED\\u4EE3\\u5668\\u64CD\\u4F5C\\uFF0C\\u904D\\u5386\\u5BF9\\u8C61\\u5C5E\\u6027\\uFF0C\\u89E6\\u53D1 ITERATE_KEY \\u4F9D\\u8D56\\u6536\\u96C6\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"Let strP be ? \",mdx(\"a\",_extends({parentName:\"p\"},{\"href\":\"https://tc39.es/ecma262/#sec-serializejsonproperty\"}),\"SerializeJSONProperty\"),\"(state, P, value).\")))),mdx(\"p\",{parentName:\"li\"},\"\\u7ED3\\u679C\\u5C31\\u662F\\u8BF4 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"JSON.stringify\"),\" \\u4F1A\\u6709\\u5BF9 obj \\u6709\\u8FED\\u4EE3\\u5668\\u64CD\\u4F5C\\uFF0C\\u89E6\\u53D1\\u4E86 ownkeys proxy handler \\u8C03\\u7528 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"track:ITERATE_KEY\"),\" \\u89E6\\u53D1\\u6536\\u96C6\\u4F9D\\u8D56\\u3002\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should observe class method invocations (1 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 lazy (5 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 scheduler (1 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 events: onTrack (1 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 events: onTrigger (3 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 stop (1 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 stop with scheduler (2 ms)\"),mdx(\"p\",{parentName:\"li\"},\"\\u6765\\u770B\\u4E0B stop \\u7ED3\\u5408 scheduler \\u8C03\\u5EA6\\u5668\\u662F\\u5982\\u4F55\\u4F7F\\u7528\\u7684\\u3002\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),\"  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"it\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'stop with scheduler'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" dummy\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" obj \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" prop\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" queue \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" runner \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// updater\"),\"\\n        dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" obj\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"prop \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8FD9\\u91CC\\u4F1A\\u7ACB\\u5373\\u6267\\u884C\\u4E00\\u6B21\\u6536\\u96C6\\u4F9D\\u8D56\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n        \\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function-variable function\"}),\"scheduler\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"e\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" queue\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"push\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"e\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8FD9\\u91CC\\u8BBE\\u7F6E\\u89E6\\u53D1 trigger:set\\uFF0C\\u4F46\\u662F\\u56E0\\u4E3A\\u6709 scheduler \\u7684\\u5B58\\u5728\\uFF0C\\u6240\\u4EE5\\u6CA1\\u6709\\u7ACB\\u5373\\u8C03\\u7528 effect\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u800C\\u662F\\u6267\\u884C\\u4E86 scheduler \\u5C06 effect \\u63A8\\u5165\\u4E86\\u961F\\u5217 queue\"),\"\\n    obj\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"prop \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"2\"),\" \\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6240\\u4EE5\\u8FD9\\u91CC\\u8FD8\\u662F 1\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// true\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u56E0\\u4E3A\\u4E0A\\u9762\\u7684\\u8D4B\\u503C\\u89E6\\u53D1 scheduler \\u7F18\\u6545\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"queue\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"length\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// true\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6E05\\u7406\\u4F9D\\u8D56\\uFF0CtargetMap->depsMap->dep \\u91CC\\u9762\\u7684\\u6240\\u6709\\u4F9D\\u8D56\\u6E05\\u7406\\u6389\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4E14 effect.active = false\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"stop\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"runner\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \\n\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// a scheduled effect should not execute anymore after stopped\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8FD9\\u91CC\\u6267\\u884C\\u7684\\u5176\\u5B9E\\u662F updater -> ReactiveEffect \\u5316\\u4E4B\\u540E\\u7684 effect\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4F46\\u662F\\u5728 stop \\u4E4B\\u540E effect.active \\u5DF2\\u7ECF\\u662F FALSE \\u4E86\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6240\\u4EE5\\u4F1A\\u76F4\\u63A5\\u68C0\\u6D4B\\u5230 effect.options.scheduler \\u5B58\\u5728\\uFF0C\\u8FD4\\u56DE undefined \"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u771F\\u6B63 try \\u91CC\\u9762\\u7684 \\u6267\\u884C fn:updater \\u5B9E\\u9645\\u6CA1\\u6709\\u5230\\u3002\\u6240\\u4EE5\\u8FD9\\u91CC\\u76F8\\u5F53\\u4E8E\\u4EC0\\u4E48\\u90FD\\u6CA1\\u5E72\"),\"\\n    queue\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"forEach\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"e\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"e\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6240\\u4EE5\\u8FD9\\u91CC\\u503C\\u4E5F\\u5C31\\u4E0D\\u4F1A\\u6709\\u4EFB\\u4F55\\u53D8\\u5316\\u4E86\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5982\\u679C\\u8981\\u8FD9\\u91CC updater \\u88AB\\u8C03\\u7528\\u53EA\\u8981\\u53BB\\u6389 stop \\u90A3\\u53E5\\u5373\\u53EF\\uFF0Cactive = true \\u8FDB\\u5165\\u6B63\\u5E38\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u7684 effect{try...finaylly} \\u6267\\u884C\\u6D41\\u7A0B\\u89E6\\u53D1 updater\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 events: onStop (1 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 stop: a stopped effect is nested in a normal effect (1 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 markRaw (1 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should not be trigger when the value and the old value both are NaN (1 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should trigger all effects when array length is set 0 (1 ms)\"))),mdx(\"span\",{id:\"code2\"},\"\\u9636\\u6BB5\\u4EE3\\u7801\\u94FE\\u63A5\\uFF1A[reactive_with_effect_spec_passed_js](https://github.com/gcclll/vue-next-code-read/blob/master/bakups/reactive_with_effect_spec_passed.js)\\xA0\\xA0\\u4EE3\\u7801\"),mdx(\"h1\",{\"id\":\"小结-2\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h1\"},{\"href\":\"#%E5%B0%8F%E7%BB%93-2\",\"aria-label\":\"小结 2 permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"\\u5C0F\\u7ED3 2\"),mdx(\"p\",null,\"\\u53C8\\u662F\\u4E00\\u4E2A\\u5468\\u4E00\\u4E86\\uFF0C\\u5468\\u672B\\u53C8\\u8352\\u5E9F\\u4E2D\\u5EA6\\u8FC7\\u2026\\uFF0C\\u56DE\\u987E\\u4E0B\\u4E4B\\u524D\\u7684\\u5185\\u5BB9(\\u987A\\u5E8F\\u6309\\u7167\\u5F53\\u65F6\\u5B9E\\u73B0\\u524D\\u540E\\u987A\\u5E8F\\u6392\\u5217)\\uFF1A\"),mdx(\"h2\",{\"id\":\"font-colorpurplereactive---createreactiveobjectfont\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#font-colorpurplereactive---createreactiveobjectfont\",\"aria-label\":\"font colorpurplereactive   createreactiveobjectfont permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),mdx(\"strong\",{parentName:\"h2\"},mdx(\"font\",{color:\"purple\"},\"reactive - createReactiveObject\"))),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"\\u53C2\\u6570\\uFF1A \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"[target, toProxy, toRaw, baseHandlers, collectionHandlers]\\uFF1B\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"new Proxy(target, handlers)\"),\"\\uFF1B\"),mdx(\"li\",{parentName:\"ol\"},\"\\u6839\\u636E\\u7C7B\\u578B\\u9009\\u62E9 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"handlers\"),\" \\uFF0C\\u96C6\\u5408\\u7C7B\\u578B(Map, Set)\\u7528collection\\uFF0C\\u5176\\u4ED6\\u5BF9\\u8C61\\u7C7B\\u578B\\u7528 base\\uFF1B\"),mdx(\"li\",{parentName:\"ol\"},\"\\u7F13\\u5B58 \",mdx(\"em\",{parentName:\"li\"},\"proxy-target\"),\" \\u7ED3\\u679C(toProxy: target -> observed, toRaw: observed -> target)\\uFF1B\"),mdx(\"li\",{parentName:\"ol\"},\"\\u8FC7\\u6EE4\\u6761\\u4EF6(\\u5DF2\\u7ECF proxy \\u6216 toProxy \\u4E2D\\u5DF2\\u7ECF\\u5B58\\u5728\\u7684\\u4E0D\\u7528\\u91CD\\u590D new )\\uFF1B\"),mdx(\"li\",{parentName:\"ol\"},\"\\u975E\\u5BF9\\u8C61\\u5224\\u65AD\\uFF0C\\u80FD proxy \\u7684\\u5FC5\\u987B\\u662F\\u5F15\\u7528\\u7C7B\\u578B\\uFF1B\"),mdx(\"li\",{parentName:\"ol\"},\"\\u8FC7\\u6EE4\\u6389 5 \\u4E2D\\u975E\\u6CD5\\u60C5\\u51B5(_isVue, _isVNode, rawValues, isFrozen, \\u975E observable \\u4E94\\u79CD\\u60C5\\u51B5)\\u3002\")),mdx(\"h2\",{\"id\":\"font-colorpurplecreategetterfont\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#font-colorpurplecreategetterfont\",\"aria-label\":\"font colorpurplecreategetterfont permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),mdx(\"strong\",{parentName:\"h2\"},mdx(\"font\",{color:\"purple\"},\"createGetter\"))),mdx(\"p\",null,\"\\u53D6\\u503C\\uFF0C\\u9012\\u5F52 reactive\\uFF0C\\u8C03\\u7528 track \\u6536\\u96C6\\u4F9D\\u8D56\\uFF0C\\u6570\\u7EC4\\u68C0\\u6D4B(includes, indexOf, lastIndex \\u7279\\u6B8A\\u5904\\u7406)\\uFF0C\\u7B49\\u7B49\\u3002\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"\\u53C2\\u6570\\uFF1A \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"[isReadonly, shallow]\"),\"\\uFF1B\"),mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"Reflect.get()\"),\" \\u5148\\u53D6\\u503C\"),mdx(\"li\",{parentName:\"ol\"},\"\\u5224\\u65AD\\u7ED3\\u679C\\u662F\\u4E0D\\u662F\\u5F15\\u7528\\u7C7B\\u578B\\uFF0C\\u5982\\u679C\\u662F\\u8C03\\u7528 reactive \\u5C06\\u7ED3\\u679C\\u8F6C\\u54CD\\u5E94\\u5F0F(\\u5D4C\\u5957\\u7684\\u5BF9\\u8C61)\"),mdx(\"li\",{parentName:\"ol\"},\"\\u68C0\\u6D4B\\u662F\\u4E0D\\u662F\\u53EA\\u8BFB\\uFF0C\\u5982\\u679C\\u662F\\u5C31\\u8FD4\\u56DE\\u53EA\\u8BFB\\u7248\\u672C(\\u5176\\u5B9E\\u5DEE\\u522B\\u5C31\\u662F\\u5728 handlers)\"),mdx(\"li\",{parentName:\"ol\"},\"shallow = true \\u60C5\\u51B5\\uFF0C\\u53EA reactive \\u5BF9\\u8C61\\u4E00\\u7EA7(\\u5D4C\\u5957\\u4E0D\\u5904\\u7406)\"),mdx(\"li\",{parentName:\"ol\"},\"\\u975E\\u53EA\\u8BFB\\u60C5\\u51B5\\u8C03\\u7528  \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"track()\"),\" \\u6536\\u96C6\\u4F9D\\u8D56\"),mdx(\"li\",{parentName:\"ol\"},\"\\u68C0\\u6D4B key \\u662F\\u4E0D\\u662F\\u6570\\u7EC4\\u7684\\u4E09\\u4E2A\\u7D22\\u5F15\\u65B9\\u6CD5(includes, indexOf, lastIndexOf)\\uFF0C\\u5355\\u72EC\\u5904\\u7406(\",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"arrayInstrumentations\"),\")\")),mdx(\"h2\",{\"id\":\"font-colorpurplecreatesetterfont\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#font-colorpurplecreatesetterfont\",\"aria-label\":\"font colorpurplecreatesetterfont permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),mdx(\"strong\",{parentName:\"h2\"},mdx(\"font\",{color:\"purple\"},\"createSetter\"))),mdx(\"p\",null,\"\\u8BBE\\u7F6E\\uFF0C\\u8C03\\u7528 trigger \\u89E6\\u53D1 deps(\",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"targetMap -> depsMap -> dep\"),\")\\uFF0C\\u8FD4\\u56DE \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"Reflect.set()\"),\" \\u7ED3\\u679C\\u3002\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"\\u53C2\\u6570\\uFF1A\",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"[shallow]\"))),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"oldValue = target[key]\"))),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"\\u4E8B\\u5148 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"hasOwnProperty\"),\" \\u68C0\\u6D4B\\uFF0C\\u7F13\\u5B58\\u7ED3\\u679C(\\u6DFB\\u52A0\\u5C5E\\u6027\\u7684\\u65F6\\u5019\\u9700\\u8981)\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"\\u8C03\\u7528 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"Reflect.set(...)\"),\" \\u8BBE\\u7F6E\\u4E0B\\u53BB\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"\\u8C03\\u7528 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"trigger(target, type, key, newValue, oldValue, oldTarget)\"),\" \\u89E6\\u53D1 deps\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"\\u589E\\u52A0\\u6761\\u4EF6\\u5224\\u65AD\\uFF0C\\u4E0D\\u662F\\u4EC0\\u4E48\\u60C5\\u51B5\\u90FD\\u53EF\\u4EE5\\u8C03\\u7528 trigger\\u7684\"),mdx(\"p\",{parentName:\"li\"},\"a) target - receiver \\u5FC5\\u987B\\u662F\\u5BF9\\u5E94\\u5173\\u7CFB\"),mdx(\"p\",{parentName:\"li\"},\"b) hasOwn \\u68C0\\u6D4B\\u7ED3\\u679C\\u5931\\u8D25\\u5219\\u4E3A \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"add\"),\" \\u64CD\\u4F5C\\uFF0C\\u5426\\u5219\\u4E3A \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"set\"),\" \\u64CD\\u4F5C\\uFF0C\\u4E14 set \\u64CD\\u4F5C\\u5FC5\\u987B\\u662F\\u5728\\u503C\\u53D1\\u751F\\u6539\\u53D8\\u7684\\u60C5\\u51B5(\\u6392\\u9664 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"NaN\"),\")\"))),mdx(\"h2\",{\"id\":\"font-colorpurpletrackfont\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#font-colorpurpletrackfont\",\"aria-label\":\"font colorpurpletrackfont permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),mdx(\"strong\",{parentName:\"h2\"},mdx(\"font\",{color:\"purple\"},\"track\"))),mdx(\"p\",null,\" createGetter \\u91CC\\u9762\\u8C03\\u7528\\uFF0C\\u7528\\u6765\\u6536\\u96C6\\u4F9D\\u8D56\\u7684\\uFF0C\\u4F9D\\u8D56\\u90FD\\u5B58\\u50A8\\u5728 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"targetMap\"),\" \\u91CC\\u9762\\uFF0C\\u5206\\u4E3A\\u4E24\\u7EA7\\uFF0C\"),mdx(\"p\",null,\"\\u7B2C\\u4E00\\u7EA7\\u662F Map{target -> Map} \\u7C7B\\u578B\"),mdx(\"p\",null,\"\\u7B2C\\u4E8C\\u7EA7\\u4E5F\\u662F Map{key -> Set(deps)}\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"\\u53C2\\u6570\\uFF1A\",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"[target, type, key]\")),mdx(\"li\",{parentName:\"ol\"},\"\\u4ECE targetMap \\u4E2D\\u53D6 depsMap \\u8BE5 target \\u5BF9\\u8C61\\u5BF9\\u5E94\\u7684\\u6240\\u6709\\u4F9D\\u8D56\\u4ED3\\u5E93\\uFF0C\\u6CA1\\u6709\\u5C31\\u521D\\u59CB\\u5316 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"new Map()\")),mdx(\"li\",{parentName:\"ol\"},\"\\u4ECE depsMap \\u53D6\\u5BF9\\u5E94 key \\u7684\\u6240\\u6709\\u4F9D\\u8D56\\u4ED3\\u5E93 dep\\uFF0C\\u6CA1\\u6709\\u5C31\\u521D\\u59CB\\u5316 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"new Set()\")),mdx(\"li\",{parentName:\"ol\"},\"\\u68C0\\u6D4B\\u4F9D\\u8D56\\u662F\\u5426\\u5B58\\u5728(activeEffect)\\uFF0C\\u786E\\u4FDD\\u4E0D\\u4F1A\\u91CD\\u590D\\u6DFB\\u52A0\"),mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"dep.add(activeEffect) -> activeEffect.deps.push(dep)\")),mdx(\"li\",{parentName:\"ol\"},\"\\u589E\\u52A0\\u5224\\u65AD\\uFF0C\\u5982\\u679C\\u5F53\\u524D \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"activeEffect\"),\" \\u672A\\u5177\\u5907\\u6536\\u96C6\\u6761\\u4EF6(\",mdx(\"strong\",{parentName:\"li\"},\"shouldTrack: true, activeEffect\\u4E0D\\u4E3A\\u7A7A\"),\")\\uFF0C\\u5C31\\u9000\\u51FA\\u4F9D\\u8D56\\u6536\\u96C6\\u3002\")),mdx(\"h2\",{\"id\":\"font-colorpurpletriggerfont\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#font-colorpurpletriggerfont\",\"aria-label\":\"font colorpurpletriggerfont permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),mdx(\"strong\",{parentName:\"h2\"},mdx(\"font\",{color:\"purple\"},\"trigger\"))),mdx(\"p\",null,\"createSetter \\u91CC\\u8C03\\u7528\\u6765\\uFF0C\\u89E6\\u53D1\\u4F9D\\u8D56\\u8C03\\u7528\\u7684\\uFF0C\\u4E3B\\u8981\\u5305\\u542B\\u4E24\\u4E2A\\u5185\\u90E8\\u51FD\\u6570(add, run)\\uFF1A\"),mdx(\"p\",null,\"Add: \\u5C06\\u4E8E\\u5F53\\u524D\\u8981 update \\u7684 deps \\u6536\\u96C6\\u5230\\u4E00\\u4E2A\\u5185\\u90E8\\u53D8\\u91CF \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"effects: Set()\"),\" \\u91CC\\u3002\"),mdx(\"p\",null,\"Run: \\u4F7F\\u7528 run\\u53BB\\u6267\\u884C effects \\u91CC\\u9762\\u7684 dep \"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"\\u53C2\\u6570\\uFF1A \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"[target, type, key, newValue, oldValue, oldTarget]\"))),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"\\u68C0\\u6D4B targetMap -> target \\u6CA1\\u6709\\u4F9D\\u8D56\\u76F4\\u63A5\\u9000\\u51FA\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"\\u5B9E\\u73B0 add\\uFF0C\\u6DFB\\u52A0\\u6761\\u4EF6\\uFF1A\",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"shouldTrack = false, effect !== activeEffect\"),\" \\u8FD9\\u4E24\\u4E2A\\u6761\\u4EF6\\u80FD\\u9632\\u6B62\\u6808\\u6EA2\\u51FA\\u7684\\u95EE\\u9898(\\u6BD4\\u5982\\u5728 effect(fn) \\u7684 fn \\u91CC\\u9762\\u505A \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"ob.prop++\"),\" \\u64CD\\u4F5C\\uFF0C\",mdx(\"a\",_extends({parentName:\"p\"},{\"href\":\"#test-case-rloops\"}),\"\\u4E4B\\u524D\\u6709\\u5206\\u6790\"),\"\\u3002)\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"\\u4F7F\\u7528 add \\u6536\\u96C6 deps\\uFF0C\\u4E09\\u79CD\\u60C5\\u51B5\"),mdx(\"p\",{parentName:\"li\"},\"a) \\u5982\\u679C type: clear \\u5C06\\u6240\\u6709 depsMap \\u6DFB\\u52A0\\u8FDB\\u53BB\"),mdx(\"p\",{parentName:\"li\"},\"b) \\u5982\\u679C key: length \\u4E14 target \\u662F\\u6570\\u7EC4\\uFF0C\\u8BF4\\u660E\\u662F\\u6570\\u7EC4\\u7684\\u589E\\u52A0\\u548C\\u5220\\u9664\\u64CD\\u4F5C\\uFF0C\\u5C06 depsMap \\u4E2D key \\u4E3A \\u2018length\\u2019 \\u6216\\u8005 key > newValue \\u60C5\\u51B5\\u7684 dep \\u6DFB\\u52A0\"),mdx(\"p\",{parentName:\"li\"},\"c) \\u5176\\u4ED6\\u4E3A\\u5BF9\\u8C61\\u60C5\\u51B5\\u5904\\u7406(Map\\u7C7B\\u578B\\u6216Object\\u64CD\\u4F5C)\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"\\u6700\\u540E\\u53BB\\u6267\\u884C run\\uFF0Cflush \\u6389\\u6240\\u6709 deps(effects, computedEffects)\\u3002\"))),mdx(\"h2\",{\"id\":\"font-colorpurpleeffectfont\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#font-colorpurpleeffectfont\",\"aria-label\":\"font colorpurpleeffectfont permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),mdx(\"strong\",{parentName:\"h2\"},mdx(\"font\",{color:\"purple\"},\"effect\"))),mdx(\"p\",null,\"\\u6784\\u9020 dep \\u7C7B\\u578B ReactiveEffect\\uFF0C\\u5176\\u4E2D\\u5305\\u542B \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"[_isEffect, active, raw, deps, options, id]\"),\"\\u7C7B\\u578B\\u7684\\u5BF9\\u8C61\\u3002\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"\\u53C2\\u6570\\uFF1A\",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"[fn, options]\")),mdx(\"li\",{parentName:\"ol\"},\"\\u68C0\\u6D4B fn._isEffect \\u5982\\u679C\\u672C\\u8EAB\\u5DF2\\u7ECF\\u662F\\u4E2A ReactiveEffect\\uFF0C\\u53D6\\u51FA fn = fn.raw\\uFF0C\\u91CD\\u65B0\\u5C01\\u88C5\"),mdx(\"li\",{parentName:\"ol\"},\"\\u5B9A\\u4E49 _effect \\u51FD\\u6570\\uFF0C\\u6240\\u4EE5 vue3 \\u91CC\\u9762\\u6BCF\\u4E2A dep \\u90FD\\u662F\\u4E00\\u4E2A\\u51FD\\u6570\\u7C7B\\u578B\\uFF0C\\u4E0A\\u9762\\u8FFD\\u52A0\\u4E86\\u82E5\\u5E72\\u53C2\\u6570\"),mdx(\"li\",{parentName:\"ol\"},\"_effect \\u51FD\\u6570\\u7684\\u5B9E\\u73B0\\u91CD\\u70B9\\u662F effectStack \\u548C try\\u2026finally\\uFF0Ctry \\u91CC\\u9762 enable effect \\u6267\\u884C fn\\uFF0Cfinally \\u91CC\\u9762 disable effect\\u3002\\u6240\\u4EE5\\u8FD9\\u91CC\\u7ED3\\u5408 trigger \\u91CC\\u9762\\u7684 shouldTrack \\u548C activeEffect \\u5224\\u65AD\\u6765\\u534F\\u540C\\u9632\\u6B62\\u6808\\u6EA2\\u51FA\\u95EE\\u9898\\u3002\"),mdx(\"li\",{parentName:\"ol\"},\"_effect \\u4E0A\\u8FFD\\u52A0 ReactiveEffect \\u5FC5\\u5907\\u7684\\u53C2\\u6570\\u3002\"),mdx(\"li\",{parentName:\"ol\"},\"\\u6267\\u884C\\u4E00\\u6B21 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"_effect()\"),\" (\\u524D\\u63D0\\u662F\\u6CA1\\u6709\\u8BBE\\u7F6E options.lazy \\u5C5E\\u6027\\u4E3A true)\")),mdx(\"h2\",{\"id\":\"font-colorpurpleownkeys-has-deletefont\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#font-colorpurpleownkeys-has-deletefont\",\"aria-label\":\"font colorpurpleownkeys has deletefont permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),mdx(\"strong\",{parentName:\"h2\"},mdx(\"font\",{color:\"purple\"},\"ownKeys, has, delete\"))),mdx(\"p\",null,\"\\u8FD9\\u4E09\\u4E2A\\u7684\\u5B9E\\u73B0\\u975E\\u5E38\\u7B80\\u5355\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"ownKeys \\u8C03\\u7528 track \\u6536\\u96C6\\u4F9D\\u8D56\"),mdx(\"li\",{parentName:\"ol\"},\"has \\u8C03\\u7528 track \\u6536\\u96C6\\u4F9D\\u8D56\"),mdx(\"li\",{parentName:\"ol\"},\"delete \\u8C03\\u7528 trigger \\u89E6\\u53D1 delete \\u64CD\\u4F5C\"),mdx(\"li\",{parentName:\"ol\"},\"\\u6700\\u540E\\u90FD\\u8981\\u8FD4\\u56DE\\u5BF9\\u5E94\\u7684 Reflect\\u2026 \\u64CD\\u4F5C\\u7ED3\\u679C\")),mdx(\"h2\",{\"id\":\"其他\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#%E5%85%B6%E4%BB%96\",\"aria-label\":\"其他 permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"\\u5176\\u4ED6\"),mdx(\"p\",null,\"\\u5230\\u6B64\\uFF0C\\u7B2C\\u4E00\\u9636\\u6BB5\\u7684\\u5DE5\\u4F5C\\u57FA\\u672C\\u5DF2\\u7ECF\\u5B8C\\u6210\\u4E86\\uFF0C\\u6211\\u4EEC\\u4E5F\\u5F97\\u5230\\u4E86\\u4E00\\u4E2A\\u57FA\\u672C\\u53EF\\u4EE5\\u8DD1\\u8D77\\u6765\\uFF0C\\u4F5C\\u7528\\u8D77\\u6765\\u7684 reactive \\u3002\"),mdx(\"p\",null,\"\\u63A5\\u4E0B\\u7684\\u5185\\u5BB9\\u4E3B\\u8981\\u6709\\u4EE5\\u4E0B\\u51E0\\u70B9\\uFF1A\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"\\u96C6\\u5408\\u7C7B\\u578B\\u7684 \",mdx(\"strong\",{parentName:\"li\"},\"collectionHandlers\"),\" \\u5B9E\\u73B0\\uFF0C\\u4E4B\\u524D\\u90FD\\u662F\\u5B9E\\u73B0\\u4E86 \",mdx(\"em\",{parentName:\"li\"},\"baseHandlers\"),\"\\uFF0C\\u65E2\\u7136 vue3 \\u4E2D\\u72EC\\u7ACB\\u6210\\u4E24\\u4E2A\\u6587\\u4EF6\\u4E86\\uFF0C\\u80AF\\u5B9A\\u6709\\u4E0D\\u5C0F\\u7684\\u5DEE\\u522B\\uFF0C\\u4F46\\u662F\\u6709\\u4E86\\u4E4B\\u524D\\u7684\\u57FA\\u7840\\uFF0C\\u76F8\\u4FE1\\u7406\\u89E3 \",mdx(\"strong\",{parentName:\"li\"},\"collectionHandlers\"),\" \\u4E0D\\u4F1A\\u90A3\\u4E48\\u56F0\\u96BE\\u3002\"),mdx(\"li\",{parentName:\"ol\"},\"ref \\u7684\\u5B9E\\u73B0\\uFF0C\\u8FD9\\u5757\\u76EE\\u524D\\u8FDB\\u5EA6\\u51E0\\u4E4E\\u4E3A0\\uFE0F\\u20E3\\uFF0C\\u6709\\u5F85\\u7814\\u7A76\\u3002\"),mdx(\"li\",{parentName:\"ol\"},\"\\u6700\\u540E\\u5C31\\u662F\\u5176\\u4ED6\\u51E0\\u4E2A\\u6D4B\\u8BD5\\u7528\\u4F8B\\u6587\\u4EF6\\u7684\\u6D4B\\u8BD5\\u4E86\\u3002\")),mdx(\"p\",null,\"\\u6F2B\\u6F2B\\u6E90\\u7801\\u8DEF\\u5176\\u4FEE\\u8FDC\\u516E\\uFF0C\\u543E\\u5C06\\u524D\\u540E\\u5DE6\\u53F3\\u4EE5\\u8D2F\\u4E4B\\uFF0C\\u52A0\\u6CB9\\uD30C\\uC774\\uD305\\uD83E\\uDD1C\\uD83E\\uDD1B\\uFF01\\uFF01\\uFF01\"),mdx(\"p\",null,\"\\u4E66\\u5927\\u5750\\u9635\\uFF0C\\u7A33\",mdx(\"del\",{parentName:\"p\"}),\"~~\"),mdx(\"p\",null,mdx(\"img\",_extends({parentName:\"p\"},{\"src\":\"http://qiniu.ii6g.com/1.png?imageMogr2/thumbnail/!100p\",\"alt\":null}))),mdx(\"h1\",{\"id\":\"更新2020-05-25-105440\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h1\"},{\"href\":\"#%E6%9B%B4%E6%96%B02020-05-25-105440\",\"aria-label\":\"更新2020 05 25 105440 permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"\\u66F4\\u65B0(2020-05-25 10:54:40)\"),mdx(\"p\",null,\"\\u524D\\u4E24\\u5929\\u66F4\\u65B0\\u4E86\\u4E0B vue \\u4ED3\\u5E93\\u6E90\\u7801\\uFF0C\\u53D1\\u73B0\\u6709\\u4E0D\\u5C0F\\u7684\\u6539\\u52A8\\uFF0C\\u8FD9\\u91CC\\u63D0\\u524D\\u628A\\u8FD9\\u4E9B\\u6539\\u52A8\\u5408\\u5E76\\u5230\\u4E4B\\u524D\\u7684\\u9605\\u8BFB\\u4E0A\\u53BB\\uFF0C\\u4EE5\\u9632\\u6B62\\u540E\\u9762\\u8D8A\\u8D70\\u8D8A\\u8FDC\\uFF0C\\u5BFC\\u81F4\\u8D8A\\u96BE\\u5408\\u5E76\\u3002\"),mdx(\"blockquote\",null,mdx(\"p\",{parentName:\"blockquote\"},\"5a3b44ca master origin/master chore: fix typo in comment (#1217)\\n2b2beb91 build(deps-dev): bump @types/puppeteer from 2.1.0 to 2.1.1\\n8e945c97 build(deps-dev): bump @microsoft/api-extractor from 7.8.1 to 7.8.2\\n91c4e9b8 build(deps-dev): bump rollup from 2.10.4 to 2.10.5\\n96a9d5c6 build(deps-dev): bump rollup from 2.10.2 to 2.10.4\\n42e48b83 build(deps-dev): bump @types/jest from 25.2.2 to 25.2.3\\n32b3f78a v3.0.0-beta.14 release: v3.0.0-beta.14\")),mdx(\"p\",null,\"\\u672C\\u8282\\u7EA6\\u5B9A\\uFF1A\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"\\u5148\\u5217\\u51FA\\u53D8\\u66F4\\u5BF9\\u6BD4\\u4EE3\\u7801\"),mdx(\"li\",{parentName:\"ol\"},\"\\u672A\\u53D8\\u66F4\\u7684\\u7BC7\\u5E45\\u8F83\\u591A\\u7684\\u4EE3\\u7801\\u5C06\\u7701\\u7565\\uFF0C\\u5982\\u6CE8\\u91CA\\uFF1A// \\u2026 \\u7701\\u7565\")),mdx(\"h2\",{\"id\":\"reactivets\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#reactivets\",\"aria-label\":\"reactivets permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"reactive.ts\"),mdx(\"h3\",{\"id\":\"font-colorred首先新增了两个类型：font\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h3\"},{\"href\":\"#font-colorred%E9%A6%96%E5%85%88%E6%96%B0%E5%A2%9E%E4%BA%86%E4%B8%A4%E4%B8%AA%E7%B1%BB%E5%9E%8B%EF%BC%9Afont\",\"aria-label\":\"font colorred首先新增了两个类型：font permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),mdx(\"font\",{color:\"red\"},mdx(\"strong\",{parentName:\"h3\"},\"\\u9996\\u5148\\u65B0\\u589E\\u4E86\\u4E24\\u4E2A\\u7C7B\\u578B\\uFF1A\"))),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"ReactiveFlags \\u679A\\u4E3E\\u5BF9\\u8C61\\uFF0C\\u7528\\u6765\\u8BB0\\u5F55\\u5BF9\\u8C61\\u7279\\u5F81\\u7684\\uFF0C\\u6BD4\\u5982\\uFF1A\\u662F\\u5426\\u53EA\\u8BFB\\u7B49\\u7B49\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"ts\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-ts\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-ts\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"export\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"enum\"),\" ReactiveFlags \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  skip \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'__v_skip'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  isReactive \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'__v_isReactive'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  isReadonly \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'__v_isReadonly'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  raw \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'__v_raw'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  reactive \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'__v_reactive'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"readonly\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'__v_readonly'\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"))))),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"Target \\u63A5\\u53E3\\u7C7B\\u578B\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"ts\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-ts\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-ts\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4F1A\\u53D1\\u73B0\\u8FD9\\u4E2A\\u548C\\u4E0A\\u9762\\u7684 ReactiveFlags \\u662F\\u76F8\\u5BF9\\u5E94\\u7684\\uFF0C\\u4E0A\\u9762\\u7684 enum \\u4EE3\\u8868\\u7684\\u662F key \\u503C\\u5B57\\u7B26\\u4E32\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8FD9\\u91CC\\u58F0\\u660E\\u4E86\\u4E00\\u4E2A Target \\u7C7B\\u578B\\uFF0C\\u91CC\\u9762\\u5305\\u542B\\u7684\\u5C31\\u662F\\u4E0A\\u9762\\u6240\\u6709 key \\u5B57\\u7B26\\u4E32\\u5BF9\\u5E94\\u503C\\u4E3A boolean \\u7684\\u4E00\\u4E2A\\u5BF9\\u8C61\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u90FD\\u662F\\u4E9B\\u6807\\u8BC6\\uFF0C\\u6807\\u8BC6\\u8FD9\\u5BF9\\u8C61\\u7684\\u5404\\u79CD\\u7279\\u6027\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"interface\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Target\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  __v_skip\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token builtin\"}),\"boolean\"),\"\\n  __v_isReactive\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token builtin\"}),\"boolean\"),\"\\n  __v_isReadonly\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token builtin\"}),\"boolean\"),\"\\n  __v_raw\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token builtin\"}),\"any\"),\"\\n  __v_reactive\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token builtin\"}),\"any\"),\"\\n  __v_readonly\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token builtin\"}),\"any\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))))),mdx(\"h3\",{\"id\":\"font-colorredcanobserve-实现变化font\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h3\"},{\"href\":\"#font-colorredcanobserve-%E5%AE%9E%E7%8E%B0%E5%8F%98%E5%8C%96font\",\"aria-label\":\"font colorredcanobserve 实现变化font permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),mdx(\"font\",{color:\"red\"},mdx(\"strong\",{parentName:\"h3\"},\"canObserve \\u5B9E\\u73B0\\u53D8\\u5316\"))),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"\\u66F4\\u65B0\\u540E\")),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"ts\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-ts\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-ts\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5C31\\u662F\\u628A\\u4E09\\u79CD\\u975E\\u6CD5\\u7C7B\\u578B(_isVue, _isVNode, rawValues)\\u8FDB\\u884C\\u5408\\u5E76\\u4E86\\uFF0C\\u4F7F\\u7528\\u4E00\\u4E2A__v_skip \\u6765\\u68C0\\u6D4B\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6240\\u4EE5\\u5173\\u952E\\u6211\\u4EEC\\u8981\\u5173\\u6CE8\\u7684\\u5C06\\u662F\\u8FD9\\u4E2A __v_skip \\u662F\\u5728\\u54EA\\u91CC\\u7ED9\\u521D\\u59CB\\u5316\\u7684\\u503C(\\u9884\\u60F3\\u5E94\\u8BE5\\u662F\\u5728 createGetter \\u91CC\\u9762)\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" canObserve \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" Target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token builtin\"}),\"boolean\")),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"__v_skip \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"isObservableType\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toRawType\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"Object\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"isFrozen\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"\\u66F4\\u65B0\\u524D\")),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function-variable function\"}),\"canObserve\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"value\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"_isVue \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"_isVNode \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"isObservableType\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toRawType\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"rawValues\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"has\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"Object\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"isFrozen\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"h3\",{\"id\":\"font-colorredreactivetargetfont\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h3\"},{\"href\":\"#font-colorredreactivetargetfont\",\"aria-label\":\"font colorredreactivetargetfont permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),mdx(\"font\",{color:\"red\"},\"reactive(target)\")),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"\\u66F4\\u65B0\\u540E\")),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"ts\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-ts\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-ts\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"export\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\":\"),\" object\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// if trying to observe a readonly proxy, return the readonly version.\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u53D8\\u53161 \\uFF1A \\u4F7F\\u7528\\u4E86 __v_isReadonly \\u4EE3\\u66FF\\u4E86 readonlyToRaw: WeakMap\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"as\"),\" Target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"__v_isReadonly\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" target\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u53D8\\u53162\\uFF1A\\u8FD9\\u91CC\\u73B0\\u5728\\u53EA\\u9700\\u8981\\u56DB\\u4E2A\\u53C2\\u6570\\u4E86\\uFF0C\\u5C06 toProxy \\u548C toRaw \\u5408\\u5E76\\u4E86\\uFF1F\\uFF1F\\uFF1F\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u53EA\\u80FD\\u540E\\u9762\\u518D\\u8BF4\\u4E86\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createReactiveObject\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"\\n    target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"false\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n    mutableHandlers\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n    mutableCollectionHandlers\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"\\u66F4\\u65B0\\u524D\")),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// reactivity start\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"readonlyToRaw\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"has\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" target\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createReactiveObject\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"\\n    target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n    rawToReactive\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n    reactiveToRaw\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n    mutableHandlers\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n    mutableCollectionHandlers\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"h3\",{\"id\":\"font-colorredcreatereactiveobjecttarget-isreadonly-basehandlers-collectionhandlersfont\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h3\"},{\"href\":\"#font-colorredcreatereactiveobjecttarget-isreadonly-basehandlers-collectionhandlersfont\",\"aria-label\":\"font colorredcreatereactiveobjecttarget isreadonly basehandlers collectionhandlersfont permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),mdx(\"font\",{color:\"red\"},\"createReactiveObject(target, isReadonly, baseHandlers, collectionHandlers)\")),mdx(\"p\",null,\"\\u53BB\\u6389\\u4E86 toProxy \\u548C toRaw\\uFF0C\\u6539\\u6210\\u4E86 isReadonly\\uFF0C\\u6240\\u4EE5\\u9488\\u5BF9\\u8FD9\\u4E2A\\u51FD\\u6570\\u7684\\u66F4\\u65B0\\uFF0C\\u9700\\u8981\\u63A2\\u7A76\\u53BB\\u6389\\u8FD9\\u4E24\\u8005\\u4E4B\\u540E\\u662F\\u5982\\u4F55\\u5B9E\\u73B0\\u8BE5\\u529F\\u80FD\\u7684\\uFF0C\\u6216\\u8005\\u6CA1\\u6709\\u8BE5\\u529F\\u80FD\\u4E86\\uFF1F\\uFF1F\\uFF1F\"),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"\\u66F4\\u65B0\\u540E\\uFF1A\")),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"ts\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-ts\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-ts\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u53D8\\u53161\\uFF1A\\u53C2\\u6570\\u53D8\\u5C11\\u4E86\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createReactiveObject\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\":\"),\" Target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  isReadonly\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token builtin\"}),\"boolean\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  baseHandlers\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\":\"),\" ProxyHandler\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"<\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token builtin\"}),\"any\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\">\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  collectionHandlers\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\":\"),\" ProxyHandler\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"<\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token builtin\"}),\"any\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\">\")),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"isObject\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"__DEV__\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token builtin\"}),\"console\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"warn\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token template-string\"}),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token template-punctuation string\"}),\"`\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token string\"}),\"value cannot be made reactive: \"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token interpolation\"}),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token interpolation-punctuation punctuation\"}),\"${\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token function\"}),\"String\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token interpolation-punctuation punctuation\"}),\"}\")),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token template-punctuation string\"}),\"`\")),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" target\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// target is already a Proxy, return it.\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// exception: calling readonly() on a reactive object\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u53D8\\u53162\\uFF1A\\u76F4\\u63A5\\u901A\\u8FC7\\u4E24\\u4E2A __v_raw \\u548C __v_isReactive \\u8FC7\\u6EE4\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"__v_raw \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"isReadonly \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\" target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"__v_isReactive\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" target\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n    \\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u53D8\\u53163\\uFF1A\\u76F4\\u63A5\\u8FD4\\u56DE\\u5BF9\\u5E94\\u7684 target \\u7248\\u672C\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// target already has corresponding Proxy\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8FD9\\u91CC\\u5E94\\u8BE5\\u662F\\u76F4\\u63A5\\u8FD4\\u56DE\\u4E86 target \\u4E0A\\u7684\\u53EA\\u8BFB\\u548Creactive \\u7248\\u672C\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6240\\u4EE5\\u8FD9\\u91CC\\u5C31\\u5FC5\\u7136\\u5B58\\u5728\\u4E00\\u4E2A\\u884C\\u4E3A\\uFF0C\\u5C06\\u53EA\\u8BFB\\u548C reactive \\u7248\\u672C\\u8D4B\\u503C\\u5230 __v_readonly\\uFF0C__v_reactive\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4E24\\u4E2A\\u5C5E\\u6027\\u4E0A\\u53BB\\uFF0C\\u7EE7\\u7EED>>>\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"hasOwn\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" isReadonly \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" ReactiveFlags\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"readonly\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" ReactiveFlags\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"reactive\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" isReadonly \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"__v_readonly \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"__v_reactive\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// only a whitelist of value types can be observed.\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8FD9\\u91CC\\u5C31\\u4E0D\\u8BF4\\u4E86\\uFF0C\\u53D8\\u52A8\\u5B58\\u5728\\u4E8E canObserve \\u51FD\\u6570\\u5185\\u90E8\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"canObserve\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" target\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" observed \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Proxy\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"\\n    target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n    collectionTypes\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"has\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"constructor\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" collectionHandlers \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" baseHandlers\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u53D8\\u53164\\uFF1A\\u4F7F\\u7528\\u4E86 def \\u51FD\\u6570\\uFF0C\\u4F30\\u8BA1\\u7F13\\u5B58target\\u4E24\\u4E2A\\u7248\\u672C\\uFF0C\\u5C31\\u662F\\u5728\\u8FD9\\u91CC\\u5B9E\\u73B0\\u7684\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u672C\\u6B21\\u66F4\\u65B0\\u91CD\\u70B9\\u5E94\\u8BE5\\u5C31\\u662F\\u8FD9\\u4E2A def \\u4E86\\uFF0C\\u79BB\\u771F\\u76F8\\u8D8A\\u6765\\u8D8A\\u8FD1\\u4E86......\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"def\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"\\n    target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n    isReadonly \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" ReactiveFlags\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"readonly\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" ReactiveFlags\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"reactive\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n    observed\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" observed\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"\\u66F4\\u65B0\\u524D\\uFF1A\")),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u53D8\\u53161\\uFF1A\\u53C2\\u6570\\u53D8\\u5C11\\u4E86\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createReactiveObject\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  toProxy\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  toRaw\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  baseHandlers\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  collectionHandlers\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"target \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"||\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"typeof\"),\" target \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!==\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'object'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" target\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u53D8\\u53162\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" observed \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" toProxy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"observed \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!==\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"void\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" observed\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"toRaw\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"has\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" target\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u53D8\\u53162 end\"),\"\\n    \\n \\t\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u53D8\\u53163\\uFF1A... \\u65B0\\u589E\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"canObserve\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" target\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" handlers \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" collectionTypes\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"has\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"constructor\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" collectionHandlers\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" baseHandlers\\n  observed \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Proxy\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" handlers\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u53D8\\u53164\\uFF1A\\u4F7F\\u7528 def \\u4EE3\\u66FF\"),\"\\n  toProxy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" observed\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  toRaw\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"observed\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" observed\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",null,\"\\u4E0B\\u9762\\u5C31\\u4E0D\\u7EE7\\u7EED\\u66F4\\u4E86\\uFF0C\\u90FD\\u662F\\u4E9B\\u5C0F\\u51FD\\u6570\\u56F4\\u7ED5 def, Target, ReactiveFlags \\u7684\\u66F4\\u65B0\\u3002\"),mdx(\"h2\",{\"id\":\"basehandlersts-1\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#basehandlersts-1\",\"aria-label\":\"basehandlersts 1 permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"baseHandlers.ts\"),mdx(\"h3\",{\"id\":\"font-colorredcreategetterisreadonly--false-shallow--false-font\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h3\"},{\"href\":\"#font-colorredcreategetterisreadonly--false-shallow--false-font\",\"aria-label\":\"font colorredcreategetterisreadonly  false shallow  false font permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),mdx(\"font\",{color:\"red\"},\"createGetter(isReadonly = false, shallow = false) \")),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"\\u66F4\\u65B0\\u540E(\\u53EA\\u6709\\u4E00\\u4E2A\\u53D8\\u5316\\uFF0C\\u6807\\u8BC6\\u6027\\u5C5E\\u6027\\u7684\\u8BFB\\u53D6\\u5904\\u7406)\\uFF1A\")),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"ts\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-ts\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-ts\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createGetter\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"isReadonly \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token boolean\"}),\"false\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" shallow \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token boolean\"}),\"false\")),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\":\"),\" object\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token builtin\"}),\"string\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"|\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token builtin\"}),\"symbol\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" receiver\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\":\"),\" object\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u53D8\\u53161\\uFF1A\\u65B0\\u589E\\u5BF9\\u6807\\u8BC6\\u6027\\u7684\\u5C5E\\u6027\\u8BFB\\u53D6\\uFF0Cvue \\u7ED9\\u589E\\u52A0\\u7684\\u4E00\\u4E9B\\u5C5E\\u6027\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" ReactiveFlags\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"isReactive\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"isReadonly\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"else\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" ReactiveFlags\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"isReadonly\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" isReadonly\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"else\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" ReactiveFlags\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"raw\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" target\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" targetIsArray \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"isArray\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ... \\u4E3A\\u4E86\\u8282\\u7701\\u7BC7\\u5E45\\uFF0C\\u672A\\u53D8\\u5316\\u7684\\u5C31\\u7701\\u7565\\u5427\\uFF0C\\u540E\\u7EED\\u7684\\u4E5F\\u5982\\u6B64\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"\\u66F4\\u65B0\\u524D\\uFF1A\")),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createGetter\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"isReadonly \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token boolean\"}),\"false\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" shallow \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token boolean\"}),\"false\")),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" receiver\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u53D8\\u53161\\uFF1A\\u65B0\\u589E\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"/*\\n    \\t...\\n    */\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" targetIsArray \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" Array\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"isArray\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n     \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ... \\u4E3A\\u4E86\\u8282\\u7701\\u7BC7\\u5E45\\uFF0C\\u672A\\u53D8\\u5316\\u7684\\u5C31\\u7701\\u7565\\u5427\\uFF0C\\u540E\\u7EED\\u7684\\u4E5F\\u5982\\u6B64\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"h2\",{\"id\":\"effectts-1\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#effectts-1\",\"aria-label\":\"effectts 1 permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"effect.ts\"),mdx(\"p\",null,\"\\u53D8\\u91CF\\u53CA\\u7C7B\\u578B\\u58F0\\u660E\\u53D8\\u66F4\\uFF1A\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"ts\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-ts\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-ts\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"type\"),\" Dep \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" Set\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"<\"),\"ReactiveEffect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\">\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u65B0\\u589E Dep \\u7C7B\\u578B\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"type\"),\" KeyToDepMap \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" Map\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"<\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token builtin\"}),\"any\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" Dep\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\">\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u65B0\\u589E\\u5BF9\\u8C61\\u7684 key -> Dep\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" targetMap \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"WeakMap\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"<\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token builtin\"}),\"any\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" KeyToDepMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\">\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\")))),mdx(\"h2\",{\"id\":\"jest\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#jest\",\"aria-label\":\"jest permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"jest\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"text\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-text\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-text\"}),\"\\u2601  vue-next-code-read [master] jest\\nFAIL  packages/__tests__/reactive/reactive.spec.js (5.447 s)\\n\\u25CF reactivity/reactive \\u203A markRaw\\n\\nexpect(received).toBe(expected) // Object.is equality\\n\\nExpected: false\\nReceived: true\\n\\n106 |     })\\n107 |     expect(isReactive(obj.foo)).toBe(true)\\n\\n  > 108 |     expect(isReactive(obj.bar)).toBe(false)\\n  >  |                                 ^\\n  > 109 |   })\\n  > 110 |\\n  > 111 |   test('should not observe frozen objects', () => {\\n\\n    at Object.<anonymous> (packages/__tests__/reactive/reactive.spec.js:108:33)\\n\\nFAIL  packages/__tests__/reactive/effect.spec.js (5.589 s)\\n\\u25CF reactivity/effect \\u203A markRaw\\n\\n  expect(received).toBe(expected) // Object.is equality\\n\\n  Expected: 0\\n  Received: 1\\n\\n    744 |     expect(dummy).toBe(0)\\n    745 |     obj.foo.prop++\\n\\n  > 746 |     expect(dummy).toBe(0)\\n  >  |                   ^\\n  > 747 |     obj.foo = { prop: 1 }\\n  > 748 |     expect(dummy).toBe(1)\\n  > 749 |   })\\n\\n    at Object.<anonymous> (packages/__tests__/reactive/effect.spec.js:746:19)\\n\\nTest Suites: 2 failed, 2 total\\nTests:       2 failed, 59 passed, 61 total\\nSnapshots:   0 total\\nTime:        9.857 s\\nRan all test suites.\"))),mdx(\"p\",null,\"\\u8FD9\\u4E24\\u4E2A\\u539F\\u56E0\\u5176\\u5B9E\\u90FD\\u662F\\u56E0\\u4E3A canObserve \\u8FD8\\u6CA1\\u66F4\\u65B0\\u8FC7\\u6765\\uFF0C\\u4FEE\\u6539\\u5982\\u4E0B\\uFF1A\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function-variable function\"}),\"canObserve\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"value\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"__v_skip \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"isObservableType\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toRawType\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"Object\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"isFrozen\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",null,\"\\u91CD\\u65B0 jest \\u901A\\u8FC7\\uFF1A\"),mdx(\"blockquote\",null,mdx(\"p\",{parentName:\"blockquote\"},\"\\u2601  vue-next-code-read \",\"[master]\",\" \\u26A1  jest\\nPASS  packages/\",mdx(\"strong\",{parentName:\"p\"},\"tests\"),\"/reactive/reactive.spec.js (5.311 s)\\nPASS  packages/\",mdx(\"strong\",{parentName:\"p\"},\"tests\"),\"/reactive/effect.spec.js (5.429 s)\"),mdx(\"p\",{parentName:\"blockquote\"},\"Test Suites: 2 passed, 2 total\\nTests:       61 passed, 61 total\\nSnapshots:   0 total\\nTime:        9.612 s\\nRan all test suites.\\n\\u2601  vue-next-code-read \",\"[master]\",\" \\u26A1\")),mdx(\"span\",{id:\"file-0521\"},\"[Reactive.js](https://github.com/gcclll/vue-next-code-read/blob/master/bakups/reactive_with_update_0521.js)\"),mdx(\"h2\",{\"id\":\"\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#\",\"aria-label\":\" permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"}))))),mdx(\"h1\",{\"id\":\"collectionhandlersts\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h1\"},{\"href\":\"#collectionhandlersts\",\"aria-label\":\"collectionhandlersts permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"collectionHandlers.ts\"),mdx(\"p\",null,\"\\u4E5F\\u8BE5\\u5F00\\u59CB\\u96C6\\u5408\\u7C7B\\u578B\\u652F\\u6301\\u4E86\\uFF0C\\u8FD9\\u90E8\\u5206\\u7684\\u4FEE\\u6539\\u4E3B\\u8981\\u96C6\\u4E2D\\u5728\\u8FD9\\u4E2A\\u6587\\u4EF6\\u91CC\\u9762\\uFF0C\\u56E0\\u4E3A\\u4E4B\\u524D reactive.ts, effect.ts \\u91CC\\u9762\\u90FD\\u5DF2\\u7ECF\\u628A\\u96C6\\u5408\\u7C7B\\u578B\\u4EE3\\u7801\\u5408\\u5E76\\u8FDB\\u53BB\\u4E86(\\u5176\\u5B9E\\u9664\\u4E86 trigger \\u91CC\\u9762\\u6709\\u90E8\\u5206\\u7684 map \\u76F8\\u5173\\u533A\\u5206\\u4E4B\\u540E\\uFF0C\\u7EDD\\u5927\\u90E8\\u5206\\u90FD\\u662F\\u4E00\\u6837\\u7684)\\u3002\"),mdx(\"p\",null,\"\\u8FD9\\u91CC\\u53EF\\u80FD\\u5F97\\u505A\\u4E2A\\u4E8B\\u60C5\\uFF0C\\u5982\\u679C\\u8FD8\\u60F3\\u575A\\u6301\\u4F7F\\u7528\\u4E00\\u4E2A js \\u6587\\u4EF6\\u6765\\u5B8C\\u6210\\u529F\\u80FD\\uFF0C\\u90A3\\u53EA\\u80FD\\u8003\\u8651\\u4F7F\\u7528\\u4F5C\\u7528\\u57DF\\u5BF9\\u8C61\\u6765\\u5904\\u7406\\u4E86\\uFF0C\\u5373\\u5C06 baseHandlers \\u548C collectionHandlers \\u5206\\u522B\\u7528\\u5355\\u72EC\\u4E00\\u4E2A\\u5BF9\\u8C61\\u6765\\u627F\\u8F7D\\uFF0C\\u56E0\\u4E3A\\u91CC\\u9762\\u7684\\u51FD\\u6570\\u540D\\u90FD\\u662F\\u540C\\u4E00\\u4E2A\\uFF0C\\u4E0D\\u7136\\u5C31\\u53EA\\u80FD\\u62C6\\u5206\\u6210\\u591A\\u4E2A\\u6587\\u4EF6\\u4E86\\u3002\"),mdx(\"p\",null,\"\\u601D\\u8003\\u4E2D \\u2621\\u2621\\u2621\\u2621\\u2621\\u2621\\u2621\\u2621\\u2621\\u2621\\u2621\\u2621\\u2621\\u2621\\u2621\\u2621\\u2621\\u2621\\u2621\\u2621\\u2621\\u2026\"),mdx(\"p\",null,\"\\u8FD8\\u662F\\u62C6\\u5206\\u5427\\uFF0C\\u548C vue \\u6E90\\u7801\\u7ED3\\u6784\\u4FDD\\u6301\\u4E00\\u81F4\\uFF0C\\u589E\\u52A0 reactive \\u76EE\\u5F55\\u6765\\u627F\\u8F7D\\u3002\"),mdx(\"p\",null,\"\\u5206\\u79BB\\u4E4B\\u540E\\u7684\\u76EE\\u5F55\\u5907\\u4EFD \",mdx(\"a\",_extends({parentName:\"p\"},{\"href\":\"https://github.com/gcclll/vue-next-code-read/tree/master/bakups/reactive_files_v\"}),\"bakups/reactive_files_v\")),mdx(\"p\",null,\"\\u4E0B\\u9762\\u8FDB\\u5165\\u6B63\\u9898 >>>>>>>>\"),mdx(\"p\",null,\"\\u65B0\\u5EFA collectionHandlers.js \\u7528\\u6765\\u5B9A\\u4E49\\u96C6\\u5408\\u7C7B\\u578B\\u6709\\u5173\\u7684 proxy handlers\\u3002\"),mdx(\"p\",null,\"\\u628A reactive.js \\u91CC\\u9762\\u7684 \"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// TODO\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"export\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" mutableCollectionHandlers \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"export\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" readonlyCollectionHandlers \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"export\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" shallowCollectionHandlers \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",null,\"\\u79FB\\u5230 \",mdx(\"em\",{parentName:\"p\"},\"collectionHandler.js\"),\" \\u91CC\\uFF0C\\u8FD9\\u8282\\u63A5\\u4E0B\\u6765\\u6240\\u6709\\u7684\\u5DE5\\u4F5C\\u90FD\\u662F\\u4E3A\\u4E86\\u6784\\u5EFA\\u8FD9\\u4E09\\u4E2A handlers\\u3002\"),mdx(\"p\",null,\"\\u5C06\\u6309 get -> set -> size -> add -> deleteEntry -> has -> clear \\u987A\\u5E8F\\u6765\\u4E00\\u6B65\\u6B65\\u5B9E\\u73B0\\u3002\"),mdx(\"h2\",{\"id\":\"准备工作\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C\",\"aria-label\":\"准备工作 permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"\\u51C6\\u5907\\u5DE5\\u4F5C\"),mdx(\"p\",null,\"\\u6709\\u4E86 baseHandlers.ts \\u5B9E\\u73B0\\u7684\\u57FA\\u7840\\uFF0C\\u5C31\\u6CA1\\u5FC5\\u8981\\u518D\\u90A3\\u4E48\\u8BE6\\u7EC6\\u7684\\u6B65\\u9AA4\\u53BB\\u5B9E\\u73B0\\u4E86\\uFF0C\\u8FD9\\u91CC\\u5C06\\u6240\\u6709\\u51C6\\u5907\\u5DE5\\u4F5C\\u505A\\u8DB3\\uFF0C\\u4E3B\\u8981\\u5C31\\u662F\\u4E00\\u4E9B\\u57FA\\u7840\\u53D8\\u91CF\\u7684\\u58F0\\u660E\\uFF0C\\u5728\\u7406\\u89E3\\u5B83\\u7684\\u57FA\\u7840\\u4E0A\\u5148\\u58F0\\u660E\\u597D\\uFF0C\\u800C\\u4E0D\\u662F\\u7528\\u7684\\u65F6\\u5019\\u518D\\u53BB\\u58F0\\u660E\\u3002\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"ts\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-ts\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-ts\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// reactive \\u5316\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" toReactive \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"<\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token constant\"}),\"T\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"extends\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"unknown\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\">\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token constant\"}),\"T\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token constant\"}),\"T\")),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"isObject\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" value\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// readonly reactive\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" toReadonly \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"<\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token constant\"}),\"T\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"extends\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"unknown\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\">\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token constant\"}),\"T\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token constant\"}),\"T\")),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"isObject\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"readonly\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" value\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// shallow reactive\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" toShallow \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"<\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token constant\"}),\"T\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"extends\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"unknown\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\">\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token constant\"}),\"T\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token constant\"}),\"T\")),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" value\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u53D6\\u539F\\u578B\\u539F\\u5B50\\u64CD\\u4F5C Reflect\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" getProto \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"<\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token constant\"}),\"T\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"extends\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"CollectionTypes\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\">\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"v\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token constant\"}),\"T\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token builtin\"}),\"any\")),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\"\\n  Reflect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"getPrototypeOf\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"v\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4E09\\u4E2A handlers \\u5BF9\\u5E94\\u7684 instrumentations\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" mutableInstrumentations\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" Record\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"<\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token builtin\"}),\"string\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token builtin\"}),\"Function\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\">\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\"  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"/*...*/\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" shallowInstrumentations\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" Record\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"<\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token builtin\"}),\"string\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token builtin\"}),\"Function\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\">\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"/*...*/\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" readonlyInstrumentations\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" Record\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"<\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token builtin\"}),\"string\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token builtin\"}),\"Function\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\">\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"/*...*/\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u96C6\\u5408\\u7C7B\\u578B\\u51E0\\u4E2A\\u8FED\\u4EE3\\u65B9\\u6CD5\\u548C\\u8FED\\u4EE3\\u5668\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" iteratorMethods \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'keys'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'values'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'entries'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" Symbol\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"iterator\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4E09\\u4E2A handlers \\u53EA\\u9700\\u8981\\u4E00\\u4E2A get ????????????\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"export\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" mutableCollectionHandlers\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" ProxyHandler\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"<\"),\"CollectionTypes\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\">\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createInstrumentationGetter\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"false\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"false\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"export\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" shallowCollectionHandlers\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" ProxyHandler\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"<\"),\"CollectionTypes\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\">\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createInstrumentationGetter\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"false\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"export\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" readonlyCollectionHandlers\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" ProxyHandler\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"<\"),\"CollectionTypes\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\">\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createInstrumentationGetter\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"false\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"h2\",{\"id\":\"createinstrumentationgetter\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#createinstrumentationgetter\",\"aria-label\":\"createinstrumentationgetter permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"createInstrumentationGetter\"),mdx(\"p\",null,\"\\u7531\\u4E8E\\u4E09\\u4E2A handlers \\u90FD\\u662F\\u7531\\u8FD9\\u4E2A\\u751F\\u6210\\u7684\\uFF0C\\u6240\\u4EE5\\u6211\\u4EEC\\u4E0D\\u5F97\\u4E0D\\u4EE5\\u8FD9\\u4E2A\\u51FD\\u6570\\u4F5C\\u4E3A\\u5207\\u5165\\u70B9\\u3002\"),mdx(\"p\",null,\"\\u5728\\u8FD9\\u4E4B\\u524D\\u5FC5\\u987B\\u7684\\u5B8C\\u6210\\u51C6\\u5907\\u5DE5\\u4F5C\\uFF0C\\u628A\\u9700\\u8981\\u7684\\u53D8\\u91CF\\u90FD\\u5B9E\\u73B0\\u51C6\\u5907\\u597D\\u3002\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// proxy handlers \\u5BF9\\u8C61\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" mutableInstrumentations \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" shallowInstrumentations \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" readonlyInstrumentations \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createInstrumentationGetter\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"isReadonly\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" shallow\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u51B3\\u5B9A\\u4F7F\\u7528\\u54EA\\u79CD\\u7C7B\\u578B\\u7684 instru...\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" instrumentations \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" shallow\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" shallowInstrumentations\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" isReadonly\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" readonlyInstrumentations\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" mutableInstrumentations\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// Reflect.get \\u7C7B\\u578B\\u7684 proxy handler\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" receiver\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"switch\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"case\"),\" ReactiveFlags\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"isReactive\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"isReadonly\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"case\"),\" ReactiveFlags\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"isReadonly\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" isReadonly\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"case\"),\" ReactiveFlags\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"raw\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" target\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"default\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"break\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u96BE\\u9053\\u96C6\\u5408\\u7C7B\\u578B\\u7684 proxy handler \\u7EDF\\u7EDF\\u8D70\\u7684\\u90FD\\u662F proxy get ???\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" Reflect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"hasOwn\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"instrumentations\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\" key \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"in\"),\" target \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" instrumentations \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n    key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n    receiver\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",null,\"\\u8FD9\\u91CC\\u5BF9\\u4E8E\\u96C6\\u5408\\u7C7B\\u578B\\u53EA\\u63D0\\u4F9B\\u4E00\\u4E2A get proxy handler \\u548C\\u4E4B\\u524D\\u78B0\\u5230\\u8FC7\\u7684\\u62A5\\u9519 \",mdx(\"a\",_extends({parentName:\"p\"},{\"href\":\"#error-map\"}),\"VM1029:1 Uncaught TypeError: Method Map.prototype.get called on incompatible receiver [object Object]\"),\" \\u95EE\\u9898\\u662F\\u4E00\\u6837\\u7684\\uFF0C\\u7F51\\u4E0A\\u8BF4\\u7684\\u662F\\u4E22\\u5931\\u4E86\\u4F5C\\u7528\\u57DF\\uFF0C\\u770B\\u62A5\\u9519\\u7684\\u63D0\\u793A\\u4E5F\\u786E\\u5B9E\\u662F\\u8FD9\\u4E2A\\u539F\\u56E0\\u3002\"),mdx(\"p\",null,\"\\u6839\\u6E90\\u5728\\u4E8E\\u4F60\\u4F7F\\u7528 observed->Map \\u7684\\u65F6\\u5019\\uFF0C\\u9700\\u8981\\u901A\\u8FC7 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"observed.get()\"),\" \\u53BB\\u8C03\\u7528\\uFF0C\\u4F46 observed \\u662F\\u4E2A Proxy \\u7C7B\\u578B\\uFF0C\\u5728 proxy handler \\u91CC\\u9762 Reflect \\u9700\\u8981\\u8C03\\u7528\\u7684\\u53C8\\u662F Map \\u7C7B\\u578B\\u4E0A\\u9762\\u7684 get \\u65B9\\u6CD5(\\u56E0\\u4E3A\\u5B83\\u662F target \\u7684\\u539F\\u5B50\\u64CD\\u4F5C\\u554A)\\uFF0C\\u56E0\\u6B64\\u5C31\\u51FA\\u73B0\\u4E86 Proxy -> \\u8C03\\u7528 Map.prototype.get \\u5BFC\\u81F4\\u5931\\u8D25\\u62A5\\u9519 \\u3002\"),mdx(\"p\",null,\"\\u8981\\u89E3\\u51B3\\u8FD9\\u4E2A\\u95EE\\u9898\\uFF0C\\u6700\\u7B80\\u5355\\u662F\\u6539\\u53D8 Reflect.get \\u7684\\u8C03\\u7528\\u4F5C\\u7528\\uFF0C\\u5982\\uFF1A\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"var\"),\" m \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Map\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'foo'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'bar'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"2\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"var\"),\" ob \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Proxy\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"m\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" receiver\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    console\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" key \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'111 get proxy'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" Reflect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"call\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" receiver\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\"))),mdx(\"p\",null,\"\\u65E2\\u7136\\u73B0\\u5728\\u77E5\\u9053\\u4E86 map \\u7684\\u64CD\\u4F5C\\u90FD\\u9700\\u8981\\u901A\\u8FC7 get \\u6765\\u8FDB\\u884C\\u8FDB\\u4E00\\u6B65\\u201D\\u4EE3\\u7406\\u201D\\uFF0C\",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"createInstrumentationGetter\"),\" \\u4E5F\\u5B9E\\u73B0\\u4E86\\uFF0C\\u8FD9\\u4E2A\\u4E5F\\u5F88\\u7B80\\u5355\\uFF0C\\u5C31\\u662F\\u6839\\u636E\\u7279\\u6027\\u5224\\u65AD\\u91C7\\u7528\\u90A3\\u4E00\\u4E2A instrumentations\\uFF0C\\u7136\\u540E\\u8FD4\\u56DE \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"Reflect.get\"),\" \\u7ED3\\u679C\\uFF0C\\u4E2D\\u95F4\\u52A0\\u4E0A\\u4E86 ReactiveFlags \\u7684\\u4E00\\u4E9B\\u5224\\u65AD\\u800C\\u5DF2\\u3002\"),mdx(\"p\",null,\"\\u4E09\\u4E2A handlers \\uFF1A\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"export\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" mutableCollectionHandlers \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createInstrumentationGetter\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"false\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"false\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"export\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" readonlyCollectionHandlers \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createInstrumentationGetter\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"false\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"export\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" shallowCollectionHandlers \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createInstrumentationGetter\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"false\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"h2\",{\"id\":\"gettarget-key-wrap\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#gettarget-key-wrap\",\"aria-label\":\"gettarget key wrap permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"get(target, key, wrap)\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" wrap\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  target \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toRaw\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" rawKey \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toRaw\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  console\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" rawKey \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'get'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!==\"),\" rawKey\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"track\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'get'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"track\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'get'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" rawKey\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" has\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"getProto\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"has\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"call\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"wrap\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"call\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"else\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"has\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"call\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" rawKey\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"wrap\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"call\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" rawKey\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",null,\"\\u6D4B\\u8BD5\\uFF1A\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"var\"),\" or \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Map\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'foo'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'bar'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"2\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"var\"),\" ob \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"or\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"isReactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"ob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'is reactive'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"or \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"instanceof\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Map\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'or is map'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"ob \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"instanceof\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Map\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'ob is map'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'============================='\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" dummy\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" ob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'key'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'1'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'foo'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"2\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\")))),mdx(\"p\",null,\"\\u7ED3\\u679C\\uFF1A\"),mdx(\"p\",null,mdx(\"img\",_extends({parentName:\"p\"},{\"src\":\"http://qiniu.ii6g.com/1590398397.png?imageMogr2/thumbnail/!100p\",\"alt\":null}))),mdx(\"p\",null,\"\\u6CE8\\u610F\\u770B createInstrumentationGetter \\u8FD4\\u56DE\\u7684\\u7BAD\\u5934\\u51FD\\u6570\\u91CC\\u8FD4\\u56DE\\u7684\\u503C\\uFF1A\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" Reflect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"hasOwn\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"instrumentations\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\" key \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"in\"),\" target\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" instrumentations\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  receiver\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4E0A\\u9762\\u7684\\u5047\\u8BBE\\u662F mutableInstrumentations\\uFF0C\\u90A3\\u4E48\\u4E0A\\u9762\\u7684\\u4EE3\\u7801\\u5C31\\u76F8\\u5F53\\u4E8E\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5047\\u8BBE\\u8C03\\u7528\\u7684\\u662F observed.get(key, ...)\\uFF0C\\u90A3\\u4E48\\u7B2C\\u4E8C\\u4E2A\\u53C2\\u6570 key = 'get'\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" Reflect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"/* mutableInstrumentations \\u91CC\\u9762\\u7684 get \\u65B9\\u6CD5*/\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'get'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" receiver\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\"))),mdx(\"p\",null,\"\\u7ECF\\u8FC7\\u4E0A\\u9762\\u7684\\u8F6C\\u6362\\u4E4B\\u540E\\u5C31\\u6BD4\\u8F83\\u6709\\u610F\\u601D\\u4E86\\uFF0C\\u4E0D\\u7BA1\\u4F60\\u901A\\u8FC7 observed \\u8C03\\u7528\\u4EC0\\u4E48\\u65B9\\u6CD5\\uFF0C\\u6700\\u7EC8\\u90FD\\u4F1A\\u88AB\\u8F6C\\u6210 Reflect.get \\u53D6\\u503C\\u64CD\\u4F5C\\uFF0C\\u800C\\u53D6\\u503C\\u7684\\u5173\\u952E\\u5728\\u4E8E\\u4E24\\u70B9\\uFF1A\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"\\u88AB\\u53D6\\u503C\\u7684\\u5BF9\\u8C61\\u8FD9\\u91CC\\u5C31\\u662F\\u6211\\u4EEC\\u771F\\u6B63\\u5B9A\\u4E49\\u7684 proxy handler \\u5BF9\\u8C61\\uFF0C\\u91CC\\u9762\\u5305\\u542B\\u4E86\\u6307\\u5B9A\\u7279\\u6027\\u9700\\u8981\\u7684\\u51FD\\u6570\"),mdx(\"li\",{parentName:\"ol\"},\"key \\u4E3A observed \\u8C03\\u7528\\u7684\\u90A3\\u4E2A\\u65B9\\u6CD5\\u540D\\u79F0\\uFF0C\\u5FC5\\u987B\\u53D6\\u503C observed.get \\u90A3\\u4E48 key \\u5C31\\u662F \\u2018get\\u2019\\uFF0Cobserved.set \\uFF0C\\u90A3\\u4E48 key \\u5C31\\u662F \\u2018set\\u2019\")),mdx(\"p\",null,\"\\u6700\\u7EC8 observed.get ---> \\u5176\\u5B9E\\u5C31\\u662F \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"mutableInstrumentations.get\"),\" \\u3002\"),mdx(\"h3\",{\"id\":\"font-colorredtodofont-疑问？？\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h3\"},{\"href\":\"#font-colorredtodofont-%E7%96%91%E9%97%AE%EF%BC%9F%EF%BC%9F\",\"aria-label\":\"font colorredtodofont 疑问？？ permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),mdx(\"font\",{color:\"red\"},\"TODO\"),\" \\u7591\\u95EE\\uFF1F\\uFF1F\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"Get \\u91CC\\u7684 \\u4E24\\u6B21 toRaw \\u662F\\u5565\\u610F\\u601D\\uFF1F\\uFF1F\\uFF1F\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" wrap\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8FD9\\u91CC\\u4E3A\\u5565\\u8981\\u53D6\\u4E24\\u6B21 toRaw\\uFF0C\\u7136\\u540E\\u53EF\\u80FD\\u4F1A\\u89E6\\u53D1\\u4E24\\u6B21 track???\"),\"\\n  target \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toRaw\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" rawKey \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toRaw\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!==\"),\" rawKey\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"track\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'get'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"track\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'get'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" rawKey\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"))))),mdx(\"li\",{parentName:\"ol\"},mdx(\"span\",{id:\"question-this\"},\"\\u5728\\u5B9E\\u73B0 get \\u7684\\u65F6\\u5019 vue \\u6E90\\u7801\\u91CC\\u662F\\u8FD9\\u6837\\u7684\\uFF1A `get(this: MapTypes, ...)` \\u4F46\\u5B9E\\u9645\\u8FD9\\u79CD\\u8BED\\u6CD5\\u5728 js \\u4E2D\\u80AF\\u5B9A\\u662F\\u4E0D\\u652F\\u6301\\u7684\"),mdx(\"p\",{parentName:\"li\"},\"\\u7136\\u540E\\u81EA\\u5DF1\\u5C31\\u6539\\u5199\\u4E86\\u4E0B\\uFF1A\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// proxy handlers \\u5BF9\\u8C61\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" mutableInstrumentations \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"scope\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"this\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" toReactive\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"set\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",{parentName:\"li\"},\"\\u7ED3\\u679C\\u53D1\\u73B0\\u4E0D\\u592A\\u5BF9\\uFF1A\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"var\"),\" or \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Map\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"var\"),\" ob \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"or\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" dummy\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" ob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'key'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  console\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'effect'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'1'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"/* ob.set('key', 'value') */\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"/* console.log({ dummy }, '2') */\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"targetMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"or\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\")))),mdx(\"p\",{parentName:\"li\"},\"\\u7ED3\\u679C\\uFF1A\"),mdx(\"p\",{parentName:\"li\"},mdx(\"img\",_extends({parentName:\"p\"},{\"src\":\"http://qiniu.ii6g.com/1590402707.png?imageMogr2/thumbnail/!100p\",\"alt\":null}))),mdx(\"p\",{parentName:\"li\"},\"\\u8FD9\\u91CC\\u6536\\u96C6\\u7684\\u4F9D\\u8D56\\u7684 key \\u7ADF\\u7136\\u662F \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"undefined\"),\"\\uFF0C\\u4E5F\\u5C31\\u662F\\u8BF4\\u4F20\\u5165\\u7ED9 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"get(target, key, wrap)\"),\" \\u7684 key \\u4E22\\u5931\\u4E86\\u3002\"),mdx(\"p\",{parentName:\"li\"},\"\\u867D\\u7136\\u77E5\\u9053\\u539F\\u56E0\\uFF1A\\u5C31\\u662F\\u4E0A\\u9762\\u7684 mutableInstrumentations \\u7684 get \\u591A\\u4E86\\u4E00\\u4E2A\\u53C2\\u6570\\u554A\\uFF0C\\u8FD9\\u8C8C\\u4F3C\\u54EA\\u91CC\\u4E0D\\u592A\\u5BF9\\uFF0C\\u65E0\\u5948\\u53BB\\u770B\\u4E86\\u4E0B \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"vue.global.js\"),\" \\u6253\\u5305\\u4E4B\\u540E\\u7684\\u4EE3\\u7801\\uFF0C\\u624D\\u53D1\\u73B0\\u7AEF\\u502A\\u3002\"))),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6253\\u5305\\u4E4B\\u540E\\u7684 get\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" readonlyInstrumentations \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8BF7\\u770B\\u8FD9\\u91CC\\uFF0C\\u6253\\u5305\\u4E4B\\u540E\\u7B2C\\u4E00\\u4E2A this \\u6CA1\\u6709\\u4E86\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"$1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"this\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" toReadonly\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6253\\u5305\\u4E4B\\u524D\\u7684 get\\uFF0Cts\\u8BED\\u6CD5\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" mutableInstrumentations\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" Record\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"<\"),\"string\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" Function\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\">\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"this\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" MapTypes\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" unknown\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"this\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" toReactive\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",null,\"   \\u7531\\u4E8E js \\u662F\\u4E0D\\u652F\\u6301\\u7528 this \\u505A\\u51FD\\u6570\\u53C2\\u6570\\u7684\\uFF0C\\u6240\\u4EE5\\u53EA\\u80FD\\u4ECE TypeScript \\u53BB\\u65B9\\u5411\\u7740\\u624B\\u4E86\\u2026\\uFF0C\\u7136\\u540E\\uFF0C\\u7136\\u540E\\u5C31\\u6709\\u4E86\\u7ED3\\u679C\\uFF1A\"),mdx(\"p\",null,\"   ts \\u4E2D\\u7684 \",mdx(\"a\",_extends({parentName:\"p\"},{\"href\":\"https://www.typescriptlang.org/docs/handbook/functions.html\"}),\"this \\u4F5C\\u4E3A\\u51FD\\u6570\\u7B2C\\u4E00\\u4E2A\\u53C2\\u6570\\u7684\\u8BED\\u6CD5\"),\"\\u8BF4\\u660E\"),mdx(\"p\",null,\"   \",mdx(\"img\",_extends({parentName:\"p\"},{\"src\":\"http://qiniu.ii6g.com/1590403211.png?imageMogr2/thumbnail/!100p\",\"alt\":null}))),mdx(\"p\",null,\"   \\u88AB\\u5708\\u5708\\u7684\\u4E24\\u4E2A\\u5355\\u8BCD\\u662F\\u5173\\u952E\\uFF0C\\u5B83\\u5C31\\u662F\\u4E2A\\u5047\\u7684\\u53C2\\u6570\\uFF0C\\u4F5C\\u7528\\u4E5F\\u5C31\\u662F\\u8BA9\\u51FD\\u6570\\u80FD\\u58F0\\u660E\\u5B83\\u88AB\\u8C03\\u7528\\u7684\\u90A3\\u4E2A\\u5BF9\\u8C61\\u662F\\u4EC0\\u4E48\\u7C7B\\u578B\\uFF0C\\u56E0\\u6B64\\u4E5F\\u5C31\\u660E\\u767D\\u4E3A\\u4F55\\u6253\\u5305\\u4E4B\\u524D\\u548C\\u6253\\u5305\\u4E4B\\u540E\\u4EE3\\u7801\\u7684\\u5DEE\\u5F02\\u4E86\\u3002\"),mdx(\"p\",null,\"   \\u6240\\u4EE5\\u8BE5\\u95EE\\u9898\\u89E3\\u51B3\\u65B9\\u6CD5\\u5C31\\u662F\\u53BB\\u6389\\u7B2C\\u4E00\\u4E2A\\u53C2\\u6570\\uFF0C\\u53EA\\u6709\\u4E00\\u4E2A\\u53C2\\u6570 key \\uFF0C\\u5982\\uFF1A\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" mutableInstrumentations \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"this\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" toReactive\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"set\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"h2\",{\"id\":\"setthis-key-value\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#setthis-key-value\",\"aria-label\":\"setthis key value permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"set(this, key, value)\"),mdx(\"p\",null,\"\\u5F04\\u6E05\\u695A TypeScript \\u7684 this argument \\u4E4B\\u540E\\uFF0C\\u89E3\\u51B3\\u4E86 get \\u4E5F\\u5C31\\u89E3\\u51B3\\u4E86 set \\u95EE\\u9898\\u4E86\\u3002\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"key\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" value\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n\\n  value \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toRaw\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u53D6\\u8C03\\u7528 set \\u7684\\u90A3\\u4E2A\\u5BF9\\u8C61\\uFF0C\\u53D6\\u51FA\\u5B83\\u539F\\u578B\\u4E0A\\u7684 has, get, set\\uFF0C\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4E5F\\u5C31\\u662F target: Map \"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" target \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toRaw\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"this\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" has\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"set\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"getProto\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" hadKey \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"has\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"call\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"hadKey\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// key \\u662F\\u4E0D\\u662F\\u6709\\u53EF\\u80FD\\u4E5F\\u662F\\u4E2A observed ???\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// Map \\u7684 key \\u4E0D\\u4EC5\\u9650\\u4E8E\\u666E\\u901A\\u7C7B\\u578B\\uFF0C\\u53EF\\u4EE5\\u662F\\u4EFB\\u610F\\u7C7B\\u578B\"),\"\\n    key \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toRaw\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u90A3\\u4E48\\u91CD\\u65B0\\u53D6\\u4E00\\u6B21\\u503C\"),\"\\n    hadKey \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"has\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"call\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"else\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"__DEV__\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// TODO\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u53D6\\u65E7\\u503C\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" oldValue \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"call\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u628A\\u503C\\u8BBE\\u7F6E\\u5230 observed \\u4E4B\\u524D\\u7684\\u5BF9\\u8C61\\u4E0A\\uFF0C\\u53EF\\u53C2\\u8003\\u4E0B\\u9762\\u7684\\u7ED3\\u679C\\u56FE\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" result \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"call\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4E0B\\u9762\\u5C31\\u662F\\u8DDF basehandler \\u4E00\\u6837\\u7684\\u589E\\u52A0\\u6216\\u8BBE\\u7F6E\\u64CD\\u4F5C\\u4E86\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"hadKey\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"trigger\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'add'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"else\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"hasChanged\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" oldValue\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"trigger\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'set'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" oldValue\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8BB0\\u5F97\\u8FD4\\u56DE\\u8BBE\\u7F6E\\u7ED3\\u679C\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" result\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",null,\"\\u6D4B\\u8BD5\\uFF1A\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"var\"),\" or \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Map\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"var\"),\" ob \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"or\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" dummy\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" ob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'key'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'1'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'key'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'value'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'2'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"targetMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"or\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\")))),mdx(\"p\",null,\"\\u7ED3\\u679C\\uFF1A\"),mdx(\"p\",null,mdx(\"img\",_extends({parentName:\"p\"},{\"src\":\"http://qiniu.ii6g.com/1590405427.png?imageMogr2/thumbnail/!100p\",\"alt\":null}))),mdx(\"p\",null,\"\\u6709\\u4E86 get \\u548C set \\u5B9E\\u73B0\\u6253\\u57FA\\u7840\\u4E0B\\u9762\\u7684\\u5B9E\\u73B0\\u5C31\\uD83C\\uDF3E\\u6E20\\u6210\\u4E86\\uFF0C\\u4F46\\u9769\\u547D\\u8FD8\\u672A\\u6210\\u529F\\uFF0C\\u4F9D\\u65E7\\u9700\\u8981\\u52AA\\u529B\\u8C28\\u614E\\uFF0C\\uD83D\\uDC29\\uD83D\\uDC29\\uD83D\\uDC29\\u2026\"),mdx(\"h2\",{\"id\":\"sizetarget\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#sizetarget\",\"aria-label\":\"sizetarget permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"size(target)\"),mdx(\"p\",null,\"Map \\u7684 size \\u5C5E\\u6027\\u662F\\u4E00\\u4E2A\\u539F\\u578B\\u662F\\u4E0A\\u7684\\u5C5E\\u6027\\uFF1A \",mdx(\"a\",_extends({parentName:\"p\"},{\"href\":\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/size\"}),\"Map.prototype.size\"),\"\\uFF0C \\u81F3\\u4E8E\\u4E3A\\u4EC0\\u4E48\\u8981\\u7528ITERATE_KEY \\u90A3\\u5C31\\u9700\\u8981\\u770B\\u4E0B\"),mdx(\"p\",null,mdx(\"a\",_extends({parentName:\"p\"},{\"href\":\"https://tc39.es/ecma262/#sec-get-map.prototype.size\"}),\"\\u8FD9\\u91CC\\u4E86\")),mdx(\"p\",null,\"\\u5B9E\\u73B0\\u7684\\u65F6\\u5019\\u662F\\u9700\\u8981\\u5BF9 Map \\u8FDB\\u884C\\u8FED\\u4EE3\\u7684(\",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"for [key, value] of map\"),\")\\uFF0C\\u56E0\\u6B64\\u4F1A\\u89E6\\u53D1 iterate \\u884C\\u4E3A\\u6765\\u6536\\u96C6\\u4F9D\\u8D56\\u3002\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"size\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  target \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toRaw\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"track\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'iterate'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token constant\"}),\"ITERATE_KEY\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// size \\u662F\\u5728 Map \\u539F\\u578B\\u4E0A\\u7684\\u4E00\\u4E2A\\u5C5E\\u6027\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" Reflect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"getProto\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'size'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",null,\"\\u66F4\\u65B0 mutableInstrumentations:\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// proxy handlers \\u5BF9\\u8C61\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" mutableInstrumentations \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"this\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" toReactive\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"size\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"size\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"this\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"h2\",{\"id\":\"addvalue\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#addvalue\",\"aria-label\":\"addvalue permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"add(value)\"),mdx(\"p\",null,\"\\u9650\\u4E8E Set \\u7C7B\\u578B\\u4F7F\\u7528\\uFF0C\\u4F46\\u662F\\u4E3A\\u5565\\u4E0D\\u52A0\\u4E2A\\u5224\\u65AD\\u5462\\uFF1F\\uFF1F\\uFF1F\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"add\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"value\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  value \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toRaw\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" target \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toRaw\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"this\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" proto \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"getProto\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// Set.prototype ....\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" hadKey \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" proto\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"has\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"call\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// Set.prototype.has\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" result \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" proto\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"add\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"call\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// Set.prototype.add\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"hadKey\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"trigger\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'add'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" result\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",null,\"\\u6D4B\\u8BD5\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"var\"),\" or \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"var\"),\" ob \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"or\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function-variable function\"}),\"fn\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" dummy\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" ob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"has\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"fn\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'before'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"add\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"fn\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'after'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\")))),mdx(\"p\",null,\"\\u7ED3\\u679C\\uFF1A\"),mdx(\"blockquote\",null,mdx(\"p\",{parentName:\"blockquote\"},\"{dummy: false} \\u201Cbefore\\u201D\\n{dummy: true} \\u201Cafter\\u201D\")),mdx(\"h2\",{\"id\":\"deleteentrykey\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#deleteentrykey\",\"aria-label\":\"deleteentrykey permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"deleteEntry(key)\"),mdx(\"p\",null,\"Map/Set.prototype.delete \\u7684 proxy handler\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"deleteEntry\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"key\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" target \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toRaw\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"this\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" has\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"delete\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" del \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"getProto\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" hadKey \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"has\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"call\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"hadKey\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    key \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toRaw\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    hadKey \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"has\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"call\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"else\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"__DEV__\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// TODO\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" oldValue \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"call\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"undefined\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" result \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"del\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"call\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"hadKey\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"trigger\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'delete'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"undefined\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" oldValue\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" result\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",null,\"\\u6D4B\\u8BD5\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"var\"),\" or \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Map\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"var\"),\" ob \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"or\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function-variable function\"}),\"fn\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" dummy\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" ob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"has\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"fn\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'before'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// false\"),\"\\nob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"fn\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u589E\\u52A0\\uFF0C\\u89E6\\u53D1 fn -> updater\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'after'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// true\"),\"\\nob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"clear\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6E05\\u7A7A\\uFF0Ctrigger: clear\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'cleared'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// false\"),\"\\nob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"fn\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"false\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// trigger: add\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'add'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// true\"),\"\\nob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"delete\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"fn\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// trigger: delete\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'deleted'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// false\")))),mdx(\"p\",null,\"\\u7ED3\\u679C\"),mdx(\"blockquote\",null,mdx(\"p\",{parentName:\"blockquote\"},\"{dummy: false} \\u201Cbefore\\u201D\\n{dummy: true} \\u201Cafter\\u201D\\n{dummy: false} \\u201Ccleared\\u201D\\n{dummy: true} \\u201Cadd\\u201D\\n{dummy: false} \\u201Cdeleted\\u201D\")),mdx(\"h2\",{\"id\":\"haskey\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#haskey\",\"aria-label\":\"haskey permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"has(key)\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"has\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"key\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" target \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toRaw\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"this\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" rawKey \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toRaw\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!==\"),\" rawKey\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"track\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'has'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"track\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'has'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" rawKey\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" has \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"getProto\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"has\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"has\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"call\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"||\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"has\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"call\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" rawKey\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\t\"))),mdx(\"p\",null,\"\\u6D4B\\u8BD5\\uFF1A\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"var\"),\" or \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Map\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"var\"),\" ob \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"or\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" has\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" ob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"size\\n  has \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" ob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"has\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'a'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" has \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'before'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'a'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6539\\u53D8\\u4E86 size\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" has \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'after'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\")))),mdx(\"p\",null,\"\\u7ED3\\u679C\\uFF1A\"),mdx(\"blockquote\",null,mdx(\"p\",{parentName:\"blockquote\"},\"{dummy: 0, has: false} \\u201Cbefore\\u201D\\n{dummy: 1, has: true} \\u201Cafter\\u201D\")),mdx(\"h2\",{\"id\":\"clear\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#clear\",\"aria-label\":\"clear permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"clear()\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"clear\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" target \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toRaw\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"this\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" hadItems \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"size \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!==\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" oldTarget \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" __DEV__\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" target \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"instanceof\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Map\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Map\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"undefined\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" result \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"getProto\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"clear\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"call\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"hadItems\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"trigger\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'clear'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"undefined\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"undefined\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" oldTarget\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" result\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",null,\"\\u6D4B\\u8BD5\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"var\"),\" or \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"var\"),\" ob \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"or\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function-variable function\"}),\"fn\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" dummy\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" ob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"has\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"fn\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'before'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"add\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"fn\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'after'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"clear\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'cleared'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\")))),mdx(\"p\",null,\"\\u7ED3\\u679C\"),mdx(\"blockquote\",null,mdx(\"p\",{parentName:\"blockquote\"},\"{dummy: false} \\u201Cbefore\\u201D\\n{dummy: true} \\u201Cafter\\u201D\\n{dummy: false} \\u201Ccleared\\u201D\")),mdx(\"h2\",{\"id\":\"foreachisreadonly-shallow\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#foreachisreadonly-shallow\",\"aria-label\":\"foreachisreadonly shallow permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"forEach(isReadonly, shallow)\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),\"  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"forEach\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"callback\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" thisArg\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" observed \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"this\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" target \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toRaw\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"observed\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" wrap \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" isReadonly \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" toReadonly \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" shallow \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" toShallow \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" toReactive\\n\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"isReadonly \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"track\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'iterate'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token constant\"}),\"ITERATE_KEY\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5C01\\u88C5\\u7684\\u76EE\\u7684\\uFF1A\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// 1. \\u786E\\u4FDD\\u5728 thisArg \\u4F5C\\u7528\\u57DF\\u4E0B\\u8C03\\u7528\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// 2. \\u786E\\u4FDD\\u4F20\\u9012\\u7ED9 callback \\u7684\\u503C\\u90FD\\u662F creative \\u7684\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"wrappedCallback\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"value\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" key\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"callback\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"call\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"thisArg\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"wrap\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"wrap\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" observed\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"getProto\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"forEach\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"call\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" wrappedCallback\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",null,\"\\u6D4B\\u8BD5\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"var\"),\" or \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Map\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"var\"),\" ob \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"or\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function-variable function\"}),\"fn\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" dummy\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  ob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"forEach\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"key\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" val\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"++\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"2\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"2\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"2\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"3\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"3\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"3\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\")))),mdx(\"p\",null,\"\\u672A\\u5B9E\\u73B0\\u4E4B\\u524D\\u7ED3\\u679C\"),mdx(\"blockquote\",null,mdx(\"p\",{parentName:\"blockquote\"},\"{dummy: 0} 0\\n{dummy: 0} 1\\n{dummy: 0} 2\\n{dummy: 0} 3\")),mdx(\"p\",null,\"\\u5B9E\\u73B0\\u4E4B\\u540E\\u7ED3\\u679C\"),mdx(\"blockquote\",null,mdx(\"p\",{parentName:\"blockquote\"},\"{dummy: 0} 0\\n{dummy: 1} 1\\n{dummy: 3} 2\\n{dummy: 6} 3\")),mdx(\"h2\",{\"id\":\"三个小矮人handlers-createiterablemethod\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#%E4%B8%89%E4%B8%AA%E5%B0%8F%E7%9F%AE%E4%BA%BAhandlers-createiterablemethod\",\"aria-label\":\"三个小矮人handlers createiterablemethod permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"\\u4E09\\u4E2A\\u5C0F\\u77EE\\u4EBA(handlers, createIterableMethod)\"),mdx(\"p\",null,\"\\u53EA\\u8BFB\\u64CD\\u4F5C\\u7684 handlers \\uFF1A\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u53EA\\u8BFB\\u51FD\\u6570\\uFF0C\\u4F1A\\u6539\\u53D8\\u5BF9\\u8C61\\u7684\\u64CD\\u4F5C\\u5747\\u4E0D\\u54CD\\u5E94\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createReadonlyMethod\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"type\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"...\"),\"args\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"__DEV__\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" key \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" args\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token template-string\"}),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token template-punctuation string\"}),\"`\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token string\"}),\"on key \\\"\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token interpolation\"}),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token interpolation-punctuation punctuation\"}),\"${\"),\"args\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"[\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token number\"}),\"0\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\"]\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token interpolation-punctuation punctuation\"}),\"}\")),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token string\"}),\"\\\" \"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token template-punctuation string\"}),\"`\")),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token template-string\"}),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token template-punctuation string\"}),\"`\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token template-punctuation string\"}),\"`\")),\"\\n      console\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"warn\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token template-string\"}),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token template-punctuation string\"}),\"`\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token interpolation\"}),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token interpolation-punctuation punctuation\"}),\"${\"),\"type\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token interpolation-punctuation punctuation\"}),\"}\")),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token string\"}),\" operation \"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token interpolation\"}),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token interpolation-punctuation punctuation\"}),\"${\"),\"key\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token interpolation-punctuation punctuation\"}),\"}\")),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token string\"}),\"failed: target is readonly.\"),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token template-punctuation string\"}),\"`\")),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toRaw\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"this\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" type \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'delete'\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"false\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"this\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",null,\"\\u4E09\\u4E2A\\u5C0F\\u4E3B\\u4EBA\\u516C\\uFF1A\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// proxy handlers \\u5BF9\\u8C61\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" mutableInstrumentations \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"this\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" toReactive\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"size\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"size\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"this\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  has\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  add\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  clear\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"delete\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" deleteEntry\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  forEach\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createForEach\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"false\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"false\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" shallowInstrumentations \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"this\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" toShallow\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"size\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"size\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"this\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  has\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  add\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"delete\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" deleteEntry\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  clear\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  forEach\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createForEach\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"false\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" readonlyInstrumentations \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"this\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" toReadonly\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"size\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"size\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"this\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  has\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  add\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createReadonlyMethod\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'add'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createReadonlyMethod\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'set'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"delete\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createReadonlyMethod\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'delete'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  clear\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createReadonlyMethod\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'clear'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  forEach\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createForEach\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"false\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",null,\"\\u9488\\u5BF9\\u8FED\\u4EE3\\u5668\\u64CD\\u4F5C\\uFF0C\\u521B\\u5EFA\\u8FED\\u4EE3\\u5668\\u4EE3\\u7406 handler:\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createIterableMethod\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"method\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" isReadonly\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" shallow\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"...\"),\"args\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" target \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toRaw\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"this\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" isMap \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" target \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"instanceof\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Map\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u68C0\\u6D4B\\u662F\\u4E0D\\u662F Set \\u6216 Map\\uFF0CMap\\u8FED\\u4EE3\\u7684\\u65F6\\u5019\\u8FD4\\u56DE\\u7684\\u662Ffor [key, value] of map\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// Set \\u8FED\\u4EE3\\u7684\\u65F6\\u5019\\u8FD4\\u56DE\\u7684\\u65F6\\u5019\\u662F for value of set\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// Object.entries()\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" isPair \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" method \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'entries'\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"||\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"method \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" Symbol\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"iterator \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\" isMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// Object.keys()\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" isKeyOnley \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" method \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'keys'\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\" isMap\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u53D6\\u51FA\\u539F\\u751F\\u7684 \\u8FED\\u4EE3\\u5668\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" innerIterator \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"getProto\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),\"method\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"apply\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" args\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5D4C\\u5957 reactive\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" wrap \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" isReadonly \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" toReadonly \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" shallow \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" toShallow \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" toReactive\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u89E6\\u53D1\\u8FED\\u4EE3\\u5668 \\u6536\\u96C6\\u4F9D\\u8D56\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"isReadonly \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"&&\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"track\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'iterate'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" isKeyOnley \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token constant\"}),\"MAP_KEY_ITERATE_KEY\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token constant\"}),\"ITERATE_KEY\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5C01\\u88C5\\u4E00\\u5C42\\uFF0C\\u8FED\\u4EE3\\u5668\\u7684\\u4E24\\u4E2A\\u5FC5\\u5907\\u6761\\u4EF6\\uFF1A1. next()\\uFF0C2. Symbol.iterator \\u5FC5\\u987B\\u5B9E\\u73B0\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"next\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u539F\\u672C\\u7684\\u8FED\\u4EE3\\u5668\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" done \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" innerIterator\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"next\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" done\\n          \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" done \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n          \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n          \\t\\t\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5904\\u7406 entries \\u6216 keys, values\\uFF0C\\u5BF9\\u5D4C\\u5957\\u7684\\u5BF9\\u8C61\\u8FDB\\u884C reactiv\"),\"\\n              value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" isPair \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"wrap\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"wrap\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"wrap\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n              done\\n            \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u53EF\\u8FED\\u4EE3\\u5BF9\\u8C61\\u5B9E\\u73B0\\u57FA\\u7840\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),\"Symbol\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"iterator\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"this\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",null,\"\\u6D4B\\u8BD5\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"var\"),\" or \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Map\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"var\"),\" ob \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"or\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function-variable function\"}),\"fn\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" keys\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" values\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" entries\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  keys \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" ob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"keys\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  values \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" ob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"values\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  entries \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" ob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"entries\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"keys\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"next\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" values\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"next\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" entries\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"next\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'a'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"keys\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"next\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" values\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"next\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" entries\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"next\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\"))),mdx(\"p\",null,\"\\u7ED3\\u679C\"),mdx(\"p\",null,mdx(\"img\",_extends({parentName:\"p\"},{\"src\":\"http://qiniu.ii6g.com/1590456092.png?imageMogr2/thumbnail/!100p\",\"alt\":null}))),mdx(\"h2\",{\"id\":\"jest-1\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#jest-1\",\"aria-label\":\"jest 1 permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"jest\"),mdx(\"p\",null,\"\\u7ED3\\u679C\\uFF1A\"),mdx(\"blockquote\",null,mdx(\"p\",{parentName:\"blockquote\"},\"\\u2601  vue-next-code-read \",\"[master]\",\" \\u26A1  jest\\nPASS  packages/\",mdx(\"strong\",{parentName:\"p\"},\"tests\"),\"/reactive/reactive.spec.js\\nPASS  packages/\",mdx(\"strong\",{parentName:\"p\"},\"tests\"),\"/reactive/effect.spec.js\\nPASS  packages/\",mdx(\"strong\",{parentName:\"p\"},\"tests\"),\"/reactive/collection/WeakSet.spec.js\\nPASS  packages/\",mdx(\"strong\",{parentName:\"p\"},\"tests\"),\"/reactive/collection/Map.spec.js\\nPASS  packages/\",mdx(\"strong\",{parentName:\"p\"},\"tests\"),\"/reactive/collection/WeakMap.spec.js\\nPASS  packages/\",mdx(\"strong\",{parentName:\"p\"},\"tests\"),\"/reactive/collection/Set.spec.js\"),mdx(\"p\",{parentName:\"blockquote\"},\"Test Suites: 6 passed, 6 total\\nTests:       132 passed, 132 total\\nSnapshots:   0 total\\nTime:        5.278 s\\nRan all test suites.\")),mdx(\"p\",null,\"\\u5206\\u6790\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 instanceof (3 ms)\"),mdx(\"p\",{parentName:\"li\"},mdx(\"img\",_extends({parentName:\"p\"},{\"src\":\"http://qiniu.ii6g.com/1590458265.png?imageMogr2/thumbnail/!100p\",\"alt\":null}))),mdx(\"p\",{parentName:\"li\"},\"\\u6CE8\\u610F Proxy \\u4E4B\\u540E\\u7684 observed \\u7684 \",mdx(\"strong\",{parentName:\"p\"},\"proto\"),\" \\u503C\\u662F Map \\uFF0C\\u6240\\u4EE5\\u5BF9 observed \\u4F7F\\u7528 instanceof Map(\\u67E5\\u627E\\u539F\\u578B\\u94FE) \\u7ED3\\u679C\\u80AF\\u5B9A\\u662F true\\u3002\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should observe mutations (2 ms)\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"it\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'should observe mutations'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" dummy\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" map \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Map\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8FD9\\u91CC\\u89E6\\u53D1\\u7684\\u662F map \\u5BF9\\u8C61\\u7684 'get' proxy handler\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// key = 'get', \\u6700\\u540E\\u901A\\u8FC7 Reflect.get(instrumentations{...}, 'get', receiver)\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5373\\u6700\\u540E\\u8C03\\u7528 'get' \\u65B9\\u6CD5\\u7684\\u662F instrumentations \\u8FD9\\u4E9B\\u5BF9\\u8C61\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5982\\uFF1A mutableInstrmentations \\u7684 get(key) { return get(this, key, toReactive) }\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u7136\\u540E get(key) \\u7684 key = 'key'\\uFF0C\\u4F20\\u9012\\u7ED9 `get(this, ...)`\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u7136\\u540E\\u5728 get(this, ...) \\u91CC\\u9762\\u901A\\u8FC7 call->proto \\u53BB\\u8C03\\u7528\\u539F\\u578B\\u4E0A\\u7684\\u65B9\\u6CD5\\uFF0C\\u89E3\\u51B3\\u4F5C\\u7528\\u57DF\\u4E22\\u5931\\u7684\\u95EE\\u9898\"),\"\\n    dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" map\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'key'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"undefined\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// true\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8C03\\u7528\\u7684\\u662F instrumentations \\u7684 set => set(this, ...)\"),\"\\n  map\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'key'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'value'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// map{'key' => 'value'}, trigger: add\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'value'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// true\"),\"\\n  map\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'key'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'value2'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// trigger: set\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'value2'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// true\"),\"\\n  map\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"delete\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'key'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// trigger: delete\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"undefined\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should observe mutations with observed value as key (1 ms)\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" dummy\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" key \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" value \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" map \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Map\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\ndummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" map\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"undefined\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nmap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u7528 observe \\u5BF9\\u8C61\\u4F5C\\u4E3A key \\u548C value\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// true\\uFF0C\\u90FD\\u662F\\u5F15\\u7528\\u7C7B\\u578B\\uFF0C\\u975E\\u503C\\u4F20\\u9012\"),\"\\nmap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"delete\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"undefined\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should observe size mutations (1 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\" \\u2713 should observe for of iteration (2 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"  \\u2713 should observe forEach iteration (1 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\" \\u2713 should observe keys iteration (3 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\" \\u2713 should observe values iteration (3 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\" \\u2713 should observe entries iteration (5 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\" \\u2713 should be triggered by clearing (3 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\" \\u2713 should not observe custom property mutations (6 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\" \\u2713 should not observe non value changing mutations (4 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\" \\u2713 should not observe raw data (1 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\" \\u2713 should not pollute original Map with Proxies (7 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should return observable versions of contained values (1 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should observed nested data (2 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should observe nested values in iterations (forEach) (1 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should observe nested values in iterations (values) (1 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should observe nested values in iterations (entries) (2 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should observe nested values in iterations (for...of) (2 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should not be trigger when the value and the old value both are NaN (1 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should work with reactive keys in raw map (1 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should track set of reactive keys in raw map\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should track deletion of reactive keys in raw map (1 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should warn when both raw and reactive versions of the same object is used as key\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should not trigger key iteration when setting existing keys (4 ms)\"))),mdx(\"h2\",{\"id\":\"小结\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#%E5%B0%8F%E7%BB%93\",\"aria-label\":\"小结 permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"\\u5C0F\\u7ED3\"),mdx(\"p\",null,\"\\u8FD9\\u8282\\u5DE5\\u4F5C\\u4E5F\\u57FA\\u672C\\u5B8C\\u6210\\u4E86\\uFF0C\\u6240\\u6709 collection \\u76F8\\u5173\\u7684\\u56DB\\u4E2A\\u6D4B\\u8BD5\\u7528\\u4F8B\\u90FD\\u6D4B\\u8BD5\\u901A\\u8FC7\\uFF0C\\u8BF4\\u660E\\u4EE3\\u7801\",mdx(\"strong\",{parentName:\"p\"},\"\\u7167\\u6284\"),\"(\\uD83E\\uDD26\\u200D\\u2642\\uFE0F)\\u7684\\u7ED3\\u679C\\u4E5F\\u6B63\\u5E38\\u3002\\u90A3\\u73B0\\u5728\\u4E5F\\u5E94\\u8BE5\\u57FA\\u672C\\u4E86\\u89E3\\u5BF9\\u4E8E\\u96C6\\u5408\\u7C7B\\u578B\\u7684 proxy \\u5904\\u7406\\uFF0Cvue \\u662F\\u600E\\u4E48\\u4E2A\\u5B9E\\u73B0\\u7684\\u3002\"),mdx(\"p\",null,\"\\u9996\\u5148\\uFF0Cproxy \\u662F\\u6CA1\\u6709\\u63D0\\u4F9B\\u548C\\u96C6\\u5408\\u7C7B\\u578B\\u6709\\u5173\\u7684\\u539F\\u5B50\\u64CD\\u4F5C\\u4EE3\\u7406\\u7684\\uFF0C\\u6240\\u4EE5\\u76F4\\u63A5\\u4F7F\\u7528 new Proxy(map) \\u662F\\u6CA1\\u6CD5\\u5B9E\\u73B0\\u6211\\u4EEC\\u60F3\\u8981\\u7684\\u529F\\u80FD\\u7684\\uFF0C\\u540C\\u65F6\\u4E5F\\u4F1A\\u51FA\\u73B0\\u65B9\\u6CD5\\u5E94\\u7528\\u4E0D\\u5F53\\u7684\\u62A5\\u9519(\\u4E22\\u5931\\u65B9\\u6CD5\\u7684\\u4F5C\\u7528\\u57DF\\u4E86\\uFF0C\\u628A Map.prototype.method \\u7684\\u65B9\\u6CD5\\u5E94\\u7528\\u5230\\u4E86 Proxy \\u7C7B\\u578B)\\u3002\"),mdx(\"p\",null,\"\\u4E3A\\u4E86\\u89E3\\u51B3\\u8FD9\\u4E2A\\u95EE\\u9898\\uFF0Cvue \\u91CC\\u9762 collection \\u6709\\u5173\\u7684\\u64CD\\u4F5C\\u5168\\u90E8\\u90FD\\u662F\\u901A\\u8FC7 get proxy \\u4EE3\\u7406\\u6765\\u5B9E\\u73B0\\uFF0C\\u4E0B\\u9762\\u662F\\u51E0\\u4E2A\\u5173\\u952E\\u70B9\\u548C\\u7591\\u95EE\\u70B9\\uFF1A\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"\\u6240\\u6709\\u63A5\\u53E3\\u5168\\u90E8\\u4F7F\\u7528 get proxy \\u901A\\u9053\\u8F6C\\u53D1\\uFF0C\\u8C03\\u7528 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"Reflect.get(instrumentations, key, receiver)\"))),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"\\u5728\\u6240\\u6709\\u7684\\u5B9E\\u9645 proxy handler\\u91CC\\u9762(\\u5982\\uFF1Aset, get, delete, \\u2026)\\uFF0C\\u89E3\\u51B3\\u4F5C\\u7528\\u57DF\\u95EE\\u9898\\uFF0C\\u53D6target \\u4E0A\\u7684\\u539F\\u578B\\u65B9\\u6CD5\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"\\u5E76\\u4E14\\u6240\\u6709\\u7684\\u539F\\u578B\\u4E0A\\u7684\\u65B9\\u6CD5(\\u5982\\uFF1Ahas, get, set)\\u90FD\\u901A\\u8FC7 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"has.call(target)\"),\" \\u89E3\\u51B3\\u8C03\\u7528\\u57DF\\u7684\\u95EE\\u9898\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"Key \\u548C rawKey \\u7684\\u95EE\\u9898(get \\u4E2D)\\uFF0C\\u76F4\\u63A5\\u770B\\u6D4B\\u8BD5\\u4EE3\\u7801\\u5206\\u6790\\uD83E\\uDD75\",mdx(\"span\",{id:\"question-raw-key\"})),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" key1 \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" key11 \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key1\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" ob \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Map\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" n1\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" n2\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  n1 \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" ob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key1\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  n2 \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" ob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key11\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\nob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key1\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'1'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" n1\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" n2 \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" ob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'1'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key11\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'11'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" n1\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" n2 \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" ob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'2'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\")))),mdx(\"p\",{parentName:\"li\"},\"\\u7ED3\\u679C\"),mdx(\"p\",{parentName:\"li\"},mdx(\"img\",_extends({parentName:\"p\"},{\"src\":\"http://qiniu.ii6g.com/1590472850.png?imageMogr2/thumbnail/!100p\",\"alt\":null}))),mdx(\"p\",{parentName:\"li\"},\"Get \\u6E90\\u7801\\uFF1A\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// key -> 'key11'\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"target\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" wrap\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  target \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toRaw\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8FD9\\u91CC\\u4F1A\\u5BF9 key \\u6709\\u4E2A toRaw \\u64CD\\u4F5C\\uFF0C\\u5C31\\u662F\\u9488\\u5BF9 key \\u662F proxy \\u7684\\u53EF\\u80FD\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6700\\u540E key11 \\u4F20\\u8FDB\\u6765\\u5B9E\\u9645 rawKey = key1\\uFF0C\\u5E76\\u4E14\\u89E6\\u53D1 track \\u7684\\u65F6\\u5019\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// rawKey \\u662F\\u5FC5\\u5B9A\\u4F1A\\u89E6\\u53D1\\u7684\\uFF0C\\u8FD9\\u4FDD\\u8BC1\\u4E86 key \\u975E proxy \\u65F6\\u7684\\u80FD\\u6B63\\u5E38\\u6536\\u96C6\\u4F9D\\u8D56\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u800C key !== rawKey -> trigger: get-key \\u5C31\\u662F\\u9488\\u5BF9 proxy key11 \\u7684\\u60C5\\u51B5\\u4E5F\\u4F1A\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u89E6\\u53D1 track:get \\u6536\\u96C6\\u4F9D\\u8D56\\uFF0C\\u56E0\\u4E3A proxy key11 \\u80AF\\u5B9A\\u662F\\u4E0D\\u4F1A\\u7B49\\u4E8E key1 \\u7684\\u3002\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6240\\u4EE5 key1, key11 \\u5728 map.get(key1) \\u6216 map.get(key11) \\u7684\\u65F6\\u5019\\u90FD\\u80FD\\u6B63\\u5E38\\u6536\\u96C6\\u5230\\u4F9D\\u8D56\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" rawKey \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toRaw\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!==\"),\" rawKey\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"track\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'get'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"track\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'get'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" rawKey\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ...\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",{parentName:\"li\"},\"\\u7136\\u540E\\u5728 set \\u7684\\u65F6\\u5019\\uFF1A\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"key\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" value\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ...\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8FD9\\u4E00\\u6BB5\\u64CD\\u4F5C\\u5C31\\u662F\\u4E3A\\u4E86\\u786E\\u4FDD\\uFF0Ckey1 \\u548C proxy key11 \\u90FD\\u80FD\\u6B63\\u786E\\u53D6\\u5230\\u4F9D\\u8D56\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6240\\u4EE5\\u8BF4 get \\u91CC\\u9762\\u7684 rawKey \\u548C key \\u7684\\u64CD\\u4F5C\\u548C\\u8FD9\\u91CC\\u7684 toRaw \\u64CD\\u4F5C\\u662F\\u76F8\\u5BF9\\u5E94\\u7684\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5982\\u679C\\u6CA1\\u6709 get \\u91CC\\u7684 rawKey-key \\u64CD\\u4F5C\\uFF0C\\u8FD9\\u91CC\\u5982\\u679C\\u4F20\\u5165 proxy key11 \\u5C31\\u4E0D\\u4F1A\\u6709\\u4F9D\\u8D56\\u89E6\\u53D1\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u56E0\\u4E3A get \\u91CC\\u9762\\u6839\\u672C\\u4E0D\\u4F1A\\u89E6\\u53D1 track:get\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5982\\u679C set \\u8FD9\\u91CC\\u4E0D\\u52A0\\u8FD9\\u4E00\\u6BB5\\u5904\\u7406\\uFF0C\\u5C31\\u7B97 get-track:get \\u4E86\\uFF0C\\u8FD9\\u91CC\\u4E5F\\u4F1A\\u627E\\u4E0D\\u5230 proxy key11 \\u5BFC\\u81F4\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4F1A\\u89E6\\u53D1\\u975E\\u6B63\\u5E38\\u7684 trigger:add \\u64CD\\u4F5C\\u3002\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" hadKey \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"has\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"call\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"hadKey\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    key \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toRaw\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    hadKey \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"has\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"call\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"else\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"__DEV__\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// TODO\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\t\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ...\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))))),mdx(\"ol\",{\"start\":5},mdx(\"li\",{parentName:\"ol\"},mdx(\"span\",{id:\"question-key1-key11\"},\"\\u4E3A\\u4EC0\\u4E48 key1 \\u548C toReactive(key1) \\u540E\\u7684 key11 \\u524D\\u540E set \\u4F1A\\u6539\\u53D8 key1 \\u5BF9\\u5E94\\u7684\\u503C\\uFF1F\\uFF1F\\uFF1F\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" key1 \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" key2 \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" ob \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Map\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\nob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key1\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'1'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8FD9\\u91CC key1 \\u88AB\\u8F6C\\u6210\\u4E86 Proxy\\uFF0C\\u5728 createIterableMethod \\u91CC\\u9762\\u505A\\u7684\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8FD4\\u56DE iterable \\u7684 next() \\u91CC\\u9762\\u7684\\u884C\\u4E3A\\uFF0C\\u4F1A\\u628A\\u6240\\u6709 value \\u90FD\\u53D8\\u6210 wrap(value)\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// reactive \\u7684\\uFF0C\\u4E0B\\u9762\\u7684 key11 \\u5176\\u5B9E\\u5C31\\u662F key1 \\u7ECF\\u8FC7 reactive \\u4E4B\\u540E\\u7684 proxy\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" key11 \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" ob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"keys\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"next\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u9A8C\\u8BC1 key11 \\u4E0E key1 \\u5173\\u7CFB\\u7684\\u731C\\u6D4B\\uFF1A\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// console.log(key11, key1, toRaw(key11) === key1) // code1\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u9A8C\\u8BC1 key11 \\u4E0E key1 \\u5173\\u7CFB\\u7684\\u731C\\u6D4B\\uFF1A\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toRaw\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key11\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" key1\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" ob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'1'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u7136\\u540E\\u6211\\u4EEC\\u5C06 key11 \\u4F5C\\u4E3A key \\u8BBE\\u7F6E\\u7ED9 ob\"),\"\\nob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key11\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'11'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toRaw\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key11\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" key1\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" ob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'11'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\")))),mdx(\"p\",{parentName:\"li\"},\"\\u76F4\\u63A5\\u770B\\u7ED3\\u679C\\u56FE\\uFF1A\"))),mdx(\"p\",null,\"   \",mdx(\"img\",_extends({parentName:\"p\"},{\"src\":\"http://qiniu.ii6g.com/1590465056.png?imageMogr2/thumbnail/!100p\",\"alt\":null}))),mdx(\"p\",null,\"   \\u628A code1 \\u6CE8\\u91CA\\u6389\\uFF0C\\u52A0\\u4E0A\\u4E0B\\u9762\\u7684\\u4EE3\\u7801\\uFF0C\\u770B\\u4E0B\\u7ED3\\u679C:\"),mdx(\"p\",null,\"   \",mdx(\"img\",_extends({parentName:\"p\"},{\"src\":\"http://qiniu.ii6g.com/1590465566.png?imageMogr2/thumbnail/!100p\",\"alt\":null}))),mdx(\"p\",null,\"   \\u4FEE\\u6B63\\uFF1A\\u201C\\u547D\\u540D\\u201D -> \\u201C\\u660E\\u660E\\u201D\\u3002\"),mdx(\"p\",null,\"   \\u4E5F\\u5C31\\u662F\\u8BF4\\u6211\\u4EEC\\u901A\\u8FC7\\u8BBE\\u7F6E key1 \\u7684 proxy \\u7248\\u672C key11 \\u5374\\u80FD\\u8BA9 key1 \\u7684\\u503C\\u53D1\\u751F\\u53D8\\u5316\\u3002\\u90A3\\u5F97\\u5206\\u6790\\u5206\\u6790\\u8FD9\\u662F\\u4E3A\\u4EC0\\u4E48\\u4E86\\uFF1F\\uFF1F\\uFF1F\\u539F\\u56E0\\u5176\\u5B9E\\u5F88\\u7B80\\u5355\\uFF0C\\u8BF7\\u770B \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"set(key, value)\"),\" \\u6E90\\u7801\\uFF1A\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// key -> key11, value -> '11'\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"key\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" value\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ...\"),\"\\n  \\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u9996\\u5148\\u662F\\u68C0\\u6D4B\\u6709\\u6CA1\\u6709 key11\\uFF0C\\u54A6\\uFF0C\\u53D1\\u73B0\\u6CA1\\u6709\\u8BF6\\uFF0C\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u90A3\\u6709\\u6CA1\\u53EF\\u80FD\\u5B83\\u662F\\u4E2A proxy ???\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" hadKey \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"has\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"call\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"hadKey\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u597D\\u5427\\uFF0C\\u90A3\\u5C31\\u8FD8\\u539F\\u4E0B\\u5427\\uFF0C\\u53D6\\u51FA proxy \\u4E4B\\u524D\\u7684\\u90A3\\u4E2A target\"),\"\\n    key \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toRaw\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8FD4\\u73B0 key11 \\u4F60\\u4E0D\\u5C31\\u662F key1 \\u8F6C\\u8FC7\\u6765\\u7684\\u5417\\uFF1F\\uFF1F\\uFF1F\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// key1 \\u6211\\u6709\\u554A \\uFF0C\\u6240\\u4EE5\\u8FD9\\u91CC\\u7684 hadKey \\u5C31\\u6210\\u4E86 true\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// key \\u5C31\\u6210\\u4E86 key1\"),\"\\n    hadKey \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"has\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"call\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"target\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"else\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"__DEV__\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// TODO\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u56E0\\u6B64\\u4E0B\\u9762\\u5176\\u5B9E\\u5C31\\u662F\\u901A\\u8FC7 proxy:key11 \\u7684\\u539F\\u7248 key1 \\u53BB\\u89E6\\u53D1 trigger: set\"),\"\\n\\t\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ...\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",null,\"   \\u66F4\\u76F4\\u89C2\\u70B9\\u7684\\u6D4B\\u8BD5\\uFF1A\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" key1 \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" key11 \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key1\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" ob \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"new\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Map\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\nob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key1\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'1'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u9A8C\\u8BC1 key11 \\u4E0E key1 \\u5173\\u7CFB\\u7684\\u731C\\u6D4B\\uFF1A\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toRaw\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key11\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" key1\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" ob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'1'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u7136\\u540E\\u6211\\u4EEC\\u5C06 key11 \\u4F5C\\u4E3A key \\u8BBE\\u7F6E\\u7ED9 ob\"),\"\\nob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key11\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'11'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toRaw\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"key11\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" key1\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" ob\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'11'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\")))),mdx(\"h1\",{\"id\":\"refts\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h1\"},{\"href\":\"#refts\",\"aria-label\":\"refts permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"ref.ts\"),mdx(\"p\",null,\"\\u524D\\u9762\\u5DF2\\u7ECF\\u5B8C\\u6210\\u4E86 reactive \\u6A21\\u5757\\u5927\\u90E8\\u5206\\u4E14\\u6700\\u57FA\\u672C\\u7684\\u529F\\u80FD\\u4E86\\uFF0C\\u8FD9\\u8282\\u5C06\\u5B8C\\u6210\\u5269\\u4F59\\u4E24\\u5927\\u5757computed \\u548C ref \\u5176\\u4E2D\\u7684 ref.ts\\uFF0C\"),mdx(\"p\",null,\"\\u6765\\u63ED\\u9732\\u5176\\u771F\\u5B9E\\u7684\\u9762\\u76EE\\u3002\"),mdx(\"p\",null,\"Ref \\u7C7B\\u578B\\u5B9A\\u4E49(\",mdx(\"a\",_extends({parentName:\"p\"},{\"href\":\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-7.html#unique-symbol\"}),\"unique symbol \\u7C7B\\u578B\\u5B9A\\u4E49\"),\")\\uFF1A\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"ts\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-ts\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-ts\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"declare\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" RefSymbol\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" unique \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token builtin\"}),\"symbol\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// Ref \\u7C7B\\u578B\\u4E3B\\u8981\\u6709\\u4E24\\u4E2A\\u5C5E\\u6027\\uFF0C\\u4E00\\u4E2A \\u503C\\u4E3A true \\u7684\\u552F\\u4E00\\u7684\\u7B26\\u53F7\\u5C5E\\u6027\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4E00\\u4E2A\\u662F value \\u503C\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"export\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"interface\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token class-name\"}),\"Ref\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"<\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token constant\"}),\"T\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token builtin\"}),\"any\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\">\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),\"RefSymbol\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),\"\\n  value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token constant\"}),\"T\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"h2\",{\"id\":\"内容列表\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#%E5%86%85%E5%AE%B9%E5%88%97%E8%A1%A8\",\"aria-label\":\"内容列表 permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"\\u5185\\u5BB9\\u5217\\u8868\"),mdx(\"table\",null,mdx(\"thead\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"thead\"},mdx(\"th\",_extends({parentName:\"tr\"},{\"align\":null}),\"\\u53D8\\u91CF/\\u51FD\\u6570\"),mdx(\"th\",_extends({parentName:\"tr\"},{\"align\":null}),\"\\u63CF\\u8FF0\"))),mdx(\"tbody\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"convert(val)\")),mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),\"\\u5C06\\u5BF9\\u8C61\\u8F6C\\u6210 reactive\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"isRef(r)\")),mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),\"\\u5224\\u65AD\\u662F\\u4E0D\\u662F Ref \\u7C7B\\u578B\\uFF0C\\u4F9D\\u636E\\u662F r.__v_isRef \\u6807\\u8BC6\\u7684\\u503C\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"ref(value)\")),mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),\"\\u521B\\u5EFA Ref \\u7C7B\\u578B\\uFF0C\\u8C03\\u7528 \",mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"createRef(value)\"))),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"shallowRef(value)\")),mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),\"\\u521B\\u5EFA Ref \\u7C7B\\u578B\\uFF0C\\u8C03\\u7528 \",mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"createRef(value, true)\"))),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"createRef(rawValue, shallow)\")),mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),\"\\u521B\\u5EFA Ref \\u7C7B\\u578B\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"triggerRef(ref: Ref)\")),mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),\"trigger Ref \\u7684 value \\u503C\\u53D8\\u66F4 deps\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"unref(ref)\")),mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),\"\\u53D6\\u6D88 Ref\\uFF0C\\u5373\\u8FD4\\u56DE ref.value \\u539F\\u59CB\\u503C\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"customRef(factory)\")),mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),\"\\u7531\\u521B\\u5EFA\\u8005\\u53BB\\u5B9A\\u4E49 get, set \\u5E94\\u8BE5\\u505A\\u54EA\\u4E9B\\u4E8B\\u60C5\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"toRefs(object)\")),mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),\"\\u5C06\\u5BF9\\u8C61\\u7684\\u6240\\u6709 key \\u7684\\u503C\\u8F6C\\u6210 Ref\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),mdx(\"code\",_extends({parentName:\"td\"},{\"className\":\"language-text\"}),\"toRef(object, key)\")),mdx(\"td\",_extends({parentName:\"tr\"},{\"align\":null}),\"\\u88AB toRefs \\u8C03\\u7528\")))),mdx(\"p\",null,\"\\u5B8C\\u6574\\u7684 ref.js(\\u9664\\u4E86\\u7C7B\\u578B\\u5B9A\\u4E49\\uFF0C\\u4E0D\\u5230100\\u884C\\uFF0C\\uD83D\\uDC02\\uD83D\\uDC43)\"),mdx(\"h2\",{\"id\":\"源码\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#%E6%BA%90%E7%A0%81\",\"aria-label\":\"源码 permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"\\u6E90\\u7801\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"import\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" isObject\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" hasChanged \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"from\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'../util.js'\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"import\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" reactive\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" isProxy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" toRaw\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" collectionTypes \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"from\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'./reactive.js'\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"import\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" track\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" trigger\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" __DEV__ \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"from\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'./effect.js'\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"export\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function-variable function\"}),\"convert\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"val\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"isObject\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"val\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"val\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" val\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"export\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"ref\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"value\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createRef\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"export\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"shallowRef\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"value\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createRef\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// get track, set trigger\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"export\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"createRef\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"rawValue\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" shallow \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token boolean\"}),\"false\")),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"isRef\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"rawValue\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" rawValue\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" value \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" shallow \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" rawValue \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"convert\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"rawValue\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" r \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    __v_isRef\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"value\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"track\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"r\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'get'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'value'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" value\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"set\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"value\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"newVal\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"hasChanged\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toRaw\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"newVal\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" rawValue\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n        rawValue \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" newVal\\n        value \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" shallow \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" newVal \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"convert\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"newVal\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"trigger\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"r\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'set'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'value'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" __DEV__ \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" newValue\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" newVal \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"void\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" r\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u624B\\u52A8\\u89E6\\u53D1 ref: set\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"export\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"triggerRef\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"ref\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"trigger\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"ref\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'set'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'value'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" __DEV__ \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" newValue\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" ref\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"void\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"export\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"isRef\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"r\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" r \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" r\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"__v_isRef \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"false\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"export\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"unref\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"ref\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"isRef\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"ref\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" ref\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" ref\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"export\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"customRef\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"factory\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"set\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"factory\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"track\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"r\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'get'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'value'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"trigger\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"r\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'set'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'value'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" r \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    __v_isRef\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"value\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"set\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"value\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"v\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"v\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"export\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toRefs\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"object\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" ret \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"for\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" key \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"in\"),\" object\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    ret\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),\"key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toRef\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"object\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" ret\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"export\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toRef\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"object\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" key\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    __v_isRef\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"value\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" object\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),\"key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"set\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"value\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"newVal\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      object\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),\"key\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" newVal\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\"))),mdx(\"p\",null,\"\\u7ED9\\u4E4B\\u524D\\u7684\\u4EE3\\u7801\\u52A0\\u4E0A ref \\u529F\\u80FD\\uFF1A\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"baseHandlers.js\")),mdx(\"h2\",{\"id\":\"测试\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#%E6%B5%8B%E8%AF%95\",\"aria-label\":\"测试 permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"\\u6D4B\\u8BD5\"),mdx(\"h3\",{\"id\":\"refvalue\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h3\"},{\"href\":\"#refvalue\",\"aria-label\":\"refvalue permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"ref(value)\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5C06 100 \\u53D8\\u6210 reactive \\u7684 r -> { __v_isRef: true, get value() {}, set value() {} }\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" r \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"ref\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"100\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" dummy\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" r\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"targetMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"r\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'deps'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\")))),mdx(\"p\",null,\"\\u8F93\\u51FA\\uFF1A\"),mdx(\"p\",null,mdx(\"img\",_extends({parentName:\"p\"},{\"src\":\"http://qiniu.ii6g.com/1590477277.png?imageMogr2/thumbnail/!100p\",\"alt\":null}))),mdx(\"p\",null,\"effect \\u91CC\\u9762\\u4F7F\\u7528\\u5230\\u4E86 r.value \\u89E6\\u53D1 get value() \\u8BBF\\u95EE\\u5668\\uFF0C\\u91CC\\u9762\\u4F7F\\u7528 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"track(r, 'get', 'value', void 0)\"),\" \\u6536\\u96C6\\u4F9D\\u8D56\\uFF0C\\u6240\\u4EE5\\u4ECE  \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"targetMap.get(r)\"),\" \\u53EF\\u4EE5\\u53D6\\u5230 \\u2018value\\u2019 => Set(1) \\u8FD9\\u4E2A Dep\\u3002\"),mdx(\"p\",null,\"\\u66F4\\u65B0 ref \\u503C\\uFF1A\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" r \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"ref\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"100\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" dummy\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" r\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'1'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nr\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"200\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'2'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\")))),mdx(\"p\",null,\"\\u7ED3\\u679C:\"),mdx(\"blockquote\",null,mdx(\"p\",{parentName:\"blockquote\"},\"{dummy: 100} \\u201C1\\u201D\\n{dummy: 200} \\u201C2\\u201D\")),mdx(\"p\",null,\"\\u6240\\u4EE5\\u8BF4\\uFF0CRef \\u7684\\u5B58\\u5728\\u5C31\\u662F\\u8BA9\\u666E\\u901A\\u7C7B\\u578B\\u7684\\u503C\\u4E5F\\u80FD reactive\\u3002\"),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"\\u5E94\\u7528\\u5230\\u5BF9\\u8C61\\u4E0A\")),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" r \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"ref\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" nested\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" num\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"r\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" dummy\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" r\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"nested\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"num\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'1'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nr\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"nested\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"num \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"100\")))),mdx(\"p\",null,\"\\u7ED3\\u679C\\uFF1A\"),mdx(\"blockquote\",null,mdx(\"p\",{parentName:\"blockquote\"},\"{__v_isRef: true}\\nMap(1) {\\u201Cvalue\\u201D => Set(1)}\\n{dummy: 0} \\u201C1\\u201D\\n{dummy: 100} \\u201C2\\u201D\")),mdx(\"h3\",{\"id\":\"shallowrefvalue\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h3\"},{\"href\":\"#shallowrefvalue\",\"aria-label\":\"shallowrefvalue permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"shallowRef(value)\"),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"shallowRef\"),\"  \\u5C31\\u662F\\u9488\\u5BF9\\u5BF9\\u8C61\\u7C7B\\u578B\\u4F7F\\u7528 Ref \\u7684\\u65F6\\u5019\\u662F\\u5426\\u9700\\u8981\\u5BF9\\u5BF9\\u8C61\\u91CC\\u9762\\u7684\\u5D4C\\u5957\\u5BF9\\u8C61\\u8FDB\\u884C reactive \\u5316\\u3002\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" r \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"shallowRef\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" nested\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" num\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"r\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" dummy\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" r\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"nested\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"num\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'1'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nr\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"nested\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"num \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"100\")))),mdx(\"p\",null,\"\\u7ED3\\u679C\\uFF1A\"),mdx(\"p\",null,mdx(\"img\",_extends({parentName:\"p\"},{\"src\":\"http://qiniu.ii6g.com/1590477847.png?imageMogr2/thumbnail/!100p\",\"alt\":null}))),mdx(\"p\",null,\"\\u5BF9\\u8C61\\u6700\\u7EC8\\u4F1A\\u88AB\\u6574\\u4E2A\\u6210\\u4E3A value\\uFF0C\\u56E0\\u4E3A\\u662F\\u7528\\u7684 shallowRef\\uFF0C\\u6240\\u4EE5\\u6539\\u53D8 r.value.nested.num \\u7684\\u503C\\u662F\\u4E0D\\u4F1A\\u89E6\\u53D1 dummy \\u66F4\\u65B0\\u7684\\u3002\"),mdx(\"p\",null,\"\\u5176\\u4ED6\\u7528\\u6CD5\\u76F4\\u63A5\\u770B\\u4E0B\\u9762\\u7684\\u6D4B\\u8BD5\\u7528\\u4F8B\\u89E3\\u6790\\u5427\\uFF01\\uFF01\\uFF01\"),mdx(\"h2\",{\"id\":\"jest-2\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#jest-2\",\"aria-label\":\"jest 2 permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"jest\"),mdx(\"p\",null,\"\\u7ED3\\u679C:\"),mdx(\"blockquote\",null,mdx(\"p\",{parentName:\"blockquote\"},\"\\u2601  vue-next-code-read \",\"[master]\",\" \\u26A1  jest\\nPASS  packages/\",mdx(\"strong\",{parentName:\"p\"},\"tests\"),\"/reactive/reactive.spec.js\\nPASS  packages/\",mdx(\"strong\",{parentName:\"p\"},\"tests\"),\"/reactive/ref.spec.js\\nPASS  packages/\",mdx(\"strong\",{parentName:\"p\"},\"tests\"),\"/reactive/effect.spec.js\\nPASS  packages/\",mdx(\"strong\",{parentName:\"p\"},\"tests\"),\"/reactive/collection/WeakSet.spec.js\\nPASS  packages/\",mdx(\"strong\",{parentName:\"p\"},\"tests\"),\"/reactive/collection/Set.spec.js\\nPASS  packages/\",mdx(\"strong\",{parentName:\"p\"},\"tests\"),\"/reactive/collection/Map.spec.js\\nPASS  packages/\",mdx(\"strong\",{parentName:\"p\"},\"tests\"),\"/reactive/collection/WeakMap.spec.js\"),mdx(\"p\",{parentName:\"blockquote\"},\"Test Suites: 7 passed, 7 total\\nTests:       149 passed, 149 total\\nSnapshots:   0 total\\nTime:        5.94 s\\nRan all test suites.\\n\\u2601  vue-next-code-read \",\"[master]\",\" \\u26A1\")),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should hold a value (8 ms)\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"it\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'should hold a value'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" a \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"ref\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// a -> { get value() {}, set value(val) {}, __v_isRef: true }\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"a\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// true\"),\"\\n  a\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"2\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5728\\u6784\\u9020 set value(val) { trigger(r, 'set', 'value', void 0) }\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"a\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"2\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// true\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should be reactive (2 ms)\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"it\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'should be reactive'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" a \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"ref\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// { get value(), set value(), __v_isRef: true }\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" dummy\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" calls \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    calls\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"++\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// 1\"),\"\\n    dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" a\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// 1\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"calls\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// true\\uFF0Ceffect\\u4F1A\\u7ACB\\u5373\\u6267\\u884C\\u4E00\\u6B21\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// true\\uFF0C\\u540C\\u4E0A\"),\"\\n  a\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"2\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8D4B\\u503C\\u89E6\\u53D1 set value -> trigger: set\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"calls\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"2\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u56E0\\u4E3A\\u8D4B\\u503C trigger: set \\u89E6\\u53D1 updater\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"2\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// same value should not trigger\"),\"\\n  a\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"2\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u503C\\u6CA1\\u53D8\\uFF0C\\u88AB hasChanged() \\u963B\\u62E6\\uFF0C\\u4E0D trigger\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// if (hasChanged(toRaw(newVal), rawValue)) {\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"calls\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"2\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"2\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\")))),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should make nested properties reactive (2 ms)\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"it\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'should make nested properties reactive'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" a \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"ref\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    count\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" dummy\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// a.value \\u89E6\\u53D1\\u4E00\\u6B21 ref track\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// a.value.count \\u89E6\\u53D1\\u4E00\\u6B21\\u666E\\u901A\\u7684 reactive track\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6240\\u4EE5\\u8FD9\\u91CC\\u4F1A\\u6709\\u4E24\\u6B21 track\"),\"\\n    dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" a\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"count\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// true\"),\"\\n  a\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"count \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"2\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8FD9\\u91CC\\u4F9D\\u65E7\\u4F1A\\u89E6\\u53D1\\u4E24\\u6B21 get\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"2\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// true\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\"))),mdx(\"p\",{parentName:\"li\"},\"\\u6D4B\\u8BD5\\uFF1A\",mdx(\"img\",_extends({parentName:\"p\"},{\"src\":\"http://qiniu.ii6g.com/1590483209.png?imageMogr2/thumbnail/!100p\",\"alt\":null})))),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should work without initial value (1 ms)\"),mdx(\"p\",{parentName:\"li\"},\"createRef(undefined) \\u5E76\\u4E0D\\u5F71\\u54CD\\u5B83\\u7684\\u4F7F\\u7528\\uFF0C\\u53EA\\u4F1A\\u521D\\u59CB\\u503C\\u662F undefined\\u3002\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should work like a normal property when nested in a reactive object (2 ms)\"),mdx(\"span\",{id:\"reactive-nest-ref\"}),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"it\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'should work like a normal property when nested in a reactive object'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" a \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"ref\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8FD9\\u91CC ref \\u7C7B\\u578B\\u7684a \\u88AB\\u4F5C\\u4E3A\\u5BF9\\u8C61\\u6210\\u5458\\u4F20\\u9012\\u7ED9 reactive \\u4E4B\\u540E\\uFF0C\\u4F1A\\u88AB\\u8F6C\\u6210\\u6B63\\u5E38\\u7684\\u503C\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u56E0\\u4E3A baseHandlers.js \\u91CC\\u9762\\u7684 createGetter \\u7684\\u65F6\\u5019\\uFF0C\\u6709\\u68C0\\u6D4B isRef \\u662F\\u4E0D\\u662F Ref \\u7C7B\\u578B ?\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5982\\u679C\\u662F\\u4E14\\u975E\\u6570\\u7EC4\\u7684\\u8BDD\\u4F1A\\u76F4\\u63A5\\u8FD4\\u56DE res.value \\uFF0C\\u5176\\u5B9E\\u5C31\\u662F\\u88AB\\u666E\\u901A\\u5316\\u4E86(unref)\\u4E4B\\u540E\\u5C06\\u7ED3\\u679C\\u8FD4\\u56DE\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4E5F\\u5C31\\u662F\\u8BF4\\u5B83\\u53EA\\u5F71\\u54CD\\u5728 get \\u7684\\u65F6\\u5019\\u8FD4\\u56DE\\u7684\\u503C\\uFF0C\\u5B9E\\u9645\\u4E0A\\u5728\\u5D4C\\u5957\\u7684\\u5BF9\\u8C61\\u91CC\\u9762 a \\u8FD8\\u662F Ref: a \\u7C7B\\u578B\\u7684\\u90A3\\u4E2A a\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"/*\\n  \\tif (isRef(res)) {\\n      if (targetIsArray) {\\n        !isReadonly && track(target, 'get', key)\\n        return res\\n      }\\n      return res.value\\n    }\\n  */\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6240\\u6709\\u540E\\u9762\\u53EF\\u4EE5\\u76F4\\u63A5 obj.a++ \\u64CD\\u4F5C\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" obj \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    a\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n    b\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      c\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" a\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" dummy1\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" dummy2\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8FD9\\u4E2A\\u65F6\\u5019\\u7684 a \\u548C c \\u867D\\u7136\\u4E00\\u5F00\\u59CB\\u90FD\\u662F a\\uFF0C\\u4F46\\u662F\\u7531\\u4E8E\\u4F20\\u9012\\u7ED9 \"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// reactive \\u4E4B\\u540E\\u88AB\\u8FD8\\u539F\\u6210\\u6700\\u539F\\u59CB\\u7684\\u503C 1 \\u4E86\\uFF0C\\u6240\\u4EE5\\u8FD9\\u91CC dummy1,2 \\u90FD\\u662F 1\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u800C\\u975E\\u8868\\u9762\\u4E0A\\u7684 Ref(1)\"),\"\\n    dummy1 \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" obj\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"a \\n    dummy2 \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" obj\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"b\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"c\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function-variable function\"}),\"assertDummiesEqualTo\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"val\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),\"dummy1\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" dummy2\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"forEach\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"dummy\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"val\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6709\\u4E86\\u4E0A\\u9762\\u7684\\u7ED3\\u8BBA\\u4E0B\\u9762\\u7ED3\\u679C\\u5C31\\u5F88\\u660E\\u663E\\u4E86\\uFF0C\\u4E5F\\u5F88\\u597D\\u7406\\u89E3\\u4E86\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"assertDummiesEqualTo\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// true\\uFF0C\\u88AB\\u8FD8\\u539F\\u7684 Ref(1)\"),\"\\n  a\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"++\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ++ \\u4E4B\\u540E\\u6539\\u53D8\\u7684\\u662F Ref:a\\uFF0C\\u5F15\\u7528\\u7C7B\\u578B\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4F46\\u662F\\u8FD9\\u91CC\\u4E3A\\u4EC0\\u4E48\\u662F 2 \\u5462\\uFF1F\\uFF1F\\uFF1F\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u539F\\u56E0\\u5176\\u5B9E\\u5C31\\u662F\\u4E0A\\u9762 reactive \\u7684\\u65F6\\u5019 \\u53EA\\u662F\\u5728 trigger:get \\u7684\\u65F6\\u5019\\u8FD4\\u56DE\\u7684\\u662F ref.value\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5B9E\\u9645\\u4E0A\\u5E76\\u6CA1\\u6709\\u6539\\u53D8 Ref:a \\u81EA\\u8EAB\\uFF0C\\u53EA\\u662F\\u5F71\\u54CD\\u4E86 get \\u7684\\u8FD4\\u56DE\\u503C\\u800C\\u5DF2\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"assertDummiesEqualTo\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"2\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4F46\\u662F\\u8FD9\\u91CC obj.a++ <=> obj.a = obj.a + 1\"),\"\\n  obj\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"a\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"++\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"assertDummiesEqualTo\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"3\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  obj\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"b\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"c\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"++\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"assertDummiesEqualTo\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"4\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\"))),mdx(\"p\",{parentName:\"li\"},\"\\u770B\\u4E0B\\u6700\\u540E obj \\u53D8\\u6210\\u5565\\u4E86\\uFF1F\"),mdx(\"p\",{parentName:\"li\"},mdx(\"img\",_extends({parentName:\"p\"},{\"src\":\"http://qiniu.ii6g.com/1590485724.png?imageMogr2/thumbnail/!100p\",\"alt\":null}))),mdx(\"span\",{id:\"question-ref-++\"},\"\\u6700\\u540E\\u53EF\\u4EE5\\u770B\\u5230 Ref:a \\u5728 obj \\u91CC\\u9762\\u5C3D\\u7BA1\\u6267\\u884C\\u4E86 obj.a++ \\u548C obj.b.c++ \\u4F9D\\u65E7\\u8FD8\\u662F Ref: a\\uFF1F\\uFF1F\\uFF1F\\uFF1F\"))),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should unwrap nested ref in types (1 ms)\"),mdx(\"p\",{parentName:\"li\"},\"\\u5728 createRef \\u7B2C\\u4E00\\u884C\\u5C31\\u52A0\\u4E86\\u68C0\\u6D4B\\u662F\\u4E0D\\u662F Ref \\u5982\\u679C\\u662F\\u5C31\\u76F4\\u63A5\\u8FD4\\u56DE\\u4E86\\u3002\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should unwrap nested values in types (1 ms)\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"it\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'should unwrap nested values in types'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" a \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      b\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"ref\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8FD9\\u91CC\\u867D\\u7136\\u662F Ref\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" c \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"ref\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"a\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u53D1\\u751F\\u5D4C\\u5957\\u4E86\"),\"\\n\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4F46\\u662F\\u5728\\u8BBF\\u95EE\\u7684\\u65F6\\u5019\\uFF0C\\u8FD8\\u8BB0\\u5F97\\u4E4B\\u524D\\u90A3\\u4E2A\\u6D4B\\u8BD5\\u7528\\u4F8B\\u78B0\\u5230\\u7684\\u95EE\\u9898\\u5417\\uFF1F\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// createGetter \\u91CC\\u9762\\u8FD4\\u56DE Ref \\u4F1A\\u76F4\\u63A5 \\u8FD4\\u56DE ref.value\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6240\\u4EE5\\u8FD9\\u91CC\\u8BBF\\u95EE c.value.b \\u5176\\u5B9E\\u76F8\\u5F53\\u4E8E c.value.b.value \"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6240\\u4EE5 + 1 \\u7684\\u7ED3\\u679C\\u80AF\\u5B9A\\u662F number \\u7C7B\\u578B\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"typeof\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"c\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"b \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"+\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'number'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\"))))),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should NOT unwrap ref types nested inside arrays\"),mdx(\"p\",{parentName:\"li\"},\"\\u8FD9\\u4E2A\\u7528\\u4F8B\\u548C\\u4E0A\\u4E00\\u4E2A\\u662F\\u4E00\\u6837\\u7684\\u539F\\u7406\\uFF0C\\u6709\\u4E2A\\u4E0D\\u540C\\u7684\\u5730\\u65B9\\u662F\\uFF0Ctarget \\u662F\\u6570\\u7EC4\\uFF0CcreateGetter \\u4E0D\\u662F\\u8FD4\\u56DE res.value \\u4E86\\uFF0C\\u800C\\u662F\\u76F4\\u63A5\\u8FD4\\u56DE res\\uFF0C\\u56E0\\u4E3A\\u662F\\u6570\\u7EC4\\u7C7B\\u578B\\u4E14\\u53D6\\u7684\\u662F\\u6574\\u4E2A\\u6570\\u7EC4\\u5BF9\\u8C61\\u3002\"),mdx(\"p\",{parentName:\"li\"},\"\\u800C\\u540E\\u9762\\u901A\\u8FC7 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"arr[i]\"),\" \\u53D6\\u503C\\u5C31\\u548C\\u4E0A\\u4E00\\u4E2A\\u7528\\u4F8B\\u4E00\\u6837\\u4E86\\uFF0C\\u4E00\\u6837\\u4F1A\\u68C0\\u6D4B\\u5230\\u6570\\u7EC4\\u5143\\u7D20\\u5982\\u679C\\u662F Ref \\u7167\\u6837\\u4F1A\\u8FD4\\u56DE res.value\\uFF0C\\u6240\\u4EE5\\u5728\\u6570\\u7EC4\\u4E2D\\u4F7F\\u7528 Ref(val) \\u505A\\u6570\\u7EC4\\u6210\\u5458\\uFF0C\\u7136\\u540E ref \\u6570\\u7EC4\\u662F\\u6CA1\\u6709\\u95EE\\u9898\\u7684\\u3002\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should keep tuple types (6 ms)\"),mdx(\"p\",{parentName:\"li\"},\"\\u4E0D\\u7BA1\\u4F60\\u662F\\u4EC0\\u4E48\\u7C7B\\u578B\\u5143\\u7D20\\uFF0C\\u6570\\u7EC4\\u7C7B\\u578B\\u9996\\u5148\\u662F\\u6574\\u4E2A\\u6570\\u7EC4\\u8BBF\\u95EE\\u76F4\\u63A5\\u8FD4\\u56DE ref\\uFF0C\\u7136\\u540E\\u5982\\u679C\\u662F\\u6570\\u7EC4\\u5143\\u7D20\\u4F1A\\u68C0\\u6D4B\\u662F\\u4E0D\\u662F\\u5F15\\u7528\\u7C7B\\u578B\\uFF0C\\u5982\\u679C\\u662F\\u5C31 reactive \\uFF0C\\u4E0D\\u662F\\u76F4\\u63A5\\u8FD4\\u56DE\\u7ED3\\u679C\\u3002\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should keep symbols (4 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 unref\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 shallowRef (2 ms)\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"test\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'shallowRef'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" sref \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"shallowRef\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" a\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// shallow\\uFF0C\\u90A3\\u4E48\\u91CC\\u9762\\u7684 {a:1} \\u5BF9\\u8C61\\u662F\\u4E0D\\u4F1A\\u88AB reactive \\u7684\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"isReactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"sref\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"false\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6240\\u4EE5\\u8FD9\\u91CC\\u5C31\\u662F False\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" dummy\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8FD9\\u91CC\\u4F9D\\u7136\\u4F1A\\u7ACB\\u5373\\u6267\\u884C\\u4E00\\u6B21\\uFF0C\\u4E14\\u53EA\\u4F1A\\u89E6\\u53D1\\u4E00\\u6B21 track:get\\uFF0C\\u56E0\\u4E3A\\u6709 sref.value \\u53D6\\u503C\\u64CD\\u4F5C\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4F46\\u662F\\u7531\\u4E8E {a: 1} \\u5E76\\u4E0D\\u662F Reactive \\uFF0C\\u6240\\u4EE5\\u5BF9 a \\u7684\\u53D6\\u503C\\u662F\\u4E0D\\u4F1A\\u89E6\\u53D1 track:get \\u7684\"),\"\\n    dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" sref\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"a\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// true\"),\"\\n\\n  sref\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" a\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"2\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8FD9\\u91CC\\u91CD\\u65B0\\u8D4B\\u503C\\u6574\\u4E2A value\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"isReactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"sref\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"false\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u867D\\u7136\\u6539\\u53D8\\u4E86 value \\u4F46\\u7684\\u503C\\u4F9D\\u65E7\\u662F\\u666E\\u901A\\u5BF9\\u8C61\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"2\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u56E0\\u4E3A\\u6539\\u53D8\\u4E86 value\\uFF0C\\u800C sref \\u8FD8\\u662F ref \\u7C7B\\u578B\\uFF0C\\u4F1A\\u89E6\\u53D1 set value \"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\")))))),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 shallowRef force trigger (1 ms)\"),mdx(\"p\",{parentName:\"li\"},\"\\u624B\\u52A8\\u8C03\\u7528 triggerRef \\u89E6\\u53D1 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"trigger(r, 'set', 'value', void 0)\"),\" \\u6267\\u884C\\u4EE5\\u6765 deps\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 isRef (1 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 toRef (2 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 toRefs (1 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 customRef\"),\"\\u81EA\\u5B9A\\u4E49 Ref \\u529F\\u80FD\\u6700\\u4E3B\\u8981\\u7684\\u5C31\\u662F\\u5C06\\u63A7\\u5236\\u6743\\u4EA4\\u7ED9\\u4F7F\\u7528\\u8005\\uFF0C\\u6BD4\\u5982\\u4F55\\u65F6 track dep\\uFF0C\\u4F55\\u65F6 trigger dep \\u64CD\\u4F5C\\u3002\",mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"test\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'customRef'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" value \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" _trigger\\n\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" custom \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"customRef\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"track\",mdx(\"span\",_extends({parentName:\"span\"},{\"className\":\"token punctuation\"}),\",\"),\" trigger\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"track\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6839\\u636E\\u5B9E\\u9645\\u60C5\\u51B5\\u8C03\\u7528\\u6765\\u6536\\u96C6\\u4F9D\\u8D56\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" value\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"set\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"newValue\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n        value \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" newValue\\n        _trigger \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" trigger \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u53EF\\u7F13\\u5B58 trigger \\u4E0D\\u4E00\\u5B9A\\u8981\\u7ACB\\u5373\\u89E6\\u53D1 deps\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"isRef\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"custom\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// customRef \\u4F9D\\u65E7\\u8FD4\\u56DE\\u7684\\u662F Ref\"),\"\\n\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" dummy\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" custom\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n    custom\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"2\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// should not trigger yet\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"_trigger\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"2\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\"))))),mdx(\"p\",null,mdx(\"a\",_extends({parentName:\"p\"},{\"href\":\"https://github.com/gcclll/vue-next-code-read/tree/master/bakups/reactive_ref\"}),\"ref \\u7248 reactive.js\")),mdx(\"h1\",{\"id\":\"computedts\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h1\"},{\"href\":\"#computedts\",\"aria-label\":\"computedts permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"computed.ts\"),mdx(\"p\",null,\"\\u6700\\u540E\\u4E00\\u4E2A\\u4E86\\uFF0C\\u4E24\\u5468\\u7684\\u575A\\u6301\\u603B\\u7B97\\u5FEB\\u7ED3\\u675F\\u4E86\\u3002\"),mdx(\"p\",null,\"\\u8FD9\\u5757\\u7684\\u5B9E\\u73B0\\u5C31\\u66F4\\u7B80\\u5355\\u4E86\\uFF0C\\u5C31\\u4E00\\u4E2A computed() \\u51FD\\u6570\\uFF0C\\u7ED3\\u5408 effect() + ref \\u6765\\u5B9E\\u73B0\\u3002\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"export\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"function\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"computed\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"getterOrOptions\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" getter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" setter\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"typeof\"),\" getterOrOptions \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'function'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    getter \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" getterOrOptions\\n    setter \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" __DEV__ \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" console\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"warn\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'\\u8BA1\\u7B97\\u5C5E\\u6027\\u53EA\\u8BFB\\u3002'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" noop\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"else\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    getter \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" getterOrOptions\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"get\\n    setter \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" getterOrOptions\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"set\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" dirty \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u810F\\u4F4D\\u68C0\\u67E5\\uFF0C\\u4E3A true \\u8868\\u793A\\u503C\\u6709\\u53D8\\u5316\\uFF0C\\u91CD\\u65B0\\u53D6\\u503C\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" value\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" computed \\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// runner \\u4E0D\\u4F1A\\u7ACB\\u5373\\u6267\\u884C\\uFF0C\\u76F4\\u5230\\u8BA1\\u7B97\\u5C5E\\u6027\\u53D6\\u503C\\u5728 get value \\u4E2D\\u624B\\u52A8\\u8C03\\u7528\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6765\\u89E6\\u53D1\\u6240\\u6709\\u6709\\u5173\\u7684\\u4F9D\\u8D56\\uFF0C\\u91CD\\u65B0\\u8BA1\\u7B97\\u5F97\\u5230\\u6700\\u65B0\\u7684\\u503C value\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" runner \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"getter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    lazy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n    computed\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u7136\\u540E\\u8FD9\\u91CC\\u63D0\\u4F9B\\u8C03\\u5EA6\\u5668\\uFF0C\\u4E0D\\u76F4\\u63A5\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function-variable function\"}),\"scheduler\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"dirty\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n        dirty \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),\"\\n        \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"trigger\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"computed\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'set'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'value'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n  computed \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    __v_isRef\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"true\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n    effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" runner\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"value\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u53D6\\u503C\\u65F6\\uFF0C\\u68C0\\u6D4B dirty \\uFF0C\\u5982\\u679C\\u810F\\u4E86(\\u6709\\u53D8)\\uFF0C\\u5C31\\u91CD\\u65B0 runner \\u53D6\\u503C\\uFF0C\\u8FD0\\u884C\\u6240\\u6709 deps\\uFF0C\\u5F97\\u5230\\u6700\\u65B0\\u7684\\u503C\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dirty\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" \\n        value \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"runner\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n        dirty \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"false\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u91CD\\u65B0\\u8BA1\\u7B97\\u540E\\u7684\\u91CD\\u7F6E \"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"track\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"computed\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'get'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'value'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6536\\u96C6\\u4F9D\\u8D56\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" value\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"set\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"value\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token parameter\"}),\"newValue\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"setter\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"newValue\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" computed\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"h2\",{\"id\":\"测试一：依赖收集\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#%E6%B5%8B%E8%AF%95%E4%B8%80%EF%BC%9A%E4%BE%9D%E8%B5%96%E6%94%B6%E9%9B%86\",\"aria-label\":\"测试一：依赖收集 permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"\\u6D4B\\u8BD5\\u4E00\\uFF1A\\u4F9D\\u8D56\\u6536\\u96C6\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" value \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" cValue \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"computed\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"foo\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\ncValue\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"\\n  cValue\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"deps\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"values\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"next\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" cValue\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  value\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// true Proxy {__v_reactive: Proxy}\")))),mdx(\"p\",null,\"\\u5F53 cValue.value \\u6267\\u884C\\u5BF9 Ref \\u8FDB\\u884C\\u53D6\\u503C(get value())\\u89E6\\u53D1\\uFF0C\\u6267\\u884C\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),\"computed \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ...\"),\"\\n  effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" runner\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"value\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dirty\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u68C0\\u6D4B\\u5230 dirty = true\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6267\\u884C effect -> \\u6267\\u884C getter: () => value.foo\"),\"\\n      \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8BA1\\u7B97\\u65B0\\u503C undefined \\u8D4B\\u503C\\u7ED9 value\"),\"\\n      value \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"runner\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \\n      dirty \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"false\"),\" \\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"track\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"computed\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'get'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'value'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u89E6\\u53D1\"),\"\\n\\t\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ...\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",null,mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"cValue.value\"),\" \\u9996\\u5148\\u8FD9\\u4E00\\u53E5\\u4F1A\\u89E6\\u53D1\\u4E24\\u4E2A \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"track\")),mdx(\"blockquote\",null,mdx(\"p\",{parentName:\"blockquote\"},\"{shouldTrack: true, type: \\u201Cget\\u201D, key: \\u201Cfoo\\u201D, target: {\\u2026}, activeEffect: \\u0192}\\n{shouldTrack: true, activeEffect: undefined, type: \\u201Cget\\u201D, key: \\u201Cvalue\\u201D, target: {\\u2026}}\")),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"get value()\"),\" \\u91CC\\u9762\\u6267\\u884C\\u4E86 runner() -> value.foo \\u53D6\\u4E86\\u4E00\\u6B21 foo \\uFF0C\\u6240\\u4EE5 \",mdx(\"em\",{parentName:\"li\"},\"type: get, key: foo\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"get value()\"),\" \\u91CC\\u624B\\u52A8\\u6267\\u884C\\u4E86\\u4E00\\u6B21 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"track(computed, 'get', 'value')\"),\"\\uFF0C\\u4F46\\u662F\\u7531\\u4E8E activeEffect \\u662F undefined \\u6240\\u4EE5\\u4E0D\\u4F1A\\u7EE7\\u7EED\\u5F80\\u4E0B\\u6267\\u884C\")),mdx(\"p\",null,\"\\u56E0\\u6B64\\uFF0C\\u867D\\u7136\\u8C03\\u7528\\u4E86\\u4E24\\u6B21 track \\uFF0C\\u4F46\\u53EA\\u6709 value.foo \\u7684 track \\u4F1A\\u53BB\\u5F80\\u4E0B\\u6536\\u96C6 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"effect:runner\"),\" \\u8FD9\\u4E2A\\u4F9D\\u8D56\\u3002\\u6240\\u4EE5\\uFF1A\"),mdx(\"p\",null,mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"cValue.effect.deps[0].values().next().value === cValue.effect // --> true\"),\" \"),mdx(\"p\",null,\"\\u968F\\u540E\\uFF0C \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"value.foo = 1\"),\" \\u4F1A\\u89E6\\u53D1\\u4E0A\\u9762\\u6536\\u96C6\\u5230\\u7684\\u4F9D\\u8D56\\uFF0C\\u6267\\u884C\\u4E00\\u6B21 runner() \\u53D6 value.foo \\u7684\\u6700\\u65B0\\u503C\\uFF1A 1\\u3002\"),mdx(\"p\",null,mdx(\"img\",_extends({parentName:\"p\"},{\"src\":\"http://qiniu.ii6g.com/1590548272.png?imageMogr2/thumbnail/!100p\",\"alt\":null}))),mdx(\"p\",null,\"\\u6CE8\\u610F\\u56FE\\u4E2D\\u5708\\u8D77\\u6765\\u7684\\uFF0C\\u5176\\u5B9E\\u6211\\u60F3\\u77E5\\u9053\\u5728\\u8C03\\u7528 value.foo = 1 \\u4E4B\\u540E cValue.value \\u7684\\u503C\\u4F1A\\u4E0D\\u4F1A\\u53D1\\u751F\\u6539\\u53D8\\uFF0C\\u6309\\u7167\\u4EE3\\u7801\\u903B\\u8F91\\u662F\\u4E0D\\u4F1A\\u6539\\u53D8\\u7684\\uFF0C\\u4E5F\\u5C31\\u8FD8\\u662F undefined\\u3002\\u4F46\\u662F\\u76F4\\u63A5\\u70B9\\u51FB \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"...\"),\" \\u6D4F\\u89C8\\u5668\\u4F1A\\u76F8\\u5F53\\u4E8E\\u89E6\\u53D1\\u4E00\\u6B21 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"getter\"),\" \\u64CD\\u4F5C\\uFF0C\\u6700\\u540E\\u7ED3\\u679C\\u4F1A\\u662F 1\\uFF0C\\u4F46\\u662F\\u8FD9\\u4E0D\\u662F\\u6211\\u4EEC\\u60F3\\u8981\\u7684\\uFF0C\\u4E0D\\u80FD\\u8BA9\\u5B83\\u89E6\\u53D1\\u3002\"),mdx(\"p\",null,\"\\u90A3\\u4E48\\u5C31\\u5F97\\u60F3\\u529E\\u6CD5\\u5728\\u5B83\\u89E6\\u53D1\\u4E4B\\u524D\\u5C06\\u8001\\u7684\\u503C\\u8F93\\u51FA\\u51FA\\u6765\\u624D\\u884C\\uFF0C\\u7ED3\\u5408\\u4EE3\\u7801\\u53EA\\u6709\\u5728 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"get value()\"),\" \\u4E00\\u5F00\\u59CB\\u52A0\\u4E0A\\u6253\\u5370\\u624D\\u884C\\uFF0C\\u5982\\u4E0B\\uFF1A\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),\"computed \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// ...\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"get\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"value\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u56E0\\u4E3A\\u70B9\\u51FB\\u7701\\u7565\\u53F7\\u4F1A\\u89E6\\u53D1 getter \\uFF0C\\u4F1A\\u8FDB\\u5165\\u5230\\u8FD9\\u91CC\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6240\\u4EE5\\u53EA\\u9700\\u8981\\u63D0\\u524D\\u5C06\\u503C\\u6253\\u5370\\u51FA\\u6765\\u5C31\\u77E5\\u9053\\u5728 value.foo \\u8BBE\\u7F6E\\u4E0B\\u53BB\\u4E4B\\u540E\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// cValue.value \\u5176\\u5B9E\\u662F\\u6CA1\\u6709\\u53D1\\u751F\\u4EFB\\u4F55\\u6539\\u53D8\\u7684\\uFF0C\\u4F9D\\u65E7\\u8FD8\\u662F undefined\"),\"\\n    console\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" value \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'before runner'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dirty\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n      value \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"runner\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n      dirty \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token boolean\"}),\"false\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"track\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"computed\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'get'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'value'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n    \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" value\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",null,mdx(\"img\",_extends({parentName:\"p\"},{\"src\":\"http://qiniu.ii6g.com/1590548546.png?imageMogr2/thumbnail/!100p\",\"alt\":null}))),mdx(\"p\",null,\"\\u7136\\u540E\\u4FEE\\u6539\\u4E0B\\u8F93\\u51FA\\uFF1A \"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" value \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" cValue \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"computed\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"foo\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"cValue\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'1'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// undefined\\uFF0C\\u89E6\\u53D1 runner() \\u6267\\u884C () => value.foo\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u5728\\u8FD9\\u91CC\\u5E76\\u4E0D\\u4F1A\\u7ACB\\u5373\\u89E6\\u53D1 runner() \\u8C03\\u7528 () => value.foo \\u66F4\\u65B0 cValue.value \\u7684\\u503C\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6240\\u4EE5\\u5728\\u8FD9\\u91CC\\u8BBE\\u7F6E\\u4E4B\\u540E\\u5230\\u6700\\u540E\\u7684 log \\u4E4B\\u524D cValue.value \\u4F9D\\u65E7\\u662F undefined\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4F46\\u662F\\u8FD9\\u91CC\\u4F1A\\u6709\\u4E2A\\u52A8\\u4F5C\\u548C computed \\u6709\\u5173\\uFF0C\\u90A3\\u5C31\\u662F\\u8BA1\\u7B97\\u5C5E\\u6027\\u91CC\\u9762\\u7684 scheduler() \"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u91CC\\u9762\\u4F1A\\u68C0\\u6D4B dirty = false(\\u56E0\\u4E3A\\u4E0A\\u9762 get value \\u8FC7\\uFF0C\\u6240\\u4EE5\\u662F false)\\uFF0C\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u89E6\\u53D1 trigger(computed, 'set', 'value')\\uFF0C\\u8FD9\\u91CC\\u4F1A\\u89E6\\u53D1\\u6240\\u6709\\u548C computed-value \\u6709\\u5173\\u7684\\u4F9D\\u8D56\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8FD8\\u6709\\u4E2A\\u91CD\\u8981\\u7684\\u5C31\\u662F\\u5C06 dirty = true\\uFF0C\\u8FD9\\u6837\\uFF0C\\u540E\\u9762\\u5F53\\u8BBF\\u95EE\\u8BA1\\u7B97\\u5C5E\\u6027\\u7684\\u65F6\\u5019\\u624D\\u4F1A\\u89E6\\u53D1 runner() \\u66F4\\u65B0\\u503C\"),\"\\nvalue\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"foo \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),\" \\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u7136\\u540E\\u8BBF\\u95EE\\u4E00\\u6B21 cValue.value \\u89E6\\u53D1\\u5176 get value() \\u68C0\\u6D4B\\u5230 dirty \\u662F true\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u7136\\u540E\\u89E6\\u53D1 runner() \\u8C03\\u7528 () => value.foo \\u66F4\\u65B0 value \\u7684\\u503C\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6240\\u4EE5\\u4E0B\\u9762\\u7684\\u8F93\\u51FA\\u503C\\u5C31\\u662F value.foo \\u7684\\u503C\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"cValue\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'2'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// 1\")))),mdx(\"h2\",{\"id\":\"jest-3\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#jest-3\",\"aria-label\":\"jest 3 permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"jest\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should return updated value (5 ms)\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"it\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'should return updated value'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" value \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u63D0\\u4F9B\\u7684\\u662F\\u51FD\\u6570\\uFF0C\\u6240\\u4EE5\\u53EA\\u6709 getter\\uFF0C\\u4E14\\u4E0D\\u4F1A\\u7ACB\\u5373\\u6267\\u884C(\\u8BA1\\u7B97\\u5C5E\\u6027\\u6709\\u8BBE\\u7F6E\\uFF1Alazy: true)\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8FD4\\u56DE\\u4E00\\u4E2A Ref \\u7C7B\\u578B\\u503C\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4F9D\\u8D56\\u5C5E\\u6027\\uFF1Avalue.foo\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" cValue \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"computed\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"foo\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u53D6\\u503C\\u6536\\u96C6 value \\u7684\\u4F9D\\u8D56\\uFF0C\\u6B64\\u65F6 dirty = true\\uFF0C\\u6267\\u884C runner() \\u5F97\\u5230 undefined\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"cValue\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"undefined\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8D4B\\u503C\\u89E6\\u53D1 value.foo \\u7684 trigger: set\\uFF0C\\u7136\\u540E\\u68C0\\u6D4B\\u5230\\u8BE5 effect \\u6709\\u63D0\\u4F9B scheduler\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u56E0\\u6B64\\u8C03\\u7528 cValue.options.scheduer \"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6B64\\u65F6\\u7684 dirty = false(get value \\u7684\\u65F6\\u5019\\u7F6E\\u4E3A false \\u7684)\\uFF0C\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u89E6\\u53D1 cValue \\u7684 trigger: set -> value \\u8C03\\u7528 set value()\"),\"\\n  value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"foo \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"cValue\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\"))))),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should compute lazily (3 ms)\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"it\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'should compute lazily'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" value \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" getter \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" jest\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"fn\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"foo\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" cValue \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"computed\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"getter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// lazy\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"getter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"not\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toHaveBeenCalled\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8BA1\\u7B97\\u5C5E\\u6027\\u9ED8\\u8BA4\\u662F lazy \\u7684\\u6240\\u4EE5\\u4E0D\\u4F1A\\u7ACB\\u5373\\u6267\\u884C\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"cValue\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"undefined\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// get value() -> runner() -> \\u89E6\\u53D1\\u4E00\\u6B21 getter\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"getter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toHaveBeenCalledTimes\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// true\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// should not compute again\"),\"\\n  cValue\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u56E0\\u4E3A\\u4E0A\\u9762\\u53D6\\u8FC7\\u4E00\\u6B21\\u503C\\u4E86\\u6240\\u6709 dirty = false \\uFF0C\\u4E0D\\u4F1A\\u91CD\\u590D runner()\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"getter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toHaveBeenCalledTimes\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// should not compute until needed\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4E0D\\u4F1A\\u7ACB\\u5373\\u91CD\\u65B0\\u8BA1\\u7B97\\uFF0C\\u6B64\\u65F6 cValue.value \\u503C\\u4F9D\\u65E7\\u662F undefined\\uFF0C\\u4E0A\\u9762\\u6709\\u5206\\u6790\\u8FC7\\u4E86\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u7531\\u4E8E foo \\u6709\\u6536\\u96C6\\u5230 computed.effect \\u8FD9\\u4E2A\\u4F9D\\u8D56\\uFF0C\\u4E00\\u6B21\\u8D4B\\u503C\\u7684\\u65F6\\u5019\\u4F1A\\u89E6\\u53D1\\u5B83\\u6267\\u884C\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u800C computed.effect.options.scheduler \\u53C8\\u5B58\\u5728\\uFF0C\\u56E0\\u6B64\\u4F1A\\u6267\\u884C scheduler\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u91CC\\u9762\\u91CD\\u7F6E dirty = true\\uFF0C\\u6807\\u8BC6\\u503C\\u7531\\u53D8\\u5316\"),\"\\n  value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"foo \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),\" \\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u56E0\\u4E3A\\u4E0D\\u4F1A\\u89E6\\u53D1 get value() \\u5C31\\u4E0D\\u4F1A runner()\\uFF0C\\u4E5F\\u5C31\\u4E0D\\u4F1A\\u91CD\\u65B0 getter()\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"getter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toHaveBeenCalledTimes\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// now it should compute\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u53D1\\u751F\\u53D6\\u503C\\u64CD\\u4F5C\\uFF0C\\u4F1A\\u89E6\\u53D1 get value() \\u6B64\\u65F6 dirty = true(value.foo = 1\\u7684\\u65F6\\u5019\\u89E6\\u53D1\\u7684 scheduler)\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u56E0\\u6B64\\u8FD9\\u91CC\\u53D6\\u503C\\u7684\\u65F6\\u5019\\u4F1A\\u53D1\\u73B0\\u503C\\u53D8\\u5316\\u4E86\\uFF0C\\u6240\\u4EE5\\u9700\\u8981\\u91CD\\u65B0 runner() \\u53D6\\u65B0\\u503C\\uFF0C\\u7136\\u540E\\u53C8\\u7F6E dirty = false\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"cValue\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4E0A\\u9762\\u53D6\\u503C\\uFF0Crunn() -> getter()\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"getter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toHaveBeenCalledTimes\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"2\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// should not compute again\"),\"\\n  cValue\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4E00\\u6837\\u7684\\u9053\\u7406\\uFF0Cdirty = false \\u4E86\\uFF0C\\u6240\\u4EE5\\u4E0D\\u4F1A\\u91CD\\u65B0 runner()\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"getter\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toHaveBeenCalledTimes\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"2\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\")))))),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should trigger effect (1 ms)\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" value \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" cValue \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"computed\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"foo\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"let\"),\" dummy\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"effect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8FD9\\u4E2A\\u4F1A\\u7ACB\\u5373\\u6267\\u884C\\u4E00\\u6B21\\uFF0C\\u89E6\\u53D1 get value() \\u6267\\u884C runner() -> getter()\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4F46\\u662F value.foo \\u662F\\u6CA1\\u6709\\u6307\\u5B9A \\u6240\\u4EE5\\u662F undefined\"),\"\\n  dummy \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" cValue\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value \\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"undefined\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8FD9\\u91CC\\u8BBE\\u7F6E\\u4E3A\\u4EC0\\u4E48\\u4F1A\\u89E6\\u53D1 effect(fn) \\u91CC\\u9762\\u7684 fn \\u5462\\uFF1F\\uFF1F\\uFF1F\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// 1. computed(updater1) \\u6267\\u884C\\u5B8C\\u4E4B\\u540E\\uFF0Ceffect:runner() \\u5E76\\u672A\\u7ACB\\u5373\\u6267\\u884C\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"//   \\u6240\\u4EE5 shouldTrack = true \\u548C activeEffect = undefined \\u5E76\\u6CA1\\u6709\\u4EFB\\u4F55\\u6539\\u53D8\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// 2. effect(fn) \\u6267\\u884C\\u5B8C\\u4F1A\\u7ACB\\u5373\\u6267\\u884C fn\\uFF0C\\u91CC\\u9762\\u8BBF\\u95EE\\u4E86 cValue.value \\u89E6\\u53D1 get value()\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"//   \\u6267\\u884C effect:runner() -> getter(): () => value.foo \\u6B64\\u65F6 value.foo \\u53D6\\u503C\\u89E6\\u53D1\\u5176\\u6536\\u96C6\\u4F9D\\u8D56\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"//   \\u6B64\\u65F6\\u7684 activeEffect \\u5176\\u5B9E\\u8FD8\\u662F fn\\uFF0C\\u56E0\\u4E3A fn \\u6CA1\\u6709\\u6267\\u884C\\u5B8C\\u5C31\\u4E0D\\u4F1A\\u91CD\\u7F6E(try...finally)\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// 3. \\u6240\\u4EE5\\u4E0B\\u9762\\u6267\\u884C value.foo = 1 \\u7684\\u65F6\\u5019\\u662F\\u4F1A\\u89E6\\u53D1 fn \\u6267\\u884C\\u7684\\uFF0C\\u56E0\\u4E3A\\u5728 2 \\u4E2D\\u5DF2\\u7ECF\\u5C06\\u5B83\\u6536\\u96C6\\u5230\\u4E86\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// 4. \\u6267\\u884C fn \\u5BFC\\u81F4 cValue.value \\u53D6\\u503C\\uFF0C\\u89E6\\u53D1 get value() \\u6267\\u884C runner() -> getter() \\u53D6\\u6700\\u65B0\\u7684\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"//    \\u503C 1\\uFF0C\\u56E0\\u6B64 dummy \\u7684\\u503C\\u5C31\\u662F 1 \\u4E86\\u3002\"),\"\\nvalue\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"foo \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dummy\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\")))),mdx(\"p\",{parentName:\"li\"},\"\\u6240\\u4EE5\\u4E0A\\u8FD9\\u4E2A\\u7528\\u4F8B\\u7684\\u5173\\u952E\\u70B9\\u5728\\u4E8E\",mdx(\"strong\",{parentName:\"p\"},mdx(\"font\",{color:\"red\"},\"\\u7406\\u89E3\\xA0value.foo\\xA0\\u662F\\u5982\\u4F55\\u6536\\u96C6\\u5230\\xA0effect(fn)\\xA0\\u91CC\\u9762\\u7684fn\")),\"\\uFF0C\\u56E0\\u4E3A fn \\u91CC\\u9762\\u5E76\\u6CA1\\u6709\\u76F4\\u63A5\\u8BBF\\u95EE value.foo \\uFF0C\\u800C\\u662F\\u8BBF\\u95EE\\u7684 cValue.value\\u3002\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should work when chained (1 ms)\"),mdx(\"span\",{id:\"test-case-computed-chained\"}),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"it\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'should work when chained'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" value \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" foo\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" c1 \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"computed\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"foo\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" c2 \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"computed\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" c1\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"+\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// 1. c2:runner() -> c2:getter() -> c1.value -> c1:runner() -> c1.getter() -> 0 + 1 = 1\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4E14\\u6B64\\u65F6 value.foo \\u6536\\u96C6\\u5230\\u4E86 c1.effect\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4E14 c1.value \\u5728\\u89E6\\u53D1 get value() \\u65F6\\u5019\\u6536\\u96C6\\u5230\\u4E86 c2.effect\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"c2\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// 2. \\u56E0\\u4E3A\\u4E0A\\u9762\\u89E6\\u53D1\\u4E86 c1:runner() \\u6240\\u4EE5 c1.value = 0\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"c1\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// 3. \\u56E0\\u4E3A\\u5728 step1 value.foo \\u6536\\u96C6\\u5230\\u4E86 c1:effect\\uFF0C\\u6240\\u4EE5\\u8FD9\\u91CC\\u6539\\u53D8 value.foo\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"//   \\u4F1A\\u89E6\\u53D1 c1:effect\\uFF0C\\u6267\\u884C runner()\\uFF0C\\u5C06 c1:dirty \\u7F6E\\u4E3A true\"),\"\\n  value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"foo\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"++\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// 4. c2.value -> c2: get value() -> c2 runner() -> c1.value: get value()\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"//    -> c1 runner() -> value.foo = 1 + 1 = 2\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"c2\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"2\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// 5. c1.value \\u6B64\\u65F6\\u5C31\\u7B97\\u4E0D\\u8BBF\\u95EE c1.value \\u89E6\\u53D1 get value() \\u8FD9\\u91CC c1.value \\u4E5F\\u662F 1\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"expect\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"c1\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toBe\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\"))),mdx(\"p\",{parentName:\"li\"},\"\\u4E3A\\u4E86\\u65B9\\u4FBF\\u533A\\u5206\\uFF0C\\u8FD9\\u91CC\\u7ED9 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"computed(getterOrOptions, id)\"),\" \\u52A0\\u4E2A id \\u53C2\\u6570\\uFF0C\\u65B9\\u4FBF\\u8DDF\\u8E2A\\u5F53\\u524D\\u662F\\u6309\\u4E2A computed .\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u4ECE\\u7ED3\\u679C\\u76F4\\u63A5\\u5206\\u6790\\u539F\\u56E0\\uFF0C\\u5C06\\u4E0B\\u9762\\u7684\\u8F93\\u51FA\\u884C\\u7528 Pn \\u6807\\u8BB0\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" value \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"reactive\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\" foo\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" c1 \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"computed\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"foo\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'c1'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" c2 \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"computed\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=>\"),\" c1\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"+\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"1\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'c2'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u9996\\u5148\\u4E0A\\u9762\\u4E09\\u884C\\u4E0D\\u4F1A\\u89E6\\u53D1\\u4EFB\\u4F55\\u8F93\\u51FA\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// 1. log1 \\u4F1A\\u89E6\\u53D1 P1,P2,P3\\uFF0C\\u539F\\u56E0\\uFF1A\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"//    c2.value -> c2:get value()\\u8F93\\u51FAP1, dirty = true -> \"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"//          runner() + track + dirty = false ->\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"//    \\u6267\\u884C c2:getter(), c1.value + 1 -> \\u8BBF\\u95EE c1.value \"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"//    c1.value -> c1:get value()\\u8F93\\u51FAP2, dirty = true -> \"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"//          runner() + track + dirty = false ->\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"//    \\u6267\\u884C c1:getter(), c1.value = value.foo = 0\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"//    \\u7136\\u540E\\u5F80\\u56DE\\u63A8\\uFF1A c1.value -> c1.value + 1 = 1 -> c2.value -> \\u8F93\\u51FA P3\\uFF0Cc2.value \\u503C\\u4E3A 1\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// 2. \\u7B2C\\u4E00\\u6B65\\u7ED3\\u675F\\u4E4B\\u540E\\u7684\\u72B6\\u6001\\uFF1A\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"//    value.foo, deps[c1.effect]\\uFF0Cvalue.foo = 1\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"//    \\u56E0\\u4E3A\\u90FD\\u89E6\\u53D1\\u4E86 get value() \\u6240\\u4EE5\\u5404\\u81EA\\u6536\\u96C6\\u5230\\u4E86\\u81EA\\u8EAB\\u7684 effect \"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"//    c1, deps[c1.effect], c1.value = 0, dirty = false\\uFF0C\\u7B49\\u5F85 scheduler \\u8C03\\u7528\\u7F6E\\u4E3A true\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"//    c2, deps[c2.effect], c2.value = 1, dirty = false\\uFF0C\\u7B49\\u5F85 scheduler \\u8C03\\u7528\\u7F6E\\u4E3A true\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"c2\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'c2.value 1'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// log1, 1\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// 3. log2 \\u4F1A\\u89E6\\u53D1 P4, P5\\uFF0C\\u539F\\u56E0\\uFF1A\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"//    \\u53EA\\u662F c1.value \\u53D6\\u503C\\uFF0C\\u4F1A\\u89E6\\u53D1 get value()\\uFF0C\\u56E0\\u6B64\\u6709\\u4E86 P4 \\u8F93\\u51FA\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"//    \\u4F46\\u56E0\\u4E3A\\u6B64\\u65F6\\u7684 dirty = false \\u4E0D\\u4F1A\\u91CD\\u590D\\u6267\\u884C runner()\\uFF0C\\u6240\\u4EE5\\u503C\\u4F9D\\u65E7\\u662F 0\\uFF0C\\u6700\\u540E\\u8F93\\u51FA P5\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"c1\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'c1.value 1'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// log2, 0\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u589E\\u52A0\\u4E0B\\u9762\\u4E09\\u4E2A\\u8F93\\u51FA\\uFF0C\\u8BA9\\u4F9D\\u8D56\\u6536\\u96C6\\u7ED3\\u679C\\u66F4\\u6E05\\u6670\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"const\"),\" dep \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"=\"),\" targetMap\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"toRaw\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8FD9\\u91CC\\u6536\\u96C6\\u5230\\u7684\\u662F c1.effect\\uFF0C\\u56E0\\u4E3A c1.value ->get value() \\u6267\\u884C\\u4E86 runner() \\u89E6\\u53D1\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// value.foo \\u5C06 c1.effect \\u6536\\u8FDB deps\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"dep\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" dep\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"get\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'foo'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"values\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"next\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" c1\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// , true\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"\\n  c1\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"deps\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  c1\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"deps\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"values\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"next\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" c1\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// true\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'c1 deps'\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"\\n  c2\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"deps\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\"\\n  c2\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"deps\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"[\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token number\"}),\"0\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"]\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"values\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"next\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"===\"),\" c2\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// true\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'c2 deps'\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8FD9\\u91CC++\\uFF0C\\u4F1A\\u89E6\\u53D1 c1.effect\\uFF0C\\u56E0\\u4E3A c1:dirty = false\\uFF0C\\u6240\\u4EE5\\u8C03\\u7528 c1.options.scheduler\\uFF0C\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// c1.dirty = true\\uFF0Ctrigger-c1:set-value\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8BB0\\u4F4F\\u4E00\\u70B9\\uFF1Acomputed \\u5C5E\\u6027\\u6CA1\\u6709\\u53D6\\u503C\\u5C31\\u4E0D\\u4F1A\\u89E6\\u53D1 runner()\\uFF0C\\u6240\\u4EE5\\u8FD9\\u53E5\\u6267\\u884C\\u4E4B\\u540E\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// c1.value \\u4F9D\\u65E7\\u662F 0\\uFF0Cc2.value \\u4F9D\\u65E7\\u662F 1\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u901A\\u8FC7\\u4E4B\\u524D\\u7684\\u65B9\\u5F0F\\u53EF\\u6D4B\\u8BD5\\u51FA\\u7ED3\\u679C\\uFF0C\\u5982\\u4E0B\\u56FE\\u4E2D\\u7ED3\\u679C\"),\"\\nvalue\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"foo\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"++\"),\"\\n\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// 4. log3 \\u4F1A\\u8F93\\u51FA P9, P10, P11\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// c2.value \\u53D6\\u503C\\uFF0C\\u89E6\\u53D1 c2:runner() \\u91CD\\u65B0\\u8BA1\\u7B97\\u503C\\uFF0Cc1.value + 1\\uFF0C\\u89E6\\u53D1\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// c1.value \\u53D6\\u503C\\uFF0C\\u89E6\\u53D1 c1:runner() \\u91CD\\u65B0\\u8BA1\\u7B97\\u503C\\uFF0C\\u5F97\\u5230 c1.value = value.foo(++\\u4E4B\\u540E\\u7684\\u503C\\u4E3A1) = 1\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u7136\\u540E\\uFF1Ac2.value = c1.value + 1 = 1 + 1 = 2\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u6240\\u4EE5\\u8FD9\\u91CC\\u4F1A\\u8F93\\u51FA2\\uFF0C\\u8BF7\\u770B\\u4E0B\\u9762\\u7684\\uFF0CP9,P10,P11\\uFF0C\\u5176\\u5B9E\\u8FD9\\u53E5\\u4E4B\\u540E c1.value \\u5DF2\\u7ECF\\u662F 1\\u4E86\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u56E0\\u4E3A\\u8FD9\\u91CC\\u89E6\\u53D1\\u4E86 c1.value \\u53D6\\u503C\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"c2\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'c2.value 2'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// log3, 2\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// 5. log4\\u4F1A\\u8F93\\u51FA P12,P13\\uFF0C\\u5176\\u5B9E\\u8FD9\\u91CC\\u65E0\\u8BBA\\u7528\\u4E0D\\u7528 c1.value \\u5B83\\u7684\\u503C\\u90FD\\u5DF2\\u7ECF\\u662F 1 \\u4E86\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"//    \\u6240\\u4EE5\\u8FD9\\u91CC\\u7EAF\\u7CB9\\u53EA\\u662F\\u53D6\\u503C\\uFF0C\\u4E0D\\u4F1A\\u91CD\\u590D runner()\\uFF0C\\u56E0\\u4E3A step 4-log3 \\u89E6\\u53D1\\u8FC7 get value() diry = false\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"//    \\u4E86\\u3002\"),\"\\nconsole\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"log\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),\"c1\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"value\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\",\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token string\"}),\"'c1.value 2'\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// log4, 1\")))),mdx(\"p\",{parentName:\"li\"},\"\\u8F93\\u51FA\\uFF1A\"),mdx(\"blockquote\",{parentName:\"li\"},mdx(\"p\",{parentName:\"blockquote\"},\"P1: {id: \\u201Cc2\\u201D, value: undefined} \\u201Cbefore runner\\u201D\\nP2: {id: \\u201Cc1\\u201D, value: undefined} \\u201Cbefore runner\\u201D\\nP3: 1 \\u201Cc2.value 1\\u201D\\nP4: {id: \\u201Cc1\\u201D, value: 0} \\u201Cbefore runner\\u201D\\nP5: 0 \\u201Cc1.value 1\\u201D\"),mdx(\"p\",{parentName:\"blockquote\"},\"P6: Map(1) {\\u201Cfoo\\u201D => Set(1)} true\\nP7: \",\"[Set(1)]\",\" true \\u201Cc1 deps\\u201D\\nP8: \",\"[Set(1)]\",\" true \\u201Cc2 deps\\u201D\"),mdx(\"p\",{parentName:\"blockquote\"},\"// \\u65B0\\u589E Log3 \\u4E4B\\u540E\\u7684\\u8F93\\u51FA\"),mdx(\"p\",{parentName:\"blockquote\"},\"P9: {id: \\u201Cc2\\u201D, value: 1} \\u201Cbefore runner\\u201D\\nP10: {id: \\u201Cc1\\u201D, value: 0} \\u201Cbefore runner\\u201D\\nP11: 2 \\u201Cc2.value 2\\u201D\"),mdx(\"p\",{parentName:\"blockquote\"},\"// \\u65B0\\u589E log4 \\u4E4B\\u540E\\u7684\\u8F93\\u51FA\"),mdx(\"p\",{parentName:\"blockquote\"},\"P12: {id: \\u201Cc1\\u201D, value: 1} \\u201Cbefore runner\\u201D\\nP13: 1 \\u201Cc1.value 2\\u201D\")),mdx(\"p\",{parentName:\"li\"},\"\\u70B9\\u51FB\\u7701\\u7565\\u53F7\\u8F93\\u51FA\\uFF1A\"),mdx(\"p\",{parentName:\"li\"},mdx(\"img\",_extends({parentName:\"p\"},{\"src\":\"http://qiniu.ii6g.com/1590560419.png?imageMogr2/thumbnail/!100p\",\"alt\":null}))))),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should trigger effect when chained (3 ms)\"),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",_extends({parentName:\"p\"},{\"href\":\"#test-case-computed-chained\"}),\"\\u8BF7\\u770B\\u4E0A\\u4E00\\u4E2A\\u7528\\u4F8B\\u7684\\u5206\\u6790---->>\"))),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should trigger effect when chained (mixed invocations) (3 ms)\"),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",_extends({parentName:\"p\"},{\"href\":\"#test-case-computed-chained\"}),\"\\u8BF7\\u770B\\u4E0A\\u4E0A\\u4E00\\u4E2A\\u7528\\u4F8B\\u7684\\u5206\\u6790---->>\"))),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should no longer update when stopped (2 ms)\"),mdx(\"p\",{parentName:\"li\"},\"\\u540C\\u4E0A\\u3002\\u4F46\\u662F\\u6709\\u4E00\\u70B9\\u9700\\u8981\\u77E5\\u9053\\uFF0Cstop() \\u4E3B\\u8981\\u5E72\\u4E24\\u4EF6\\u4E8B\\uFF1A\"),mdx(\"ol\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ol\"},\"cleanup(effect) -> deps = [] \\u6E05\\u7A7A\\u4F9D\\u8D56\"),mdx(\"li\",{parentName:\"ol\"},\"effect.active = false\")),mdx(\"p\",{parentName:\"li\"},\"\\u90A3\\u4E48\\u95EE\\u9898\\u5C31\\u5F88\\u6E05\\u6670\\u4E86\\uFF0Cstop \\u4E4B\\u540E active \\u4E3A false\\uFF0C\\u5728\\u6267\\u884C effect() \\u7684\\u65F6\\u5019\\u4E00\\u5F00\\u59CB\\u5C31\\u662F\\u68C0\\u6D4B\\u662F\\u4E0D\\u662F\\u6FC0\\u6D3B\\u72B6\\u6001\\uFF0C\\u5982\\u679C\\u4E0D\\u662F\\u4F1A\\u8FD4\\u56DE undefined(\\u6709 scheduler\\u6E05\\u7A7A)\\u6216\\u8005 fn(\\u2026args) \\u6267\\u884C\\u7ED3\\u679C\\u3002\\u4E0D\\u4F1A\\u7EE7\\u7EED\\u5F80\\u4E0B\\u6267\\u884C try\\u2026finally\\u3002\"),mdx(\"div\",_extends({parentName:\"li\"},{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}),mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"if\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"!\"),\"_effect\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"active\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" options\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\".\"),\"scheduler \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"?\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"undefined\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\":\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"fn\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"...\"),\"args\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"p\",{parentName:\"li\"},\"\\u6240\\u4EE5\\u8BF4\\u8FD9\\u91CC stop \\u4E4B\\u540E\\u518D\\u8D4B\\u503C\\uFF0C\\u8C03\\u7528 effect.scheduler() \\u76F8\\u5F53\\u4E8E\\u4EC0\\u4E48\\u90FD\\u6CA1\\u5E72\\u3002\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should support setter (2 ms)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should trigger effect w/ setter\"),mdx(\"p\",{parentName:\"li\"},\"plusOne.value = 0\",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"\\u4F1A\\u89E6\\u53D1 setter \\u8C03\\u7528 options.set:\"),\"n.value = val - 1`\\u3002\"),mdx(\"p\",{parentName:\"li\"},\"\\u90A3\\u4E48 n.value \\u53D8\\u4E86 \\u5C31\\u4F1A\\u89E6\\u53D1 effect(fn) \\u91CC\\u9762\\u7684 dep:fn \\u66F4\\u65B0 dummy \\u503C\\u3002\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"font\",{color:\"green\"},\"\\u2713 should warn if trying to set a readonly computed\"))),mdx(\"h1\",{\"id\":\"总结\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h1\"},{\"href\":\"#%E6%80%BB%E7%BB%93\",\"aria-label\":\"总结 permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"\\u603B\\u7ED3\"),mdx(\"font\",{size:\"20\",color:\"red\"},\"Over\"),mdx(\"font\",{size:\"3\"},\"\\uD83D\\uDCA5\\uD83D\\uDCA5\\uD83D\\uDCA5\\uD83D\\uDCA5\\uD83D\\uDCA5\\uD83D\\uDCA5\\uD83D\\uDCA5\\uD83D\\uDCA5\\uD83D\\uDCA5\\uD83D\\uDCA5\\uD83D\\uDCA5\\uD83D\\uDCA5\\uD83D\\uDCA5\\uD83D\\uDCA5\\uD83D\\uDCA5\\uD83D\\uDCA5\\uD83D\\uDCA5\\uD83D\\uDCA5\\uD83D\\uDCA5\\uD83D\\uDCA5.\"),mdx(\"p\",null,\"\\u7EC8\\u4E8E\\u7ED3\\u675F\\u4E86\\uFF0C\\u7ECF\\u8FC7\\u4E24\\u5468\\u7684\\u575A\\u6301\\uFF0C\\u7EC8\\u4E8E\\u5C06 vue3.0 reactivity \\u6A21\\u5757\\u6E90\\u7801\\u201C\\u6284\\u5B8C\\u201D\\u4E86\\u3002\"),mdx(\"p\",null,\"\\u6B64\\u65F6\\u6B64\\u523B\\uFF0C\\u8C8C\\u4F3C\\u6CA1\\u4EC0\\u4E48\\u8BDD\\u8981\\u5199\\u7684\\u4E86\\u2026\\uFF0C\\u552F\\u6709\"),mdx(\"font\",{color:\"magenta\",size:\"6\"},\"\\u8DEF\\u6F2B\\u6F2B\\u5176\\u4FEE\\u8FDC\\u516E\\uFF0C\\u543E\\u5C06\\u4E0A\\u4E0B\\u800C\\u6C42\\u7D22\\uFF01\\uFF01\\uFF01\"),mdx(\"p\",null,\"\\u4E24\\u5468\\u4EE5\\u6765\\uFF0C\\u6BCF\\u5929\\u8111\\u5B50\\u7A7A\\u95F2\\u4E86\\u91CC\\u9762\\u90FD\\u662F vue3.0 reactivity \\u4EE3\\u7801\\uFF0C\\u751A\\u81F3\\u7761\\u89C9\\u90FD\\u5728\\u505A\\u68A6\\u6572\\u8FD9\\u5757\\u7684\\u4EE3\\u7801\\uFF0C\\u505A\\u68A6\\u90FD\\u5728\\u601D\\u8003\\u6240\\u7ECF\\u5386\\u7684\\u4EE3\\u7801\\u6D41\\u7A0B\\u548C\\u7EC6\\u8282\\u3002\"),mdx(\"p\",null,\"\\u603B\\u7684\\u4E0B\\u6765\\uFF0C\\u53EA\\u6709\\u611F\\u53F9\\u81EA\\u5DF1\\u80FD\\u529B\\u4E0D\\u8DB3\\uFF0C\\u8D8A\\u5B66\\u4E60\\u8D8A\\u89C9\\u5F97\\u81EA\\u5DF1\\u5783\\u573E\\uFF01\\uFF01\\uFF01\"),mdx(\"p\",null,\"\\u8DEF\\u8FD8\\u5F88\\u957F\\uFF0C\\u4E0D\\u80FD\\u653E\\u5F03\\uFF0C\\u56DE\\u6765\\u8FD9\\u51E0\\u5E74\\u603B\\u611F\\u89C9\\u5FC3\\u6709\\u529B\\u800C\\u4F59\\u4E0D\\u8DB3\\uFF0C\\u66F4\\u662F\\u611F\\u53F9\\u5927\\u5B66\\u6CA1\\u597D\\u597D\\u5B66\\u597D\\u57FA\\u7840\\uFF0C\\u66F4\\u4F53\\u4F1A\\u5230\\u4E66\\u5230\\u7528\\u65F6\\u65B9\\u6068\\u5C11\\u65B9\\u6068\\u5C11\\uFF0C(\\u2299o\\u2299)\\u2026\\uFF0C\\u6709\\u70B9\\u626F\\u8FDC\\u4E86\\uFF01\\uFF01\\uFF01\"),mdx(\"hr\",null),mdx(\"p\",null,\"\\u8FD8\\u662F\\u8001\\u8001\\u5B9E\\u5B9E\\u7684\\u6765\\u590D\\u76D8\\u2467 \\uFF08\\u5F00\\u59CB -> \\uD83D\\uDD1A\\uFF09\\uFF1A\"),mdx(\"h2\",{\"id\":\"第一阶段：reactive\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%EF%BC%9Areactive\",\"aria-label\":\"第一阶段：reactive permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),mdx(\"strong\",{parentName:\"h2\"},\"\\u7B2C\\u4E00\\u9636\\u6BB5\\uFF1Areactive() \")),mdx(\"p\",null,mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"reactive(target) -> createObjectReactive(target, isReadonly, baseHandlers, collectionHandlers)\")),mdx(\"p\",null,\"\\u521B\\u5EFA reactive \\u5BF9\\u8C61\\uFF0C\\u4E4B\\u524D\\u7684 toProxy, toRaw \\u6539\\u6210\\u4E86 ReactiveFlags \\u6807\\u8BB0\\u65B9\\u5F0F\\u5B58\\u50A8\\u5230 target \\u548C observed \\u5BF9\\u8C61\\u4E0A\\u4E86\\uFF0C\\u800C\\u4E0D\\u662F\\u5355\\u72EC\\u7684\\u58F0\\u660E\\u4E24\\u4E2A\\u6A21\\u5757\\u904D\\u5386\\u6765\\u4E13\\u95E8\\u5B58\\u50A8 target -> observed \\u548C observed -> target \\u7684\\u5173\\u7CFB\\u3002\"),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"baseHandlers\"),\": \\u57FA\\u672C\\u5BF9\\u8C61\\u7C7B\\u578B\\u7684 proxy handler\\uFF0C\\u539F\\u751F\\u7684 Reflect \\u57FA\\u672C\\u90FD\\u63D0\\u4F9B\\u4E86\\u5BF9\\u5E94\\u7684\\u80FD\\u529B\\u3002\"),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"collectionHandlers\"),\"\\uFF1A\\u96C6\\u5408\\u7C7B\\u578B(Map, Set, WeakMap, WeakSet) \\u5BF9\\u8C61\\u7684 proxy handlers\\uFF0C\\u7531\\u4E8E\\u539F\\u751F Reflect \\u5E76\\u6CA1\\u6709\\u652F\\u6301\\u5B83\\u4EEC\\u7684\\u539F\\u5B50\\u64CD\\u4F5C\\uFF0C\\u6240\\u4EE5\\u53EA\\u80FD\\u901A\\u8FC7\\u5BF9\\u8C61\\u7684 proxy get \\uFF0C\\u6765\\u83B7\\u53D6\\u6240\\u8C03\\u7528\\u7684\\u65B9\\u6CD5\\u540D\\u53BB\\u5BF9\\u5E94\\u7684 instrumentations \\u91CC\\u9762\\u67E5\\u627E\\u4E0E\\u4E4B\\u76F8\\u5173\\u7684 handler \\u6765\\u6A21\\u62DF\\u96C6\\u5408\\u7C7B\\u578B\\u7684\\u6240\\u6709\\u64CD\\u4F5C\\u3002\"),mdx(\"p\",null,\"\\u53EF\\u8FDB\\u884C reactive \\u7684\\u7684\\u6761\\u4EF6\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"_isVue: false \\u8868\\u793A Vue \\u5B9E\\u4F8B\\u7C7B\\u578B\"),mdx(\"li\",{parentName:\"ol\"},\"_VNode: false \\u865A\\u62DF\\u8282\\u70B9\\u7C7B\\u578B\"),mdx(\"li\",{parentName:\"ol\"},\"!rawValues \\u4E2D\\u7684\\u7C7B\\u578B\\u6216\\u503C\"),mdx(\"li\",{parentName:\"ol\"},\"\\u53EF observable \\u7C7B\\u578B(\\u9664Map, Set, WeakMap, WeakSet, Object, Array\\u610F\\u5916\\u7684\\u7C7B\\u578B)\"),mdx(\"li\",{parentName:\"ol\"},\"\\u975E Object.isFrozen \\u7C7B\\u578B\")),mdx(\"p\",null,\"\\u7ECF\\u8FC7\\u66F4\\u65B0\\u4E4B\\u540E\\u524D\\u9762\\u4E09\\u79CD\\u90FD\\u5408\\u5E76\\u5230\\u4E86 ReactiveFlags.\",mdx(\"strong\",{parentName:\"p\"},\"v_skip \\u91CC\\u9762\\u4E86(\\u7ED3\\u5408 markRaw(value) \\u5C06\\u4E0D\\u80FD\\u88AB\\u89C2\\u5BDF\\u7684\\u503C\\u7F6E\\u4E3A \"),\"v_skip: true)\\u3002\"),mdx(\"p\",null,\"\\u6700\\u540E\\u53D8\\u6210\\u4E86\\u4E09\\u79CD\\u68C0\\u6D4B\\uFF1A\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"__v_skip = false\"),mdx(\"li\",{parentName:\"ol\"},\"observable \\u7C7B\\u578B\"),mdx(\"li\",{parentName:\"ol\"},\"\\u975E frozen \\u5BF9\\u8C61\")),mdx(\"p\",null,\"\\u53D6\\u6D88 toProxy, toRaw \\u4E4B\\u540E\\u4F7F\\u7528 target.\",mdx(\"strong\",{parentName:\"p\"},\"v_readonly \\u548C target.\"),\"v_reactive \\u6765\\u4FDD\\u5B58 observed,  target.__v_raw \\u6765\\u4FDD\\u5B58 proxy \\u4E4B\\u524D\\u7684\\u5BF9\\u8C61\\u3002\"),mdx(\"p\",null,\"\\u6240\\u4EE5\\u4E00\\u65E6\\u68C0\\u6D4B\\u5230 \",mdx(\"strong\",{parentName:\"p\"},\"v_readonly \\u548C \"),\"v_reactive \\u503C\\u5B58\\u5728\\u5C31\\u76F4\\u63A5\\u8FD4\\u56DE\\u8FD9\\u4E2A\\u7F13\\u5B58\\u7684 proxy\\u3002\"),mdx(\"h2\",{\"id\":\"第二阶段：basehandlers\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5%EF%BC%9Abasehandlers\",\"aria-label\":\"第二阶段：basehandlers permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"\\u7B2C\\u4E8C\\u9636\\u6BB5\\uFF1AbaseHandlers\"),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"createGetter -> \\u521B\\u5EFA proxy get\"),\"\\uFF1A\"),mdx(\"p\",null,\"\\u8FD4\\u56DE\\u7684\\u65F6\\u5019\\u68C0\\u6D4B isReadonly \\u51B3\\u5B9A\\u4F7F\\u7528 readonly() \\u8FD8\\u662F reactive() \\u505A\\u6DF1\\u5C42\\u7684 reactive\\u3002\"),mdx(\"p\",null,\"\\u5982\\u679C\\u6307\\u5B9A\\u4E86 shallow = true \\u53C2\\u6570\\uFF0C\\u90A3\\u4E48\\u53EA\\u4F1A\\u9488\\u5BF9\\u5BF9\\u8C61\\u7684\\u7B2C\\u4E00\\u5C42\\u505A reactive\\u3002\"),mdx(\"p\",null,\"\\u5982\\u679C\\u662F\\u6570\\u7EC4\\u7684\\u4E09\\u4E2A\\u7D22\\u5F15\\u64CD\\u4F5C\\uFF0C\\u76F4\\u63A5\\u8FDB\\u5165 arrayInstrumentations \\u5904\\u7406\\uFF0C\\u8C03\\u7528\\u5C01\\u88C5\\u4E4B\\u540E\\u7684 includes, indexOf, lastIndexOf\\u3002\"),mdx(\"p\",null,\"\\u5982\\u679C\\u662F Ref \\u7C7B\\u578B\\u76F4\\u63A5\\u8FD4\\u56DE res.value\\uFF0C\\u5982\\u679C\\u53C8\\u662F\\u6570\\u7EC4\\uFF0C\\u624B\\u52A8 track \\u4E00\\u6B21\\u6570\\u7EC4\\u5143\\u7D20\\u7684 \\u2018get\\u2019 \\u64CD\\u4F5C\\uFF0C\\u76F4\\u63A5\\u8FD4\\u56DE\\u8BE5\\u6570\\u7EC4 res\\u3002\"),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"createSetter -> \\u521B\\u5EFA proxy set\"),\"\\uFF1A\"),mdx(\"p\",null,\"\\u5982\\u679C\\u662F Ref \\u7C7B\\u578B\\u8981\\u5C06\\u503C\\u8BBE\\u7F6E\\u5230 oldValue.value \\u4E0A\\uFF0C\\u800C\\u4E0D\\u662F\\u76F4\\u63A5\\u5C06\\u503C\\u901A\\u8FC7 Reflect.set() \\u8BBE\\u7F6E\\u4E0B\\u53BB\\u3002\"),mdx(\"p\",null,\"\\u7136\\u540E\\u6839\\u636E oldValue \\u548C newValue \\u8FDB\\u884C\\u6BD4\\u8F83\\uFF0C\\u6392\\u9664 NaN \\u7684\\u53EF\\u80FD\\u4E4B\\u540E\\uFF0C\\u5982\\u679C\\u6709\\u53D1\\u751F\\u53D8\\u5316\\u5C31\\u8C03\\u7528 trigger\\uFF0C\\u5982\\u679C target \\u4E0A\\u6CA1\\u6709\\u7684 key \\u5C31\\u662F \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"trigger: add\"),\"\\uFF0C\\u5426\\u5219 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"trigger:set\"),\"\\u3002\"),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"deleteProperty -> \\u521B\\u5EFA proxy delete\"),\"\\uFF1A\"),mdx(\"p\",null,\"trigger delete\\u3002\"),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"has -> \\u521B\\u5EFA proxy has\"),\"\\uFF1A\"),mdx(\"p\",null,\"track has \\u6536\\u96C6\\u4F9D\\u8D56\\u3002\"),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"ownKeys -> \\u521B\\u5EFA proxy ownKeys\"),\" \\uFF1A\"),mdx(\"p\",null,\"track ITERATE_KEY \\u8FED\\u4EE3\\u5668\\u6536\\u96C6\\u4F9D\\u8D56\\u3002\"),mdx(\"h2\",{\"id\":\"第三阶段：effect-构建-dep\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#%E7%AC%AC%E4%B8%89%E9%98%B6%E6%AE%B5%EF%BC%9Aeffect-%E6%9E%84%E5%BB%BA-dep\",\"aria-label\":\"第三阶段：effect 构建 dep permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"\\u7B2C\\u4E09\\u9636\\u6BB5\\uFF1Aeffect() \\u6784\\u5EFA Dep\"),mdx(\"p\",null,\"effect(fn, options) \\u662F\\u5C06 fn \\u6784\\u9020\\u6210 Dep \\u7C7B\\u578B\\uFF0C\\u6240\\u4EE5\\uFF0C\\u5176\\u5B9EVue\\u91CC\\u9762\\u6240\\u6709\\u7684\\u4F9D\\u8D56\\u90FD\\u662F\\u4E00\\u4E2A effect \\u51FD\\u6570\\uFF0C\\u51FD\\u6570\\u4E0A\\u6302\\u4E86\\u82E5\\u5E72\\u4E2A\\u5C5E\\u6027(\",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"_isEffect, active, id, deps, options, raw\"),\")\\u3002\"),mdx(\"p\",null,\"\\u8FD9\\u91CC\\u7684\\u91CD\\u70B9\\u5728\\u4E8E reactiveEffect \\u51FD\\u6570\\u7684\\u5B9E\\u73B0\\u91CC\\u9762\\u6709\\u4E2A try\\u2026finally \\u5B83\\u7ED3\\u5408 shouldTrack \\u548C activeEffect \\u4FDD\\u8BC1\\u4E86\\u5728 Dep \\u91CC\\u9762\\u6267\\u884C \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"value.n++\"),\" \\u4E0D\\u4F1A\\u51FA\\u73B0\\u6B7B\\u5FAA\\u73AF\\uFF0C\\u56E0\\u4E3A trigger \\u91CC\\u9762\\u7684 add \\u64CD\\u4F5C\\u4F1A\\u68C0\\u6D4B\\u8FD9\\u4E24\\u4E2A\\u503C\\uFF0C\\u5982\\u679C \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"activeEffect !== effect\"),\"(\\u5F53\\u524D\\u7684\\u8FD9\\u4E2A Dep) \\u6216\\u8005 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"shouldTrack = false\"),\" \\u624D\\u4F1A\\u6536\\u96C6\\u8981\\u6267\\u884C\\u7684\\u4F9D\\u8D56\\u3002\"),mdx(\"div\",{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"},mdx(\"pre\",_extends({parentName:\"div\"},{\"className\":\"language-js\"}),mdx(\"code\",_extends({parentName:\"pre\"},{\"className\":\"language-js\"}),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"try\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// enable effect\"),\"\\n  \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"return\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token function\"}),\"fn\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"(\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token operator\"}),\"...\"),mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\")\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u8FD9\\u4E2A\\u5C31\\u662F effect(() => {}) \\u4F20\\u5165\\u7684\\u51FD\\u6570\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token keyword\"}),\"catch\"),\" \",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"{\"),\"\\n\\t\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// \\u7ED3\\u675F\\u5F53\\u524D effect \\u6784\\u5EFA\"),\"\\n\\t\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// shouldTrack = false\"),\"\\n\\t\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token comment\"}),\"// activeEffect = undefined\"),\"\\n\",mdx(\"span\",_extends({parentName:\"code\"},{\"className\":\"token punctuation\"}),\"}\")))),mdx(\"h2\",{\"id\":\"第四阶段：collectionhandlers\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#%E7%AC%AC%E5%9B%9B%E9%98%B6%E6%AE%B5%EF%BC%9Acollectionhandlers\",\"aria-label\":\"第四阶段：collectionhandlers permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"\\u7B2C\\u56DB\\u9636\\u6BB5\\uFF1AcollectionHandlers\"),mdx(\"p\",null,\"\\u8FD9\\u91CC\\u5C31\\u6709\\u610F\\u601D\\u4E86\\u2026\"),mdx(\"p\",null,\"\\u56E0\\u4E3A\\u6CA1\\u6709\\u96C6\\u5408\\u7C7B\\u578B\\u7684\\u76F4\\u63A5 proxy \\u5BF9\\u5E94\\u7684 Reflect\\uFF0C\\u56E0\\u6B64\\u53EA\\u80FD\\u91C7\\u53D6\\u53E6\\u7C7B\\u7684\\u65B9\\u5F0F\\u6765\\u89E3\\u51B3\\u8FD9\\u4E2A\\u95EE\\u9898\\u3002\"),mdx(\"p\",null,\"\\u4E0D\\u7BA1\\u4EC0\\u4E48\\u60C5\\u51B5\\u4E0B\\uFF0Cobj.fn \\u90FD\\u5C5E\\u4E8E\\u5C5E\\u6027\\u503C\\u7684\\u8BBF\\u95EE\\uFF0C\\u4E5F\\u5C31\\u662F\\u8BF4\\u5F53\\u4F7F\\u7528 obj.fn() \\u7684\\u65F6\\u5019\\uFF0C\\u65E0\\u8BBA\\u5982\\u4F55\\u90FD\\u4F1A\\u51FA\\u53D1 obj \\u5BF9 fn \\u5C5E\\u6027\\u7684 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"get\"),\" \\u64CD\\u4F5C\\u3002\"),mdx(\"p\",null,\"\\u6240\\u4EE5\\u5BF9\\u4E8E collectionHandlers \\u91CC\\u9762\\u5C31\\u53EA\\u6709\\u4E00\\u4E2A get\\u3002\"),mdx(\"p\",null,\"\\u7136\\u540E\\u901A\\u8FC7 obj.fn -> \\u51FA\\u53D1 get, key \\u4E3A fn -> \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"Reflect.get(instrumentations, 'fn', ...)\"),\"\\uFF0C\\u7136\\u540E\\u901A\\u8FC7 fn \\u5373\\u51FD\\u6570\\u540D\\u79F0\\u53BB instrumentations \\u91CC\\u9762\\u627E\\u5230\\u5BF9\\u5E94\\u7684\\u51FD\\u6570(\\u6BD4\\u5982\\uFF1Aset, get, add, has, \\u7B49\\u7B49\\u2026)\\u3002\"),mdx(\"p\",null,\"\\u6700\\u540E\\u6839\\u636E\\u8C03\\u7528 \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"obj.fn(...args)\"),\" \\u65F6\\u4F20\\u9012\\u7684\\u53C2\\u6570\\u8F6C\\u63A5\\u5230 instrumentations \\u91CC\\u9762\\u5BF9\\u5E94\\u7684\\u51FD\\u6570\\u53C2\\u6570\\u4E0A\\u3002\"),mdx(\"p\",null,\"\\u8FD9\\u90E8\\u5206\\u7684\\u91CD\\u70B9\\u5728\\u4E8E instrumentations \\u91CC\\u9762\\u51FD\\u6570\\u7684\\u8C03\\u7528\\u65F6\\u4F5C\\u7528\\u57DF\\u95EE\\u9898\\u7684\\u89E3\\u51B3\\uFF1A\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"\\u4ECE target.prototype \\u539F\\u578B\\u4E0A\\u53D6\\u51FA\\u5BF9\\u5E94\\u7684\\u65B9\\u6CD5(\\u5982\\uFF1Ahas, get, set, add)\"),mdx(\"li\",{parentName:\"ol\"},\"\\u7136\\u540E\\u901A\\u8FC7 \",mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"has.call(target)\"),\" \\u7136\\u540E\\u5C06\\u8C03\\u7528\\u57DF\\u6307\\u56DE\\u7ED9 target(Map, Set\\u2026)\")),mdx(\"p\",null,\"\\u4E0D\\u7136\\u4F1A\\u51FA\\u73B0 Map.prototype.has \\u5728 Proxy \\u7C7B\\u578B\\u4E0A\\u8C03\\u7528\\u800C\\u627E\\u4E0D\\u5230\\u51FD\\u6570\\u7684\\u95EE\\u9898\\u3002\"),mdx(\"p\",null,\"\\u53E6\\u4E00\\u4E2A\\u9700\\u8981\\u5173\\u6CE8\\u7684\\u662F key, rawKey \\u7684\\u95EE\\u9898\\uFF0C\\u8FD9\\u91CC\\u7684\\u610F\\u4E49\\u5728\\u4E8E\\uFF1A\"),mdx(\"p\",null,\"\\u200B\\t\",mdx(\"font\",{color:\"blue\"},mdx(\"em\",{parentName:\"p\"},\"\\u5982\\u679C key-> proxyKey \\uFF0C\\u5982\\u679C\\u540C\\u65F6\\u7528 key \\u548C proxyKey \\u53D6 get \\u503C\\u7684\\u65F6\\u5019\\u4F1A\\u53D1\\u73B0\\u6700\\u7EC8 proxyKey \\u4F1A\\u88AB\\u8F6C\\u6210 key\\u518D\\u53D6\\u503C\\u3002\\u8FD9\\u91CC\\u5E94\\u8BE5\\u662F\\u4E3A\\u4E86\\u907F\\u514D proxyKey \\u548C key \\u4F1A\\u540C\\u65F6\\u88AB\\u6DFB\\u52A0\\u5982 Map \\u6216 Set \\u95EE\\u9898\"),\"\\u3002\")),mdx(\"h2\",{\"id\":\"第四阶段：ref\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#%E7%AC%AC%E5%9B%9B%E9%98%B6%E6%AE%B5%EF%BC%9Aref\",\"aria-label\":\"第四阶段：ref permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"\\u7B2C\\u56DB\\u9636\\u6BB5\\uFF1ARef\"),mdx(\"p\",null,\"Ref \\u7C7B\\u578B\\uFF0C\\u4E3B\\u8981\\u63D0\\u4F9B\\u4E86\\u5C06\\u539F\\u59CB\\u7C7B\\u578B\\u503C\\u8F6C\\u6210 reactive \\u7684\\u80FD\\u529B\\u3002\"),mdx(\"p\",null,\"\\u5B83\\u901A\\u8FC7\\u5C06\\u503C\\u5C01\\u88C5\\u6210 \\uFF1A \",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"{__v_isRef: true, get value(){}, set value() {} }\"),\" \\u5BF9\\u8C61\\u6765\\u5B8C\\u6210 reactive \\u529F\\u80FD\\u3002\"),mdx(\"p\",null,\"\\u8FD9\\u91CC\\u91CD\\u70B9\\u662F\\u51E0\\u4E2A\\u51FD\\u6570\\uFF1A\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"ref(value)\"),\" \\u5C06\\u503C\\u8F6C\\u6210 Ref \\u7C7B\\u578B\"),mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"createRef(value, shallow)\"),\" \\u88AB ref \\u6216 shallowRef \\u8C03\\u7528\\u6765\\u521B\\u5EFA Ref\"),mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"triggerRef(ref)\"),\" \\u89E6\\u53D1 Ref \\u4E0A\\u7684 deps\"),mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"customRef(factory)\"),\" \\u63D0\\u4F9B\\u5916\\u90E8\\u81EA\\u5B9A\\u4E49 Ref \\u80FD\\u529B\"),mdx(\"li\",{parentName:\"ol\"},mdx(\"code\",_extends({parentName:\"li\"},{\"className\":\"language-text\"}),\"toRef(object)\"),\" \\u5C06\\u5BF9\\u8C61\\u8F6C\\u6210 Ref \\u7C7B\\u578B\")),mdx(\"p\",null,\"Ref \\u7C7B\\u578B\\u5173\\u952E\\uFF1A\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"get value() -> track \\u6536\\u96C6\\u4F9D\\u8D56\"),mdx(\"li\",{parentName:\"ol\"},\"set value(val) -> trigger \\u4F9D\\u8D56\")),mdx(\"h2\",{\"id\":\"第五阶段：computedgetteroroptions\",\"style\":{\"position\":\"relative\"}},mdx(\"a\",_extends({parentName:\"h2\"},{\"href\":\"#%E7%AC%AC%E4%BA%94%E9%98%B6%E6%AE%B5%EF%BC%9Acomputedgetteroroptions\",\"aria-label\":\"第五阶段：computedgetteroroptions permalink\",\"className\":\"anchor before\"}),mdx(\"svg\",_extends({parentName:\"a\"},{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"height\":\"16\",\"version\":\"1.1\",\"viewBox\":\"0 0 16 16\",\"width\":\"16\"}),mdx(\"path\",_extends({parentName:\"svg\"},{\"fillRule\":\"evenodd\",\"d\":\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"})))),\"\\u7B2C\\u4E94\\u9636\\u6BB5\\uFF1Acomputed(getterOrOptions)\"),mdx(\"p\",null,\"computed \\u5B9E\\u73B0\\u539F\\u7406\\uFF1A\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"Ref \\u7C7B\\u578B\"),mdx(\"li\",{parentName:\"ol\"},\"dirty \\u810F\\u68C0\\u67E5\\u4F4D\")),mdx(\"p\",null,\"\\u6240\\u4EE5\\u8BA1\\u7B97\\u5C5E\\u6027\\u5C31\\u662F\\u4E2A Ref \\u7C7B\\u578B\\u7ED3\\u679C\\u5BF9\\u8C61\\uFF0C\\u5305\\u542B(\",mdx(\"code\",_extends({parentName:\"p\"},{\"className\":\"language-text\"}),\"__v_isRef, get value(), set value()\"),\")\\uFF0C\\u6709\\u4E24\\u79CD\\u4F7F\\u7528\\u65B9\\u5F0F\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"getterOrOptions \\u662F\\u51FD\\u6570\\u90A3\\u4E48\\u5C31\\u53EA\\u4F1A\\u6709 getter\"),mdx(\"li\",{parentName:\"ol\"},\"getterOrOptions \\u662F\\u5BF9\\u8C61\\u53EF\\u4EE5\\u63D0\\u4F9B\\u81EA\\u5B9A\\u4E49\\u7684 setter \\u548C getter\")),mdx(\"p\",null,\"\\u6BCF\\u4E2A computed \\u90FD\\u6709\\u4E00\\u4E2A\\u540D\\u4E3A runner \\u7684 effect\\uFF0C\\u7528\\u6765\\u5904\\u7406\\u8BA1\\u7B97\\u5C5E\\u6027\\u6240\\u4F9D\\u8D56\\u7684\\u503C\\u7684\\u53D8\\u66F4\\u6240\\u9700\\u8981\\u4F5C\\u51FA\\u7684\\u884C\\u4E3A\\u3002\"),mdx(\"p\",null,\"\\u4E00\\u4E2A\\u8BA1\\u7B97\\u5C5E\\u6027\\u4F7F\\u7528\\u6D41\\u7A0B\\u5927\\u6982\\u662F\\u8FD9\\u6837\\u7684\\uFF1A\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"\\u53D6\\u503C\\u89E6\\u53D1 get value() \")),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"\\u68C0\\u67E5 dirty\\uFF0C\\u5982\\u679C\\u4E3A true\\uFF0C\\u8868\\u793A\\u503C\\u7531\\u8FB9\\u5219\\u8C03\\u7528 runner() \\u91CD\\u65B0\\u8BA1\\u7B97\\u65B0\\u503C\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"\\u5982\\u679C\\u4F9D\\u8D56\\u7684\\u503C\\u53D1\\u751F\\u53D8\\u66F4\\uFF0C\\u4E5F\\u4F1A\\u89E6\\u53D1 runner()\"),mdx(\"p\",{parentName:\"li\"},mdx(\"em\",{parentName:\"p\"},\"\\u56E0\\u4E3A runner \\u662F\\u4E2A effect\\uFF0C\\u5728 fn \\u91CC\\u9762\\u4F7F\\u7528\\u5176\\u4ED6\\u503C(\\u6BD4\\u5982\\uFF1A\",mdx(\"code\",_extends({parentName:\"em\"},{\"className\":\"language-text\"}),\"obj.foo\"),\")\\u4F1A\\u89E6\\u53D1\\u8FD9\\u4E9B\\u503C\\u6765\\u6536\\u96C6\\u8FD9\\u4E2A effect:runner \\u6240\\u4EE5\\u8FD9\\u4E9B\\u503C\\u6539\\u53D8\\u4F1A\\u89E6\\u53D1 runner\\u3002\"))),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"\\u5373 obj.foo++ \\u6539\\u53D8\\uFF0C\\u8C03\\u7528 trigger:set\\uFF0Ctrigger\\u7684\\u65F6\\u5019\\u68C0\\u6D4B\\u5230 runner \\u6709schudler \\u6240\\u6709\\u8C03\\u7528\\u5B83\"),mdx(\"p\",{parentName:\"li\"},mdx(\"em\",{parentName:\"p\"},\"\\u6B64\\u65F6 runner: dirty \\u5982\\u679C\\u662F false \\u60C5\\u51B5\\u4E0B\\u5C31\\u4F1A\\u89E6\\u53D1 trigger(computed, \\u2018set\\u2019, \\u2018value\\u2019)\\uFF0C\\u91CD\\u70B9\\u662F\\u4F1A\\u5C06\\u810F\\u4F4D\\u6807\\u8BC6\\u7F6E\\u4E3A dirty = true\\uFF0C\\u90A3\\u4E48\\u4E0B\\u6B21\\u53D6\\u503C\\u7684\\u65F6\\u5019\\u5C31\\u4F1A\\u77E5\\u9053\\u503C\\u53D1\\u751F\\u6539\\u53D8\\u4E86\\uFF0C\\u5C31\\u4F1A\\u89E6\\u53D1 runner() \\u91CD\\u65B0\\u8BA1\\u7B97\\u503C\\u3002\"))),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"\\u7ECF\\u8FC7\\u7B2C\\u56DB\\u90E8\\u4E4B\\u540E\\uFF0C computed.value \\u5E76\\u6CA1\\u6709\\u771F\\u6B63\\u7684\\u66F4\\u65B0\\uFF0C\\u5FC5\\u987B\\u5B83\\u88AB\\u5B9E\\u9645\\u8BBF\\u95EE\\u7684\\u65F6\\u5019\\u624D\\u4F1A\\u53BB\\u89E6\\u53D1 runner() \\u91CD\\u65B0\\u8BA1\\u7B97\\u503C\\u3002\"))),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"\\u6240\\u4EE5\\u8BF4\\u8BA1\\u7B97\\u5C5E\\u6027\\u5E76\\u4E0D\\u662F\\u5728\\u4F9D\\u8D56\\u503C\\u66F4\\u65B0\\u4E4B\\u540E\\u5C31\\u4F1A\\u7ACB\\u5373\\u53D1\\u751F\\u53D8\\u5316\\uFF0C\\u5FC5\\u987B\\u5728\\u4F9D\\u8D56\\u503C\\u53D8\\u66F4\\u4E4B\\u540E\\u88AB\\u8BBF\\u95EE\\u4E86\\u4E4B\\u540E\\u89E6\\u53D1 get value() \\u624D\\u4F1A\\u91CD\\u65B0\\u8BA1\\u7B97\\u503C\\u3002\")),mdx(\"hr\",null),mdx(\"p\",null,\"\\u4E25\\u683C\\u6765\\u8BF4\\u5E94\\u8BE5\\u4E0D\\u662F\\u6309\\u7167\\u8FD9\\u4E94\\u4E2A\\u9636\\u6BB5\\u6765\\u5B8C\\u6210\\u7684\\uFF0C\\u5176\\u5B9E\\u6700\\u8017\\u65F6\\u95F4\\u7684\\u662F\\u5728\\u7B2C\\u4E00\\u548C\\u7B2C\\u4E8C\\u9636\\u6BB5\\uFF0C\\u5C24\\u5176\\u662F\\u7B2C\\u4E8C\\u9636\\u6BB5\\u3002\"),mdx(\"p\",null,\"\\u7B2C\\u4E8C\\u9636\\u6BB5\\u8017\\u65F6\\u95F4\\u7684\\u5730\\u65B9\\u6709\\u4E24\\u4E2A\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"createGetter -> track\"),mdx(\"li\",{parentName:\"ol\"},\"createSetter -> trigger\")),mdx(\"p\",null,\"\\u4E3B\\u8981\\u65F6\\u95F4\\u82B1\\u5728\\u8FD9\\u4E24\\u4E2A\\u4E0A\\u4E86\\uFF0C\\u6240\\u4EE5\\u5982\\u679C\\u8FD8\\u53EF\\u4EE5\\u62C6\\u5206\\u9636\\u6BB5\\u80AF\\u5B9A\\u662F\\u8FD9\\u91CC\\u3002\"));};MDXContent.isMDXComponent=true;","frontmatter":{"title":"Vue3.0 源码之 Reactivity","date":"2020-06-16T00:00:00.000Z","slug":"vue-reactivity","language":"en","tags":["programming","javascript","vue3.0"],"cover":null,"imageShare":null,"translations":null}}},"pageContext":{"slug":"vue-reactivity","previous":null,"next":{"fileAbsolutePath":"/Users/simon/github/blog-gsb/content/posts/2020-06-16-algo-leetcode/index.md","frontmatter":{"title":"Algorithm on leetcode 1(算法学习 leetcode)","slug":"algo-leetcode","tags":["programming","javascript","algorithm"],"language":"en","cover":null,"unlisted":null},"timeToRead":1,"excerpt":"字符串操作 删除字符串中重复的字符 https://leetcode.com/articles/remove-all-adjacent-duplicates-in-string…"}}}}